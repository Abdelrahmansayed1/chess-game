var oN=Object.create;var ff=Object.defineProperty,sN=Object.defineProperties,aN=Object.getOwnPropertyDescriptor,cN=Object.getOwnPropertyDescriptors,lN=Object.getOwnPropertyNames,t_=Object.getOwnPropertySymbols,uN=Object.getPrototypeOf,r_=Object.prototype.hasOwnProperty,dN=Object.prototype.propertyIsEnumerable;var n_=(n,e,t)=>e in n?ff(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})r_.call(e,t)&&n_(n,t,e[t]);if(t_)for(var t of t_(e))dN.call(e,t)&&n_(n,t,e[t]);return n},Oe=(n,e)=>sN(n,cN(e));var fN=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var hN=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of lN(e))!r_.call(n,i)&&i!==t&&ff(n,i,{get:()=>e[i],enumerable:!(r=aN(e,i))||r.enumerable});return n};var pN=(n,e,t)=>(t=n!=null?oN(uN(n)):{},hN(e||!n||!n.__esModule?ff(t,"default",{value:n,enumerable:!0}):t,n));var nI=fN((Lo,da)=>{"use strict";(function(){var n,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",s="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",p=1,v=2,I=4,T=1,E=2,R=1,U=2,K=4,se=8,Gt=16,ze=32,Zn=64,Yn=128,Bo=256,$u=512,uI=30,dI="...",fI=800,hI=16,Cm=1,pI=2,gI=3,qr=1/0,Dr=9007199254740991,mI=17976931348623157e292,ma=NaN,Rn=4294967295,vI=Rn-1,yI=Rn>>>1,_I=[["ary",Yn],["bind",R],["bindKey",U],["curry",se],["curryRight",Gt],["flip",$u],["partial",ze],["partialRight",Zn],["rearg",Bo]],Mi="[object Arguments]",va="[object Array]",wI="[object AsyncFunction]",jo="[object Boolean]",Ho="[object Date]",DI="[object DOMException]",ya="[object Error]",_a="[object Function]",Em="[object GeneratorFunction]",pn="[object Map]",Vo="[object Number]",bI="[object Null]",Qn="[object Object]",Im="[object Promise]",CI="[object Proxy]",Uo="[object RegExp]",gn="[object Set]",$o="[object String]",wa="[object Symbol]",EI="[object Undefined]",Wo="[object WeakMap]",II="[object WeakSet]",zo="[object ArrayBuffer]",xi="[object DataView]",Wu="[object Float32Array]",zu="[object Float64Array]",Gu="[object Int8Array]",qu="[object Int16Array]",Ku="[object Int32Array]",Zu="[object Uint8Array]",Yu="[object Uint8ClampedArray]",Qu="[object Uint16Array]",Xu="[object Uint32Array]",SI=/\b__p \+= '';/g,TI=/\b(__p \+=) '' \+/g,MI=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sm=/&(?:amp|lt|gt|quot|#39);/g,Tm=/[&<>"']/g,xI=RegExp(Sm.source),AI=RegExp(Tm.source),RI=/<%-([\s\S]+?)%>/g,NI=/<%([\s\S]+?)%>/g,Mm=/<%=([\s\S]+?)%>/g,PI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OI=/^\w*$/,kI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ju=/[\\^$.*+?()[\]{}|]/g,FI=RegExp(Ju.source),ed=/^\s+/,LI=/\s/,BI=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jI=/\{\n\/\* \[wrapped with (.+)\] \*/,HI=/,? & /,VI=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,UI=/[()=,{}\[\]\/\s]/,$I=/\\(\\)?/g,WI=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xm=/\w*$/,zI=/^[-+]0x[0-9a-f]+$/i,GI=/^0b[01]+$/i,qI=/^\[object .+?Constructor\]$/,KI=/^0o[0-7]+$/i,ZI=/^(?:0|[1-9]\d*)$/,YI=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Da=/($^)/,QI=/['\n\r\u2028\u2029\\]/g,ba="\\ud800-\\udfff",XI="\\u0300-\\u036f",JI="\\ufe20-\\ufe2f",e0="\\u20d0-\\u20ff",Am=XI+JI+e0,Rm="\\u2700-\\u27bf",Nm="a-z\\xdf-\\xf6\\xf8-\\xff",t0="\\xac\\xb1\\xd7\\xf7",n0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",r0="\\u2000-\\u206f",i0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pm="A-Z\\xc0-\\xd6\\xd8-\\xde",Om="\\ufe0e\\ufe0f",km=t0+n0+r0+i0,td="['\u2019]",o0="["+ba+"]",Fm="["+km+"]",Ca="["+Am+"]",Lm="\\d+",s0="["+Rm+"]",Bm="["+Nm+"]",jm="[^"+ba+km+Lm+Rm+Nm+Pm+"]",nd="\\ud83c[\\udffb-\\udfff]",a0="(?:"+Ca+"|"+nd+")",Hm="[^"+ba+"]",rd="(?:\\ud83c[\\udde6-\\uddff]){2}",id="[\\ud800-\\udbff][\\udc00-\\udfff]",Ai="["+Pm+"]",Vm="\\u200d",Um="(?:"+Bm+"|"+jm+")",c0="(?:"+Ai+"|"+jm+")",$m="(?:"+td+"(?:d|ll|m|re|s|t|ve))?",Wm="(?:"+td+"(?:D|LL|M|RE|S|T|VE))?",zm=a0+"?",Gm="["+Om+"]?",l0="(?:"+Vm+"(?:"+[Hm,rd,id].join("|")+")"+Gm+zm+")*",u0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",d0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qm=Gm+zm+l0,f0="(?:"+[s0,rd,id].join("|")+")"+qm,h0="(?:"+[Hm+Ca+"?",Ca,rd,id,o0].join("|")+")",p0=RegExp(td,"g"),g0=RegExp(Ca,"g"),od=RegExp(nd+"(?="+nd+")|"+h0+qm,"g"),m0=RegExp([Ai+"?"+Bm+"+"+$m+"(?="+[Fm,Ai,"$"].join("|")+")",c0+"+"+Wm+"(?="+[Fm,Ai+Um,"$"].join("|")+")",Ai+"?"+Um+"+"+$m,Ai+"+"+Wm,d0,u0,Lm,f0].join("|"),"g"),v0=RegExp("["+Vm+ba+Am+Om+"]"),y0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],w0=-1,Fe={};Fe[Wu]=Fe[zu]=Fe[Gu]=Fe[qu]=Fe[Ku]=Fe[Zu]=Fe[Yu]=Fe[Qu]=Fe[Xu]=!0,Fe[Mi]=Fe[va]=Fe[zo]=Fe[jo]=Fe[xi]=Fe[Ho]=Fe[ya]=Fe[_a]=Fe[pn]=Fe[Vo]=Fe[Qn]=Fe[Uo]=Fe[gn]=Fe[$o]=Fe[Wo]=!1;var Pe={};Pe[Mi]=Pe[va]=Pe[zo]=Pe[xi]=Pe[jo]=Pe[Ho]=Pe[Wu]=Pe[zu]=Pe[Gu]=Pe[qu]=Pe[Ku]=Pe[pn]=Pe[Vo]=Pe[Qn]=Pe[Uo]=Pe[gn]=Pe[$o]=Pe[wa]=Pe[Zu]=Pe[Yu]=Pe[Qu]=Pe[Xu]=!0,Pe[ya]=Pe[_a]=Pe[Wo]=!1;var D0={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},b0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},C0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},E0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},I0=parseFloat,S0=parseInt,Km=typeof global=="object"&&global&&global.Object===Object&&global,T0=typeof self=="object"&&self&&self.Object===Object&&self,ot=Km||T0||Function("return this")(),sd=typeof Lo=="object"&&Lo&&!Lo.nodeType&&Lo,Kr=sd&&typeof da=="object"&&da&&!da.nodeType&&da,Zm=Kr&&Kr.exports===sd,ad=Zm&&Km.process,qt=function(){try{var D=Kr&&Kr.require&&Kr.require("util").types;return D||ad&&ad.binding&&ad.binding("util")}catch{}}(),Ym=qt&&qt.isArrayBuffer,Qm=qt&&qt.isDate,Xm=qt&&qt.isMap,Jm=qt&&qt.isRegExp,ev=qt&&qt.isSet,tv=qt&&qt.isTypedArray;function Ft(D,M,S){switch(S.length){case 0:return D.call(M);case 1:return D.call(M,S[0]);case 2:return D.call(M,S[0],S[1]);case 3:return D.call(M,S[0],S[1],S[2])}return D.apply(M,S)}function M0(D,M,S,k){for(var Z=-1,De=D==null?0:D.length;++Z<De;){var Xe=D[Z];M(k,Xe,S(Xe),D)}return k}function Kt(D,M){for(var S=-1,k=D==null?0:D.length;++S<k&&M(D[S],S,D)!==!1;);return D}function x0(D,M){for(var S=D==null?0:D.length;S--&&M(D[S],S,D)!==!1;);return D}function nv(D,M){for(var S=-1,k=D==null?0:D.length;++S<k;)if(!M(D[S],S,D))return!1;return!0}function br(D,M){for(var S=-1,k=D==null?0:D.length,Z=0,De=[];++S<k;){var Xe=D[S];M(Xe,S,D)&&(De[Z++]=Xe)}return De}function Ea(D,M){var S=D==null?0:D.length;return!!S&&Ri(D,M,0)>-1}function cd(D,M,S){for(var k=-1,Z=D==null?0:D.length;++k<Z;)if(S(M,D[k]))return!0;return!1}function Le(D,M){for(var S=-1,k=D==null?0:D.length,Z=Array(k);++S<k;)Z[S]=M(D[S],S,D);return Z}function Cr(D,M){for(var S=-1,k=M.length,Z=D.length;++S<k;)D[Z+S]=M[S];return D}function ld(D,M,S,k){var Z=-1,De=D==null?0:D.length;for(k&&De&&(S=D[++Z]);++Z<De;)S=M(S,D[Z],Z,D);return S}function A0(D,M,S,k){var Z=D==null?0:D.length;for(k&&Z&&(S=D[--Z]);Z--;)S=M(S,D[Z],Z,D);return S}function ud(D,M){for(var S=-1,k=D==null?0:D.length;++S<k;)if(M(D[S],S,D))return!0;return!1}var R0=dd("length");function N0(D){return D.split("")}function P0(D){return D.match(VI)||[]}function rv(D,M,S){var k;return S(D,function(Z,De,Xe){if(M(Z,De,Xe))return k=De,!1}),k}function Ia(D,M,S,k){for(var Z=D.length,De=S+(k?1:-1);k?De--:++De<Z;)if(M(D[De],De,D))return De;return-1}function Ri(D,M,S){return M===M?z0(D,M,S):Ia(D,iv,S)}function O0(D,M,S,k){for(var Z=S-1,De=D.length;++Z<De;)if(k(D[Z],M))return Z;return-1}function iv(D){return D!==D}function ov(D,M){var S=D==null?0:D.length;return S?hd(D,M)/S:ma}function dd(D){return function(M){return M==null?n:M[D]}}function fd(D){return function(M){return D==null?n:D[M]}}function sv(D,M,S,k,Z){return Z(D,function(De,Xe,Re){S=k?(k=!1,De):M(S,De,Xe,Re)}),S}function k0(D,M){var S=D.length;for(D.sort(M);S--;)D[S]=D[S].value;return D}function hd(D,M){for(var S,k=-1,Z=D.length;++k<Z;){var De=M(D[k]);De!==n&&(S=S===n?De:S+De)}return S}function pd(D,M){for(var S=-1,k=Array(D);++S<D;)k[S]=M(S);return k}function F0(D,M){return Le(M,function(S){return[S,D[S]]})}function av(D){return D&&D.slice(0,dv(D)+1).replace(ed,"")}function Lt(D){return function(M){return D(M)}}function gd(D,M){return Le(M,function(S){return D[S]})}function Go(D,M){return D.has(M)}function cv(D,M){for(var S=-1,k=D.length;++S<k&&Ri(M,D[S],0)>-1;);return S}function lv(D,M){for(var S=D.length;S--&&Ri(M,D[S],0)>-1;);return S}function L0(D,M){for(var S=D.length,k=0;S--;)D[S]===M&&++k;return k}var B0=fd(D0),j0=fd(b0);function H0(D){return"\\"+E0[D]}function V0(D,M){return D==null?n:D[M]}function Ni(D){return v0.test(D)}function U0(D){return y0.test(D)}function $0(D){for(var M,S=[];!(M=D.next()).done;)S.push(M.value);return S}function md(D){var M=-1,S=Array(D.size);return D.forEach(function(k,Z){S[++M]=[Z,k]}),S}function uv(D,M){return function(S){return D(M(S))}}function Er(D,M){for(var S=-1,k=D.length,Z=0,De=[];++S<k;){var Xe=D[S];(Xe===M||Xe===d)&&(D[S]=d,De[Z++]=S)}return De}function Sa(D){var M=-1,S=Array(D.size);return D.forEach(function(k){S[++M]=k}),S}function W0(D){var M=-1,S=Array(D.size);return D.forEach(function(k){S[++M]=[k,k]}),S}function z0(D,M,S){for(var k=S-1,Z=D.length;++k<Z;)if(D[k]===M)return k;return-1}function G0(D,M,S){for(var k=S+1;k--;)if(D[k]===M)return k;return k}function Pi(D){return Ni(D)?K0(D):R0(D)}function mn(D){return Ni(D)?Z0(D):N0(D)}function dv(D){for(var M=D.length;M--&&LI.test(D.charAt(M)););return M}var q0=fd(C0);function K0(D){for(var M=od.lastIndex=0;od.test(D);)++M;return M}function Z0(D){return D.match(od)||[]}function Y0(D){return D.match(m0)||[]}var Q0=function D(M){M=M==null?ot:Ir.defaults(ot.Object(),M,Ir.pick(ot,_0));var S=M.Array,k=M.Date,Z=M.Error,De=M.Function,Xe=M.Math,Re=M.Object,vd=M.RegExp,X0=M.String,Zt=M.TypeError,Ta=S.prototype,J0=De.prototype,Oi=Re.prototype,Ma=M["__core-js_shared__"],xa=J0.toString,Se=Oi.hasOwnProperty,eS=0,fv=function(){var o=/[^.]+$/.exec(Ma&&Ma.keys&&Ma.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Aa=Oi.toString,tS=xa.call(Re),nS=ot._,rS=vd("^"+xa.call(Se).replace(Ju,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ra=Zm?M.Buffer:n,Sr=M.Symbol,Na=M.Uint8Array,hv=Ra?Ra.allocUnsafe:n,Pa=uv(Re.getPrototypeOf,Re),pv=Re.create,gv=Oi.propertyIsEnumerable,Oa=Ta.splice,mv=Sr?Sr.isConcatSpreadable:n,qo=Sr?Sr.iterator:n,Zr=Sr?Sr.toStringTag:n,ka=function(){try{var o=ei(Re,"defineProperty");return o({},"",{}),o}catch{}}(),iS=M.clearTimeout!==ot.clearTimeout&&M.clearTimeout,oS=k&&k.now!==ot.Date.now&&k.now,sS=M.setTimeout!==ot.setTimeout&&M.setTimeout,Fa=Xe.ceil,La=Xe.floor,yd=Re.getOwnPropertySymbols,aS=Ra?Ra.isBuffer:n,vv=M.isFinite,cS=Ta.join,lS=uv(Re.keys,Re),Je=Xe.max,ut=Xe.min,uS=k.now,dS=M.parseInt,yv=Xe.random,fS=Ta.reverse,_d=ei(M,"DataView"),Ko=ei(M,"Map"),wd=ei(M,"Promise"),ki=ei(M,"Set"),Zo=ei(M,"WeakMap"),Yo=ei(Re,"create"),Ba=Zo&&new Zo,Fi={},hS=ti(_d),pS=ti(Ko),gS=ti(wd),mS=ti(ki),vS=ti(Zo),ja=Sr?Sr.prototype:n,Qo=ja?ja.valueOf:n,_v=ja?ja.toString:n;function g(o){if(Ue(o)&&!Q(o)&&!(o instanceof de)){if(o instanceof Yt)return o;if(Se.call(o,"__wrapped__"))return wy(o)}return new Yt(o)}var Li=function(){function o(){}return function(a){if(!Ve(a))return{};if(pv)return pv(a);o.prototype=a;var l=new o;return o.prototype=n,l}}();function Ha(){}function Yt(o,a){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}g.templateSettings={escape:RI,evaluate:NI,interpolate:Mm,variable:"",imports:{_:g}},g.prototype=Ha.prototype,g.prototype.constructor=g,Yt.prototype=Li(Ha.prototype),Yt.prototype.constructor=Yt;function de(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Rn,this.__views__=[]}function yS(){var o=new de(this.__wrapped__);return o.__actions__=bt(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=bt(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=bt(this.__views__),o}function _S(){if(this.__filtered__){var o=new de(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function wS(){var o=this.__wrapped__.value(),a=this.__dir__,l=Q(o),f=a<0,h=l?o.length:0,m=NT(0,h,this.__views__),_=m.start,w=m.end,b=w-_,x=f?w:_-1,A=this.__iteratees__,N=A.length,P=0,L=ut(b,this.__takeCount__);if(!l||!f&&h==b&&L==b)return $v(o,this.__actions__);var z=[];e:for(;b--&&P<L;){x+=a;for(var oe=-1,G=o[x];++oe<N;){var le=A[oe],he=le.iteratee,Ht=le.type,vt=he(G);if(Ht==pI)G=vt;else if(!vt){if(Ht==Cm)continue e;break e}}z[P++]=G}return z}de.prototype=Li(Ha.prototype),de.prototype.constructor=de;function Yr(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var f=o[a];this.set(f[0],f[1])}}function DS(){this.__data__=Yo?Yo(null):{},this.size=0}function bS(o){var a=this.has(o)&&delete this.__data__[o];return this.size-=a?1:0,a}function CS(o){var a=this.__data__;if(Yo){var l=a[o];return l===c?n:l}return Se.call(a,o)?a[o]:n}function ES(o){var a=this.__data__;return Yo?a[o]!==n:Se.call(a,o)}function IS(o,a){var l=this.__data__;return this.size+=this.has(o)?0:1,l[o]=Yo&&a===n?c:a,this}Yr.prototype.clear=DS,Yr.prototype.delete=bS,Yr.prototype.get=CS,Yr.prototype.has=ES,Yr.prototype.set=IS;function Xn(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var f=o[a];this.set(f[0],f[1])}}function SS(){this.__data__=[],this.size=0}function TS(o){var a=this.__data__,l=Va(a,o);if(l<0)return!1;var f=a.length-1;return l==f?a.pop():Oa.call(a,l,1),--this.size,!0}function MS(o){var a=this.__data__,l=Va(a,o);return l<0?n:a[l][1]}function xS(o){return Va(this.__data__,o)>-1}function AS(o,a){var l=this.__data__,f=Va(l,o);return f<0?(++this.size,l.push([o,a])):l[f][1]=a,this}Xn.prototype.clear=SS,Xn.prototype.delete=TS,Xn.prototype.get=MS,Xn.prototype.has=xS,Xn.prototype.set=AS;function Jn(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var f=o[a];this.set(f[0],f[1])}}function RS(){this.size=0,this.__data__={hash:new Yr,map:new(Ko||Xn),string:new Yr}}function NS(o){var a=Ja(this,o).delete(o);return this.size-=a?1:0,a}function PS(o){return Ja(this,o).get(o)}function OS(o){return Ja(this,o).has(o)}function kS(o,a){var l=Ja(this,o),f=l.size;return l.set(o,a),this.size+=l.size==f?0:1,this}Jn.prototype.clear=RS,Jn.prototype.delete=NS,Jn.prototype.get=PS,Jn.prototype.has=OS,Jn.prototype.set=kS;function Qr(o){var a=-1,l=o==null?0:o.length;for(this.__data__=new Jn;++a<l;)this.add(o[a])}function FS(o){return this.__data__.set(o,c),this}function LS(o){return this.__data__.has(o)}Qr.prototype.add=Qr.prototype.push=FS,Qr.prototype.has=LS;function vn(o){var a=this.__data__=new Xn(o);this.size=a.size}function BS(){this.__data__=new Xn,this.size=0}function jS(o){var a=this.__data__,l=a.delete(o);return this.size=a.size,l}function HS(o){return this.__data__.get(o)}function VS(o){return this.__data__.has(o)}function US(o,a){var l=this.__data__;if(l instanceof Xn){var f=l.__data__;if(!Ko||f.length<t-1)return f.push([o,a]),this.size=++l.size,this;l=this.__data__=new Jn(f)}return l.set(o,a),this.size=l.size,this}vn.prototype.clear=BS,vn.prototype.delete=jS,vn.prototype.get=HS,vn.prototype.has=VS,vn.prototype.set=US;function wv(o,a){var l=Q(o),f=!l&&ni(o),h=!l&&!f&&Rr(o),m=!l&&!f&&!h&&Vi(o),_=l||f||h||m,w=_?pd(o.length,X0):[],b=w.length;for(var x in o)(a||Se.call(o,x))&&!(_&&(x=="length"||h&&(x=="offset"||x=="parent")||m&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||rr(x,b)))&&w.push(x);return w}function Dv(o){var a=o.length;return a?o[Rd(0,a-1)]:n}function $S(o,a){return ec(bt(o),Xr(a,0,o.length))}function WS(o){return ec(bt(o))}function Dd(o,a,l){(l!==n&&!yn(o[a],l)||l===n&&!(a in o))&&er(o,a,l)}function Xo(o,a,l){var f=o[a];(!(Se.call(o,a)&&yn(f,l))||l===n&&!(a in o))&&er(o,a,l)}function Va(o,a){for(var l=o.length;l--;)if(yn(o[l][0],a))return l;return-1}function zS(o,a,l,f){return Tr(o,function(h,m,_){a(f,h,l(h),_)}),f}function bv(o,a){return o&&Pn(a,st(a),o)}function GS(o,a){return o&&Pn(a,Et(a),o)}function er(o,a,l){a=="__proto__"&&ka?ka(o,a,{configurable:!0,enumerable:!0,value:l,writable:!0}):o[a]=l}function bd(o,a){for(var l=-1,f=a.length,h=S(f),m=o==null;++l<f;)h[l]=m?n:nf(o,a[l]);return h}function Xr(o,a,l){return o===o&&(l!==n&&(o=o<=l?o:l),a!==n&&(o=o>=a?o:a)),o}function Qt(o,a,l,f,h,m){var _,w=a&p,b=a&v,x=a&I;if(l&&(_=h?l(o,f,h,m):l(o)),_!==n)return _;if(!Ve(o))return o;var A=Q(o);if(A){if(_=OT(o),!w)return bt(o,_)}else{var N=dt(o),P=N==_a||N==Em;if(Rr(o))return Gv(o,w);if(N==Qn||N==Mi||P&&!h){if(_=b||P?{}:dy(o),!w)return b?CT(o,GS(_,o)):bT(o,bv(_,o))}else{if(!Pe[N])return h?o:{};_=kT(o,N,w)}}m||(m=new vn);var L=m.get(o);if(L)return L;m.set(o,_),Hy(o)?o.forEach(function(G){_.add(Qt(G,a,l,G,o,m))}):By(o)&&o.forEach(function(G,le){_.set(le,Qt(G,a,l,le,o,m))});var z=x?b?Ud:Vd:b?Et:st,oe=A?n:z(o);return Kt(oe||o,function(G,le){oe&&(le=G,G=o[le]),Xo(_,le,Qt(G,a,l,le,o,m))}),_}function qS(o){var a=st(o);return function(l){return Cv(l,o,a)}}function Cv(o,a,l){var f=l.length;if(o==null)return!f;for(o=Re(o);f--;){var h=l[f],m=a[h],_=o[h];if(_===n&&!(h in o)||!m(_))return!1}return!0}function Ev(o,a,l){if(typeof o!="function")throw new Zt(i);return os(function(){o.apply(n,l)},a)}function Jo(o,a,l,f){var h=-1,m=Ea,_=!0,w=o.length,b=[],x=a.length;if(!w)return b;l&&(a=Le(a,Lt(l))),f?(m=cd,_=!1):a.length>=t&&(m=Go,_=!1,a=new Qr(a));e:for(;++h<w;){var A=o[h],N=l==null?A:l(A);if(A=f||A!==0?A:0,_&&N===N){for(var P=x;P--;)if(a[P]===N)continue e;b.push(A)}else m(a,N,f)||b.push(A)}return b}var Tr=Qv(Nn),Iv=Qv(Ed,!0);function KS(o,a){var l=!0;return Tr(o,function(f,h,m){return l=!!a(f,h,m),l}),l}function Ua(o,a,l){for(var f=-1,h=o.length;++f<h;){var m=o[f],_=a(m);if(_!=null&&(w===n?_===_&&!jt(_):l(_,w)))var w=_,b=m}return b}function ZS(o,a,l,f){var h=o.length;for(l=te(l),l<0&&(l=-l>h?0:h+l),f=f===n||f>h?h:te(f),f<0&&(f+=h),f=l>f?0:Uy(f);l<f;)o[l++]=a;return o}function Sv(o,a){var l=[];return Tr(o,function(f,h,m){a(f,h,m)&&l.push(f)}),l}function ct(o,a,l,f,h){var m=-1,_=o.length;for(l||(l=LT),h||(h=[]);++m<_;){var w=o[m];a>0&&l(w)?a>1?ct(w,a-1,l,f,h):Cr(h,w):f||(h[h.length]=w)}return h}var Cd=Xv(),Tv=Xv(!0);function Nn(o,a){return o&&Cd(o,a,st)}function Ed(o,a){return o&&Tv(o,a,st)}function $a(o,a){return br(a,function(l){return ir(o[l])})}function Jr(o,a){a=xr(a,o);for(var l=0,f=a.length;o!=null&&l<f;)o=o[On(a[l++])];return l&&l==f?o:n}function Mv(o,a,l){var f=a(o);return Q(o)?f:Cr(f,l(o))}function gt(o){return o==null?o===n?EI:bI:Zr&&Zr in Re(o)?RT(o):WT(o)}function Id(o,a){return o>a}function YS(o,a){return o!=null&&Se.call(o,a)}function QS(o,a){return o!=null&&a in Re(o)}function XS(o,a,l){return o>=ut(a,l)&&o<Je(a,l)}function Sd(o,a,l){for(var f=l?cd:Ea,h=o[0].length,m=o.length,_=m,w=S(m),b=1/0,x=[];_--;){var A=o[_];_&&a&&(A=Le(A,Lt(a))),b=ut(A.length,b),w[_]=!l&&(a||h>=120&&A.length>=120)?new Qr(_&&A):n}A=o[0];var N=-1,P=w[0];e:for(;++N<h&&x.length<b;){var L=A[N],z=a?a(L):L;if(L=l||L!==0?L:0,!(P?Go(P,z):f(x,z,l))){for(_=m;--_;){var oe=w[_];if(!(oe?Go(oe,z):f(o[_],z,l)))continue e}P&&P.push(z),x.push(L)}}return x}function JS(o,a,l,f){return Nn(o,function(h,m,_){a(f,l(h),m,_)}),f}function es(o,a,l){a=xr(a,o),o=gy(o,a);var f=o==null?o:o[On(Jt(a))];return f==null?n:Ft(f,o,l)}function xv(o){return Ue(o)&&gt(o)==Mi}function eT(o){return Ue(o)&&gt(o)==zo}function tT(o){return Ue(o)&&gt(o)==Ho}function ts(o,a,l,f,h){return o===a?!0:o==null||a==null||!Ue(o)&&!Ue(a)?o!==o&&a!==a:nT(o,a,l,f,ts,h)}function nT(o,a,l,f,h,m){var _=Q(o),w=Q(a),b=_?va:dt(o),x=w?va:dt(a);b=b==Mi?Qn:b,x=x==Mi?Qn:x;var A=b==Qn,N=x==Qn,P=b==x;if(P&&Rr(o)){if(!Rr(a))return!1;_=!0,A=!1}if(P&&!A)return m||(m=new vn),_||Vi(o)?cy(o,a,l,f,h,m):xT(o,a,b,l,f,h,m);if(!(l&T)){var L=A&&Se.call(o,"__wrapped__"),z=N&&Se.call(a,"__wrapped__");if(L||z){var oe=L?o.value():o,G=z?a.value():a;return m||(m=new vn),h(oe,G,l,f,m)}}return P?(m||(m=new vn),AT(o,a,l,f,h,m)):!1}function rT(o){return Ue(o)&&dt(o)==pn}function Td(o,a,l,f){var h=l.length,m=h,_=!f;if(o==null)return!m;for(o=Re(o);h--;){var w=l[h];if(_&&w[2]?w[1]!==o[w[0]]:!(w[0]in o))return!1}for(;++h<m;){w=l[h];var b=w[0],x=o[b],A=w[1];if(_&&w[2]){if(x===n&&!(b in o))return!1}else{var N=new vn;if(f)var P=f(x,A,b,o,a,N);if(!(P===n?ts(A,x,T|E,f,N):P))return!1}}return!0}function Av(o){if(!Ve(o)||jT(o))return!1;var a=ir(o)?rS:qI;return a.test(ti(o))}function iT(o){return Ue(o)&&gt(o)==Uo}function oT(o){return Ue(o)&&dt(o)==gn}function sT(o){return Ue(o)&&sc(o.length)&&!!Fe[gt(o)]}function Rv(o){return typeof o=="function"?o:o==null?It:typeof o=="object"?Q(o)?Ov(o[0],o[1]):Pv(o):Jy(o)}function Md(o){if(!is(o))return lS(o);var a=[];for(var l in Re(o))Se.call(o,l)&&l!="constructor"&&a.push(l);return a}function aT(o){if(!Ve(o))return $T(o);var a=is(o),l=[];for(var f in o)f=="constructor"&&(a||!Se.call(o,f))||l.push(f);return l}function xd(o,a){return o<a}function Nv(o,a){var l=-1,f=Ct(o)?S(o.length):[];return Tr(o,function(h,m,_){f[++l]=a(h,m,_)}),f}function Pv(o){var a=Wd(o);return a.length==1&&a[0][2]?hy(a[0][0],a[0][1]):function(l){return l===o||Td(l,o,a)}}function Ov(o,a){return Gd(o)&&fy(a)?hy(On(o),a):function(l){var f=nf(l,o);return f===n&&f===a?rf(l,o):ts(a,f,T|E)}}function Wa(o,a,l,f,h){o!==a&&Cd(a,function(m,_){if(h||(h=new vn),Ve(m))cT(o,a,_,l,Wa,f,h);else{var w=f?f(Kd(o,_),m,_+"",o,a,h):n;w===n&&(w=m),Dd(o,_,w)}},Et)}function cT(o,a,l,f,h,m,_){var w=Kd(o,l),b=Kd(a,l),x=_.get(b);if(x){Dd(o,l,x);return}var A=m?m(w,b,l+"",o,a,_):n,N=A===n;if(N){var P=Q(b),L=!P&&Rr(b),z=!P&&!L&&Vi(b);A=b,P||L||z?Q(w)?A=w:Ge(w)?A=bt(w):L?(N=!1,A=Gv(b,!0)):z?(N=!1,A=qv(b,!0)):A=[]:ss(b)||ni(b)?(A=w,ni(w)?A=$y(w):(!Ve(w)||ir(w))&&(A=dy(b))):N=!1}N&&(_.set(b,A),h(A,b,f,m,_),_.delete(b)),Dd(o,l,A)}function kv(o,a){var l=o.length;if(l)return a+=a<0?l:0,rr(a,l)?o[a]:n}function Fv(o,a,l){a.length?a=Le(a,function(m){return Q(m)?function(_){return Jr(_,m.length===1?m[0]:m)}:m}):a=[It];var f=-1;a=Le(a,Lt(W()));var h=Nv(o,function(m,_,w){var b=Le(a,function(x){return x(m)});return{criteria:b,index:++f,value:m}});return k0(h,function(m,_){return DT(m,_,l)})}function lT(o,a){return Lv(o,a,function(l,f){return rf(o,f)})}function Lv(o,a,l){for(var f=-1,h=a.length,m={};++f<h;){var _=a[f],w=Jr(o,_);l(w,_)&&ns(m,xr(_,o),w)}return m}function uT(o){return function(a){return Jr(a,o)}}function Ad(o,a,l,f){var h=f?O0:Ri,m=-1,_=a.length,w=o;for(o===a&&(a=bt(a)),l&&(w=Le(o,Lt(l)));++m<_;)for(var b=0,x=a[m],A=l?l(x):x;(b=h(w,A,b,f))>-1;)w!==o&&Oa.call(w,b,1),Oa.call(o,b,1);return o}function Bv(o,a){for(var l=o?a.length:0,f=l-1;l--;){var h=a[l];if(l==f||h!==m){var m=h;rr(h)?Oa.call(o,h,1):Od(o,h)}}return o}function Rd(o,a){return o+La(yv()*(a-o+1))}function dT(o,a,l,f){for(var h=-1,m=Je(Fa((a-o)/(l||1)),0),_=S(m);m--;)_[f?m:++h]=o,o+=l;return _}function Nd(o,a){var l="";if(!o||a<1||a>Dr)return l;do a%2&&(l+=o),a=La(a/2),a&&(o+=o);while(a);return l}function ae(o,a){return Zd(py(o,a,It),o+"")}function fT(o){return Dv(Ui(o))}function hT(o,a){var l=Ui(o);return ec(l,Xr(a,0,l.length))}function ns(o,a,l,f){if(!Ve(o))return o;a=xr(a,o);for(var h=-1,m=a.length,_=m-1,w=o;w!=null&&++h<m;){var b=On(a[h]),x=l;if(b==="__proto__"||b==="constructor"||b==="prototype")return o;if(h!=_){var A=w[b];x=f?f(A,b,w):n,x===n&&(x=Ve(A)?A:rr(a[h+1])?[]:{})}Xo(w,b,x),w=w[b]}return o}var jv=Ba?function(o,a){return Ba.set(o,a),o}:It,pT=ka?function(o,a){return ka(o,"toString",{configurable:!0,enumerable:!1,value:sf(a),writable:!0})}:It;function gT(o){return ec(Ui(o))}function Xt(o,a,l){var f=-1,h=o.length;a<0&&(a=-a>h?0:h+a),l=l>h?h:l,l<0&&(l+=h),h=a>l?0:l-a>>>0,a>>>=0;for(var m=S(h);++f<h;)m[f]=o[f+a];return m}function mT(o,a){var l;return Tr(o,function(f,h,m){return l=a(f,h,m),!l}),!!l}function za(o,a,l){var f=0,h=o==null?f:o.length;if(typeof a=="number"&&a===a&&h<=yI){for(;f<h;){var m=f+h>>>1,_=o[m];_!==null&&!jt(_)&&(l?_<=a:_<a)?f=m+1:h=m}return h}return Pd(o,a,It,l)}function Pd(o,a,l,f){var h=0,m=o==null?0:o.length;if(m===0)return 0;a=l(a);for(var _=a!==a,w=a===null,b=jt(a),x=a===n;h<m;){var A=La((h+m)/2),N=l(o[A]),P=N!==n,L=N===null,z=N===N,oe=jt(N);if(_)var G=f||z;else x?G=z&&(f||P):w?G=z&&P&&(f||!L):b?G=z&&P&&!L&&(f||!oe):L||oe?G=!1:G=f?N<=a:N<a;G?h=A+1:m=A}return ut(m,vI)}function Hv(o,a){for(var l=-1,f=o.length,h=0,m=[];++l<f;){var _=o[l],w=a?a(_):_;if(!l||!yn(w,b)){var b=w;m[h++]=_===0?0:_}}return m}function Vv(o){return typeof o=="number"?o:jt(o)?ma:+o}function Bt(o){if(typeof o=="string")return o;if(Q(o))return Le(o,Bt)+"";if(jt(o))return _v?_v.call(o):"";var a=o+"";return a=="0"&&1/o==-qr?"-0":a}function Mr(o,a,l){var f=-1,h=Ea,m=o.length,_=!0,w=[],b=w;if(l)_=!1,h=cd;else if(m>=t){var x=a?null:TT(o);if(x)return Sa(x);_=!1,h=Go,b=new Qr}else b=a?[]:w;e:for(;++f<m;){var A=o[f],N=a?a(A):A;if(A=l||A!==0?A:0,_&&N===N){for(var P=b.length;P--;)if(b[P]===N)continue e;a&&b.push(N),w.push(A)}else h(b,N,l)||(b!==w&&b.push(N),w.push(A))}return w}function Od(o,a){return a=xr(a,o),o=gy(o,a),o==null||delete o[On(Jt(a))]}function Uv(o,a,l,f){return ns(o,a,l(Jr(o,a)),f)}function Ga(o,a,l,f){for(var h=o.length,m=f?h:-1;(f?m--:++m<h)&&a(o[m],m,o););return l?Xt(o,f?0:m,f?m+1:h):Xt(o,f?m+1:0,f?h:m)}function $v(o,a){var l=o;return l instanceof de&&(l=l.value()),ld(a,function(f,h){return h.func.apply(h.thisArg,Cr([f],h.args))},l)}function kd(o,a,l){var f=o.length;if(f<2)return f?Mr(o[0]):[];for(var h=-1,m=S(f);++h<f;)for(var _=o[h],w=-1;++w<f;)w!=h&&(m[h]=Jo(m[h]||_,o[w],a,l));return Mr(ct(m,1),a,l)}function Wv(o,a,l){for(var f=-1,h=o.length,m=a.length,_={};++f<h;){var w=f<m?a[f]:n;l(_,o[f],w)}return _}function Fd(o){return Ge(o)?o:[]}function Ld(o){return typeof o=="function"?o:It}function xr(o,a){return Q(o)?o:Gd(o,a)?[o]:_y(Ee(o))}var vT=ae;function Ar(o,a,l){var f=o.length;return l=l===n?f:l,!a&&l>=f?o:Xt(o,a,l)}var zv=iS||function(o){return ot.clearTimeout(o)};function Gv(o,a){if(a)return o.slice();var l=o.length,f=hv?hv(l):new o.constructor(l);return o.copy(f),f}function Bd(o){var a=new o.constructor(o.byteLength);return new Na(a).set(new Na(o)),a}function yT(o,a){var l=a?Bd(o.buffer):o.buffer;return new o.constructor(l,o.byteOffset,o.byteLength)}function _T(o){var a=new o.constructor(o.source,xm.exec(o));return a.lastIndex=o.lastIndex,a}function wT(o){return Qo?Re(Qo.call(o)):{}}function qv(o,a){var l=a?Bd(o.buffer):o.buffer;return new o.constructor(l,o.byteOffset,o.length)}function Kv(o,a){if(o!==a){var l=o!==n,f=o===null,h=o===o,m=jt(o),_=a!==n,w=a===null,b=a===a,x=jt(a);if(!w&&!x&&!m&&o>a||m&&_&&b&&!w&&!x||f&&_&&b||!l&&b||!h)return 1;if(!f&&!m&&!x&&o<a||x&&l&&h&&!f&&!m||w&&l&&h||!_&&h||!b)return-1}return 0}function DT(o,a,l){for(var f=-1,h=o.criteria,m=a.criteria,_=h.length,w=l.length;++f<_;){var b=Kv(h[f],m[f]);if(b){if(f>=w)return b;var x=l[f];return b*(x=="desc"?-1:1)}}return o.index-a.index}function Zv(o,a,l,f){for(var h=-1,m=o.length,_=l.length,w=-1,b=a.length,x=Je(m-_,0),A=S(b+x),N=!f;++w<b;)A[w]=a[w];for(;++h<_;)(N||h<m)&&(A[l[h]]=o[h]);for(;x--;)A[w++]=o[h++];return A}function Yv(o,a,l,f){for(var h=-1,m=o.length,_=-1,w=l.length,b=-1,x=a.length,A=Je(m-w,0),N=S(A+x),P=!f;++h<A;)N[h]=o[h];for(var L=h;++b<x;)N[L+b]=a[b];for(;++_<w;)(P||h<m)&&(N[L+l[_]]=o[h++]);return N}function bt(o,a){var l=-1,f=o.length;for(a||(a=S(f));++l<f;)a[l]=o[l];return a}function Pn(o,a,l,f){var h=!l;l||(l={});for(var m=-1,_=a.length;++m<_;){var w=a[m],b=f?f(l[w],o[w],w,l,o):n;b===n&&(b=o[w]),h?er(l,w,b):Xo(l,w,b)}return l}function bT(o,a){return Pn(o,zd(o),a)}function CT(o,a){return Pn(o,ly(o),a)}function qa(o,a){return function(l,f){var h=Q(l)?M0:zS,m=a?a():{};return h(l,o,W(f,2),m)}}function Bi(o){return ae(function(a,l){var f=-1,h=l.length,m=h>1?l[h-1]:n,_=h>2?l[2]:n;for(m=o.length>3&&typeof m=="function"?(h--,m):n,_&&mt(l[0],l[1],_)&&(m=h<3?n:m,h=1),a=Re(a);++f<h;){var w=l[f];w&&o(a,w,f,m)}return a})}function Qv(o,a){return function(l,f){if(l==null)return l;if(!Ct(l))return o(l,f);for(var h=l.length,m=a?h:-1,_=Re(l);(a?m--:++m<h)&&f(_[m],m,_)!==!1;);return l}}function Xv(o){return function(a,l,f){for(var h=-1,m=Re(a),_=f(a),w=_.length;w--;){var b=_[o?w:++h];if(l(m[b],b,m)===!1)break}return a}}function ET(o,a,l){var f=a&R,h=rs(o);function m(){var _=this&&this!==ot&&this instanceof m?h:o;return _.apply(f?l:this,arguments)}return m}function Jv(o){return function(a){a=Ee(a);var l=Ni(a)?mn(a):n,f=l?l[0]:a.charAt(0),h=l?Ar(l,1).join(""):a.slice(1);return f[o]()+h}}function ji(o){return function(a){return ld(Qy(Yy(a).replace(p0,"")),o,"")}}function rs(o){return function(){var a=arguments;switch(a.length){case 0:return new o;case 1:return new o(a[0]);case 2:return new o(a[0],a[1]);case 3:return new o(a[0],a[1],a[2]);case 4:return new o(a[0],a[1],a[2],a[3]);case 5:return new o(a[0],a[1],a[2],a[3],a[4]);case 6:return new o(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new o(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var l=Li(o.prototype),f=o.apply(l,a);return Ve(f)?f:l}}function IT(o,a,l){var f=rs(o);function h(){for(var m=arguments.length,_=S(m),w=m,b=Hi(h);w--;)_[w]=arguments[w];var x=m<3&&_[0]!==b&&_[m-1]!==b?[]:Er(_,b);if(m-=x.length,m<l)return iy(o,a,Ka,h.placeholder,n,_,x,n,n,l-m);var A=this&&this!==ot&&this instanceof h?f:o;return Ft(A,this,_)}return h}function ey(o){return function(a,l,f){var h=Re(a);if(!Ct(a)){var m=W(l,3);a=st(a),l=function(w){return m(h[w],w,h)}}var _=o(a,l,f);return _>-1?h[m?a[_]:_]:n}}function ty(o){return nr(function(a){var l=a.length,f=l,h=Yt.prototype.thru;for(o&&a.reverse();f--;){var m=a[f];if(typeof m!="function")throw new Zt(i);if(h&&!_&&Xa(m)=="wrapper")var _=new Yt([],!0)}for(f=_?f:l;++f<l;){m=a[f];var w=Xa(m),b=w=="wrapper"?$d(m):n;b&&qd(b[0])&&b[1]==(Yn|se|ze|Bo)&&!b[4].length&&b[9]==1?_=_[Xa(b[0])].apply(_,b[3]):_=m.length==1&&qd(m)?_[w]():_.thru(m)}return function(){var x=arguments,A=x[0];if(_&&x.length==1&&Q(A))return _.plant(A).value();for(var N=0,P=l?a[N].apply(this,x):A;++N<l;)P=a[N].call(this,P);return P}})}function Ka(o,a,l,f,h,m,_,w,b,x){var A=a&Yn,N=a&R,P=a&U,L=a&(se|Gt),z=a&$u,oe=P?n:rs(o);function G(){for(var le=arguments.length,he=S(le),Ht=le;Ht--;)he[Ht]=arguments[Ht];if(L)var vt=Hi(G),Vt=L0(he,vt);if(f&&(he=Zv(he,f,h,L)),m&&(he=Yv(he,m,_,L)),le-=Vt,L&&le<x){var qe=Er(he,vt);return iy(o,a,Ka,G.placeholder,l,he,qe,w,b,x-le)}var _n=N?l:this,sr=P?_n[o]:o;return le=he.length,w?he=zT(he,w):z&&le>1&&he.reverse(),A&&b<le&&(he.length=b),this&&this!==ot&&this instanceof G&&(sr=oe||rs(sr)),sr.apply(_n,he)}return G}function ny(o,a){return function(l,f){return JS(l,o,a(f),{})}}function Za(o,a){return function(l,f){var h;if(l===n&&f===n)return a;if(l!==n&&(h=l),f!==n){if(h===n)return f;typeof l=="string"||typeof f=="string"?(l=Bt(l),f=Bt(f)):(l=Vv(l),f=Vv(f)),h=o(l,f)}return h}}function jd(o){return nr(function(a){return a=Le(a,Lt(W())),ae(function(l){var f=this;return o(a,function(h){return Ft(h,f,l)})})})}function Ya(o,a){a=a===n?" ":Bt(a);var l=a.length;if(l<2)return l?Nd(a,o):a;var f=Nd(a,Fa(o/Pi(a)));return Ni(a)?Ar(mn(f),0,o).join(""):f.slice(0,o)}function ST(o,a,l,f){var h=a&R,m=rs(o);function _(){for(var w=-1,b=arguments.length,x=-1,A=f.length,N=S(A+b),P=this&&this!==ot&&this instanceof _?m:o;++x<A;)N[x]=f[x];for(;b--;)N[x++]=arguments[++w];return Ft(P,h?l:this,N)}return _}function ry(o){return function(a,l,f){return f&&typeof f!="number"&&mt(a,l,f)&&(l=f=n),a=or(a),l===n?(l=a,a=0):l=or(l),f=f===n?a<l?1:-1:or(f),dT(a,l,f,o)}}function Qa(o){return function(a,l){return typeof a=="string"&&typeof l=="string"||(a=en(a),l=en(l)),o(a,l)}}function iy(o,a,l,f,h,m,_,w,b,x){var A=a&se,N=A?_:n,P=A?n:_,L=A?m:n,z=A?n:m;a|=A?ze:Zn,a&=~(A?Zn:ze),a&K||(a&=~(R|U));var oe=[o,a,h,L,N,z,P,w,b,x],G=l.apply(n,oe);return qd(o)&&my(G,oe),G.placeholder=f,vy(G,o,a)}function Hd(o){var a=Xe[o];return function(l,f){if(l=en(l),f=f==null?0:ut(te(f),292),f&&vv(l)){var h=(Ee(l)+"e").split("e"),m=a(h[0]+"e"+(+h[1]+f));return h=(Ee(m)+"e").split("e"),+(h[0]+"e"+(+h[1]-f))}return a(l)}}var TT=ki&&1/Sa(new ki([,-0]))[1]==qr?function(o){return new ki(o)}:lf;function oy(o){return function(a){var l=dt(a);return l==pn?md(a):l==gn?W0(a):F0(a,o(a))}}function tr(o,a,l,f,h,m,_,w){var b=a&U;if(!b&&typeof o!="function")throw new Zt(i);var x=f?f.length:0;if(x||(a&=~(ze|Zn),f=h=n),_=_===n?_:Je(te(_),0),w=w===n?w:te(w),x-=h?h.length:0,a&Zn){var A=f,N=h;f=h=n}var P=b?n:$d(o),L=[o,a,l,f,h,A,N,m,_,w];if(P&&UT(L,P),o=L[0],a=L[1],l=L[2],f=L[3],h=L[4],w=L[9]=L[9]===n?b?0:o.length:Je(L[9]-x,0),!w&&a&(se|Gt)&&(a&=~(se|Gt)),!a||a==R)var z=ET(o,a,l);else a==se||a==Gt?z=IT(o,a,w):(a==ze||a==(R|ze))&&!h.length?z=ST(o,a,l,f):z=Ka.apply(n,L);var oe=P?jv:my;return vy(oe(z,L),o,a)}function sy(o,a,l,f){return o===n||yn(o,Oi[l])&&!Se.call(f,l)?a:o}function ay(o,a,l,f,h,m){return Ve(o)&&Ve(a)&&(m.set(a,o),Wa(o,a,n,ay,m),m.delete(a)),o}function MT(o){return ss(o)?n:o}function cy(o,a,l,f,h,m){var _=l&T,w=o.length,b=a.length;if(w!=b&&!(_&&b>w))return!1;var x=m.get(o),A=m.get(a);if(x&&A)return x==a&&A==o;var N=-1,P=!0,L=l&E?new Qr:n;for(m.set(o,a),m.set(a,o);++N<w;){var z=o[N],oe=a[N];if(f)var G=_?f(oe,z,N,a,o,m):f(z,oe,N,o,a,m);if(G!==n){if(G)continue;P=!1;break}if(L){if(!ud(a,function(le,he){if(!Go(L,he)&&(z===le||h(z,le,l,f,m)))return L.push(he)})){P=!1;break}}else if(!(z===oe||h(z,oe,l,f,m))){P=!1;break}}return m.delete(o),m.delete(a),P}function xT(o,a,l,f,h,m,_){switch(l){case xi:if(o.byteLength!=a.byteLength||o.byteOffset!=a.byteOffset)return!1;o=o.buffer,a=a.buffer;case zo:return!(o.byteLength!=a.byteLength||!m(new Na(o),new Na(a)));case jo:case Ho:case Vo:return yn(+o,+a);case ya:return o.name==a.name&&o.message==a.message;case Uo:case $o:return o==a+"";case pn:var w=md;case gn:var b=f&T;if(w||(w=Sa),o.size!=a.size&&!b)return!1;var x=_.get(o);if(x)return x==a;f|=E,_.set(o,a);var A=cy(w(o),w(a),f,h,m,_);return _.delete(o),A;case wa:if(Qo)return Qo.call(o)==Qo.call(a)}return!1}function AT(o,a,l,f,h,m){var _=l&T,w=Vd(o),b=w.length,x=Vd(a),A=x.length;if(b!=A&&!_)return!1;for(var N=b;N--;){var P=w[N];if(!(_?P in a:Se.call(a,P)))return!1}var L=m.get(o),z=m.get(a);if(L&&z)return L==a&&z==o;var oe=!0;m.set(o,a),m.set(a,o);for(var G=_;++N<b;){P=w[N];var le=o[P],he=a[P];if(f)var Ht=_?f(he,le,P,a,o,m):f(le,he,P,o,a,m);if(!(Ht===n?le===he||h(le,he,l,f,m):Ht)){oe=!1;break}G||(G=P=="constructor")}if(oe&&!G){var vt=o.constructor,Vt=a.constructor;vt!=Vt&&"constructor"in o&&"constructor"in a&&!(typeof vt=="function"&&vt instanceof vt&&typeof Vt=="function"&&Vt instanceof Vt)&&(oe=!1)}return m.delete(o),m.delete(a),oe}function nr(o){return Zd(py(o,n,Cy),o+"")}function Vd(o){return Mv(o,st,zd)}function Ud(o){return Mv(o,Et,ly)}var $d=Ba?function(o){return Ba.get(o)}:lf;function Xa(o){for(var a=o.name+"",l=Fi[a],f=Se.call(Fi,a)?l.length:0;f--;){var h=l[f],m=h.func;if(m==null||m==o)return h.name}return a}function Hi(o){var a=Se.call(g,"placeholder")?g:o;return a.placeholder}function W(){var o=g.iteratee||af;return o=o===af?Rv:o,arguments.length?o(arguments[0],arguments[1]):o}function Ja(o,a){var l=o.__data__;return BT(a)?l[typeof a=="string"?"string":"hash"]:l.map}function Wd(o){for(var a=st(o),l=a.length;l--;){var f=a[l],h=o[f];a[l]=[f,h,fy(h)]}return a}function ei(o,a){var l=V0(o,a);return Av(l)?l:n}function RT(o){var a=Se.call(o,Zr),l=o[Zr];try{o[Zr]=n;var f=!0}catch{}var h=Aa.call(o);return f&&(a?o[Zr]=l:delete o[Zr]),h}var zd=yd?function(o){return o==null?[]:(o=Re(o),br(yd(o),function(a){return gv.call(o,a)}))}:uf,ly=yd?function(o){for(var a=[];o;)Cr(a,zd(o)),o=Pa(o);return a}:uf,dt=gt;(_d&&dt(new _d(new ArrayBuffer(1)))!=xi||Ko&&dt(new Ko)!=pn||wd&&dt(wd.resolve())!=Im||ki&&dt(new ki)!=gn||Zo&&dt(new Zo)!=Wo)&&(dt=function(o){var a=gt(o),l=a==Qn?o.constructor:n,f=l?ti(l):"";if(f)switch(f){case hS:return xi;case pS:return pn;case gS:return Im;case mS:return gn;case vS:return Wo}return a});function NT(o,a,l){for(var f=-1,h=l.length;++f<h;){var m=l[f],_=m.size;switch(m.type){case"drop":o+=_;break;case"dropRight":a-=_;break;case"take":a=ut(a,o+_);break;case"takeRight":o=Je(o,a-_);break}}return{start:o,end:a}}function PT(o){var a=o.match(jI);return a?a[1].split(HI):[]}function uy(o,a,l){a=xr(a,o);for(var f=-1,h=a.length,m=!1;++f<h;){var _=On(a[f]);if(!(m=o!=null&&l(o,_)))break;o=o[_]}return m||++f!=h?m:(h=o==null?0:o.length,!!h&&sc(h)&&rr(_,h)&&(Q(o)||ni(o)))}function OT(o){var a=o.length,l=new o.constructor(a);return a&&typeof o[0]=="string"&&Se.call(o,"index")&&(l.index=o.index,l.input=o.input),l}function dy(o){return typeof o.constructor=="function"&&!is(o)?Li(Pa(o)):{}}function kT(o,a,l){var f=o.constructor;switch(a){case zo:return Bd(o);case jo:case Ho:return new f(+o);case xi:return yT(o,l);case Wu:case zu:case Gu:case qu:case Ku:case Zu:case Yu:case Qu:case Xu:return qv(o,l);case pn:return new f;case Vo:case $o:return new f(o);case Uo:return _T(o);case gn:return new f;case wa:return wT(o)}}function FT(o,a){var l=a.length;if(!l)return o;var f=l-1;return a[f]=(l>1?"& ":"")+a[f],a=a.join(l>2?", ":" "),o.replace(BI,`{
/* [wrapped with `+a+`] */
`)}function LT(o){return Q(o)||ni(o)||!!(mv&&o&&o[mv])}function rr(o,a){var l=typeof o;return a=a??Dr,!!a&&(l=="number"||l!="symbol"&&ZI.test(o))&&o>-1&&o%1==0&&o<a}function mt(o,a,l){if(!Ve(l))return!1;var f=typeof a;return(f=="number"?Ct(l)&&rr(a,l.length):f=="string"&&a in l)?yn(l[a],o):!1}function Gd(o,a){if(Q(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||jt(o)?!0:OI.test(o)||!PI.test(o)||a!=null&&o in Re(a)}function BT(o){var a=typeof o;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?o!=="__proto__":o===null}function qd(o){var a=Xa(o),l=g[a];if(typeof l!="function"||!(a in de.prototype))return!1;if(o===l)return!0;var f=$d(l);return!!f&&o===f[0]}function jT(o){return!!fv&&fv in o}var HT=Ma?ir:df;function is(o){var a=o&&o.constructor,l=typeof a=="function"&&a.prototype||Oi;return o===l}function fy(o){return o===o&&!Ve(o)}function hy(o,a){return function(l){return l==null?!1:l[o]===a&&(a!==n||o in Re(l))}}function VT(o){var a=ic(o,function(f){return l.size===u&&l.clear(),f}),l=a.cache;return a}function UT(o,a){var l=o[1],f=a[1],h=l|f,m=h<(R|U|Yn),_=f==Yn&&l==se||f==Yn&&l==Bo&&o[7].length<=a[8]||f==(Yn|Bo)&&a[7].length<=a[8]&&l==se;if(!(m||_))return o;f&R&&(o[2]=a[2],h|=l&R?0:K);var w=a[3];if(w){var b=o[3];o[3]=b?Zv(b,w,a[4]):w,o[4]=b?Er(o[3],d):a[4]}return w=a[5],w&&(b=o[5],o[5]=b?Yv(b,w,a[6]):w,o[6]=b?Er(o[5],d):a[6]),w=a[7],w&&(o[7]=w),f&Yn&&(o[8]=o[8]==null?a[8]:ut(o[8],a[8])),o[9]==null&&(o[9]=a[9]),o[0]=a[0],o[1]=h,o}function $T(o){var a=[];if(o!=null)for(var l in Re(o))a.push(l);return a}function WT(o){return Aa.call(o)}function py(o,a,l){return a=Je(a===n?o.length-1:a,0),function(){for(var f=arguments,h=-1,m=Je(f.length-a,0),_=S(m);++h<m;)_[h]=f[a+h];h=-1;for(var w=S(a+1);++h<a;)w[h]=f[h];return w[a]=l(_),Ft(o,this,w)}}function gy(o,a){return a.length<2?o:Jr(o,Xt(a,0,-1))}function zT(o,a){for(var l=o.length,f=ut(a.length,l),h=bt(o);f--;){var m=a[f];o[f]=rr(m,l)?h[m]:n}return o}function Kd(o,a){if(!(a==="constructor"&&typeof o[a]=="function")&&a!="__proto__")return o[a]}var my=yy(jv),os=sS||function(o,a){return ot.setTimeout(o,a)},Zd=yy(pT);function vy(o,a,l){var f=a+"";return Zd(o,FT(f,GT(PT(f),l)))}function yy(o){var a=0,l=0;return function(){var f=uS(),h=hI-(f-l);if(l=f,h>0){if(++a>=fI)return arguments[0]}else a=0;return o.apply(n,arguments)}}function ec(o,a){var l=-1,f=o.length,h=f-1;for(a=a===n?f:a;++l<a;){var m=Rd(l,h),_=o[m];o[m]=o[l],o[l]=_}return o.length=a,o}var _y=VT(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(kI,function(l,f,h,m){a.push(h?m.replace($I,"$1"):f||l)}),a});function On(o){if(typeof o=="string"||jt(o))return o;var a=o+"";return a=="0"&&1/o==-qr?"-0":a}function ti(o){if(o!=null){try{return xa.call(o)}catch{}try{return o+""}catch{}}return""}function GT(o,a){return Kt(_I,function(l){var f="_."+l[0];a&l[1]&&!Ea(o,f)&&o.push(f)}),o.sort()}function wy(o){if(o instanceof de)return o.clone();var a=new Yt(o.__wrapped__,o.__chain__);return a.__actions__=bt(o.__actions__),a.__index__=o.__index__,a.__values__=o.__values__,a}function qT(o,a,l){(l?mt(o,a,l):a===n)?a=1:a=Je(te(a),0);var f=o==null?0:o.length;if(!f||a<1)return[];for(var h=0,m=0,_=S(Fa(f/a));h<f;)_[m++]=Xt(o,h,h+=a);return _}function KT(o){for(var a=-1,l=o==null?0:o.length,f=0,h=[];++a<l;){var m=o[a];m&&(h[f++]=m)}return h}function ZT(){var o=arguments.length;if(!o)return[];for(var a=S(o-1),l=arguments[0],f=o;f--;)a[f-1]=arguments[f];return Cr(Q(l)?bt(l):[l],ct(a,1))}var YT=ae(function(o,a){return Ge(o)?Jo(o,ct(a,1,Ge,!0)):[]}),QT=ae(function(o,a){var l=Jt(a);return Ge(l)&&(l=n),Ge(o)?Jo(o,ct(a,1,Ge,!0),W(l,2)):[]}),XT=ae(function(o,a){var l=Jt(a);return Ge(l)&&(l=n),Ge(o)?Jo(o,ct(a,1,Ge,!0),n,l):[]});function JT(o,a,l){var f=o==null?0:o.length;return f?(a=l||a===n?1:te(a),Xt(o,a<0?0:a,f)):[]}function eM(o,a,l){var f=o==null?0:o.length;return f?(a=l||a===n?1:te(a),a=f-a,Xt(o,0,a<0?0:a)):[]}function tM(o,a){return o&&o.length?Ga(o,W(a,3),!0,!0):[]}function nM(o,a){return o&&o.length?Ga(o,W(a,3),!0):[]}function rM(o,a,l,f){var h=o==null?0:o.length;return h?(l&&typeof l!="number"&&mt(o,a,l)&&(l=0,f=h),ZS(o,a,l,f)):[]}function Dy(o,a,l){var f=o==null?0:o.length;if(!f)return-1;var h=l==null?0:te(l);return h<0&&(h=Je(f+h,0)),Ia(o,W(a,3),h)}function by(o,a,l){var f=o==null?0:o.length;if(!f)return-1;var h=f-1;return l!==n&&(h=te(l),h=l<0?Je(f+h,0):ut(h,f-1)),Ia(o,W(a,3),h,!0)}function Cy(o){var a=o==null?0:o.length;return a?ct(o,1):[]}function iM(o){var a=o==null?0:o.length;return a?ct(o,qr):[]}function oM(o,a){var l=o==null?0:o.length;return l?(a=a===n?1:te(a),ct(o,a)):[]}function sM(o){for(var a=-1,l=o==null?0:o.length,f={};++a<l;){var h=o[a];f[h[0]]=h[1]}return f}function Ey(o){return o&&o.length?o[0]:n}function aM(o,a,l){var f=o==null?0:o.length;if(!f)return-1;var h=l==null?0:te(l);return h<0&&(h=Je(f+h,0)),Ri(o,a,h)}function cM(o){var a=o==null?0:o.length;return a?Xt(o,0,-1):[]}var lM=ae(function(o){var a=Le(o,Fd);return a.length&&a[0]===o[0]?Sd(a):[]}),uM=ae(function(o){var a=Jt(o),l=Le(o,Fd);return a===Jt(l)?a=n:l.pop(),l.length&&l[0]===o[0]?Sd(l,W(a,2)):[]}),dM=ae(function(o){var a=Jt(o),l=Le(o,Fd);return a=typeof a=="function"?a:n,a&&l.pop(),l.length&&l[0]===o[0]?Sd(l,n,a):[]});function fM(o,a){return o==null?"":cS.call(o,a)}function Jt(o){var a=o==null?0:o.length;return a?o[a-1]:n}function hM(o,a,l){var f=o==null?0:o.length;if(!f)return-1;var h=f;return l!==n&&(h=te(l),h=h<0?Je(f+h,0):ut(h,f-1)),a===a?G0(o,a,h):Ia(o,iv,h,!0)}function pM(o,a){return o&&o.length?kv(o,te(a)):n}var gM=ae(Iy);function Iy(o,a){return o&&o.length&&a&&a.length?Ad(o,a):o}function mM(o,a,l){return o&&o.length&&a&&a.length?Ad(o,a,W(l,2)):o}function vM(o,a,l){return o&&o.length&&a&&a.length?Ad(o,a,n,l):o}var yM=nr(function(o,a){var l=o==null?0:o.length,f=bd(o,a);return Bv(o,Le(a,function(h){return rr(h,l)?+h:h}).sort(Kv)),f});function _M(o,a){var l=[];if(!(o&&o.length))return l;var f=-1,h=[],m=o.length;for(a=W(a,3);++f<m;){var _=o[f];a(_,f,o)&&(l.push(_),h.push(f))}return Bv(o,h),l}function Yd(o){return o==null?o:fS.call(o)}function wM(o,a,l){var f=o==null?0:o.length;return f?(l&&typeof l!="number"&&mt(o,a,l)?(a=0,l=f):(a=a==null?0:te(a),l=l===n?f:te(l)),Xt(o,a,l)):[]}function DM(o,a){return za(o,a)}function bM(o,a,l){return Pd(o,a,W(l,2))}function CM(o,a){var l=o==null?0:o.length;if(l){var f=za(o,a);if(f<l&&yn(o[f],a))return f}return-1}function EM(o,a){return za(o,a,!0)}function IM(o,a,l){return Pd(o,a,W(l,2),!0)}function SM(o,a){var l=o==null?0:o.length;if(l){var f=za(o,a,!0)-1;if(yn(o[f],a))return f}return-1}function TM(o){return o&&o.length?Hv(o):[]}function MM(o,a){return o&&o.length?Hv(o,W(a,2)):[]}function xM(o){var a=o==null?0:o.length;return a?Xt(o,1,a):[]}function AM(o,a,l){return o&&o.length?(a=l||a===n?1:te(a),Xt(o,0,a<0?0:a)):[]}function RM(o,a,l){var f=o==null?0:o.length;return f?(a=l||a===n?1:te(a),a=f-a,Xt(o,a<0?0:a,f)):[]}function NM(o,a){return o&&o.length?Ga(o,W(a,3),!1,!0):[]}function PM(o,a){return o&&o.length?Ga(o,W(a,3)):[]}var OM=ae(function(o){return Mr(ct(o,1,Ge,!0))}),kM=ae(function(o){var a=Jt(o);return Ge(a)&&(a=n),Mr(ct(o,1,Ge,!0),W(a,2))}),FM=ae(function(o){var a=Jt(o);return a=typeof a=="function"?a:n,Mr(ct(o,1,Ge,!0),n,a)});function LM(o){return o&&o.length?Mr(o):[]}function BM(o,a){return o&&o.length?Mr(o,W(a,2)):[]}function jM(o,a){return a=typeof a=="function"?a:n,o&&o.length?Mr(o,n,a):[]}function Qd(o){if(!(o&&o.length))return[];var a=0;return o=br(o,function(l){if(Ge(l))return a=Je(l.length,a),!0}),pd(a,function(l){return Le(o,dd(l))})}function Sy(o,a){if(!(o&&o.length))return[];var l=Qd(o);return a==null?l:Le(l,function(f){return Ft(a,n,f)})}var HM=ae(function(o,a){return Ge(o)?Jo(o,a):[]}),VM=ae(function(o){return kd(br(o,Ge))}),UM=ae(function(o){var a=Jt(o);return Ge(a)&&(a=n),kd(br(o,Ge),W(a,2))}),$M=ae(function(o){var a=Jt(o);return a=typeof a=="function"?a:n,kd(br(o,Ge),n,a)}),WM=ae(Qd);function zM(o,a){return Wv(o||[],a||[],Xo)}function GM(o,a){return Wv(o||[],a||[],ns)}var qM=ae(function(o){var a=o.length,l=a>1?o[a-1]:n;return l=typeof l=="function"?(o.pop(),l):n,Sy(o,l)});function Ty(o){var a=g(o);return a.__chain__=!0,a}function KM(o,a){return a(o),o}function tc(o,a){return a(o)}var ZM=nr(function(o){var a=o.length,l=a?o[0]:0,f=this.__wrapped__,h=function(m){return bd(m,o)};return a>1||this.__actions__.length||!(f instanceof de)||!rr(l)?this.thru(h):(f=f.slice(l,+l+(a?1:0)),f.__actions__.push({func:tc,args:[h],thisArg:n}),new Yt(f,this.__chain__).thru(function(m){return a&&!m.length&&m.push(n),m}))});function YM(){return Ty(this)}function QM(){return new Yt(this.value(),this.__chain__)}function XM(){this.__values__===n&&(this.__values__=Vy(this.value()));var o=this.__index__>=this.__values__.length,a=o?n:this.__values__[this.__index__++];return{done:o,value:a}}function JM(){return this}function ex(o){for(var a,l=this;l instanceof Ha;){var f=wy(l);f.__index__=0,f.__values__=n,a?h.__wrapped__=f:a=f;var h=f;l=l.__wrapped__}return h.__wrapped__=o,a}function tx(){var o=this.__wrapped__;if(o instanceof de){var a=o;return this.__actions__.length&&(a=new de(this)),a=a.reverse(),a.__actions__.push({func:tc,args:[Yd],thisArg:n}),new Yt(a,this.__chain__)}return this.thru(Yd)}function nx(){return $v(this.__wrapped__,this.__actions__)}var rx=qa(function(o,a,l){Se.call(o,l)?++o[l]:er(o,l,1)});function ix(o,a,l){var f=Q(o)?nv:KS;return l&&mt(o,a,l)&&(a=n),f(o,W(a,3))}function ox(o,a){var l=Q(o)?br:Sv;return l(o,W(a,3))}var sx=ey(Dy),ax=ey(by);function cx(o,a){return ct(nc(o,a),1)}function lx(o,a){return ct(nc(o,a),qr)}function ux(o,a,l){return l=l===n?1:te(l),ct(nc(o,a),l)}function My(o,a){var l=Q(o)?Kt:Tr;return l(o,W(a,3))}function xy(o,a){var l=Q(o)?x0:Iv;return l(o,W(a,3))}var dx=qa(function(o,a,l){Se.call(o,l)?o[l].push(a):er(o,l,[a])});function fx(o,a,l,f){o=Ct(o)?o:Ui(o),l=l&&!f?te(l):0;var h=o.length;return l<0&&(l=Je(h+l,0)),ac(o)?l<=h&&o.indexOf(a,l)>-1:!!h&&Ri(o,a,l)>-1}var hx=ae(function(o,a,l){var f=-1,h=typeof a=="function",m=Ct(o)?S(o.length):[];return Tr(o,function(_){m[++f]=h?Ft(a,_,l):es(_,a,l)}),m}),px=qa(function(o,a,l){er(o,l,a)});function nc(o,a){var l=Q(o)?Le:Nv;return l(o,W(a,3))}function gx(o,a,l,f){return o==null?[]:(Q(a)||(a=a==null?[]:[a]),l=f?n:l,Q(l)||(l=l==null?[]:[l]),Fv(o,a,l))}var mx=qa(function(o,a,l){o[l?0:1].push(a)},function(){return[[],[]]});function vx(o,a,l){var f=Q(o)?ld:sv,h=arguments.length<3;return f(o,W(a,4),l,h,Tr)}function yx(o,a,l){var f=Q(o)?A0:sv,h=arguments.length<3;return f(o,W(a,4),l,h,Iv)}function _x(o,a){var l=Q(o)?br:Sv;return l(o,oc(W(a,3)))}function wx(o){var a=Q(o)?Dv:fT;return a(o)}function Dx(o,a,l){(l?mt(o,a,l):a===n)?a=1:a=te(a);var f=Q(o)?$S:hT;return f(o,a)}function bx(o){var a=Q(o)?WS:gT;return a(o)}function Cx(o){if(o==null)return 0;if(Ct(o))return ac(o)?Pi(o):o.length;var a=dt(o);return a==pn||a==gn?o.size:Md(o).length}function Ex(o,a,l){var f=Q(o)?ud:mT;return l&&mt(o,a,l)&&(a=n),f(o,W(a,3))}var Ix=ae(function(o,a){if(o==null)return[];var l=a.length;return l>1&&mt(o,a[0],a[1])?a=[]:l>2&&mt(a[0],a[1],a[2])&&(a=[a[0]]),Fv(o,ct(a,1),[])}),rc=oS||function(){return ot.Date.now()};function Sx(o,a){if(typeof a!="function")throw new Zt(i);return o=te(o),function(){if(--o<1)return a.apply(this,arguments)}}function Ay(o,a,l){return a=l?n:a,a=o&&a==null?o.length:a,tr(o,Yn,n,n,n,n,a)}function Ry(o,a){var l;if(typeof a!="function")throw new Zt(i);return o=te(o),function(){return--o>0&&(l=a.apply(this,arguments)),o<=1&&(a=n),l}}var Xd=ae(function(o,a,l){var f=R;if(l.length){var h=Er(l,Hi(Xd));f|=ze}return tr(o,f,a,l,h)}),Ny=ae(function(o,a,l){var f=R|U;if(l.length){var h=Er(l,Hi(Ny));f|=ze}return tr(a,f,o,l,h)});function Py(o,a,l){a=l?n:a;var f=tr(o,se,n,n,n,n,n,a);return f.placeholder=Py.placeholder,f}function Oy(o,a,l){a=l?n:a;var f=tr(o,Gt,n,n,n,n,n,a);return f.placeholder=Oy.placeholder,f}function ky(o,a,l){var f,h,m,_,w,b,x=0,A=!1,N=!1,P=!0;if(typeof o!="function")throw new Zt(i);a=en(a)||0,Ve(l)&&(A=!!l.leading,N="maxWait"in l,m=N?Je(en(l.maxWait)||0,a):m,P="trailing"in l?!!l.trailing:P);function L(qe){var _n=f,sr=h;return f=h=n,x=qe,_=o.apply(sr,_n),_}function z(qe){return x=qe,w=os(le,a),A?L(qe):_}function oe(qe){var _n=qe-b,sr=qe-x,e_=a-_n;return N?ut(e_,m-sr):e_}function G(qe){var _n=qe-b,sr=qe-x;return b===n||_n>=a||_n<0||N&&sr>=m}function le(){var qe=rc();if(G(qe))return he(qe);w=os(le,oe(qe))}function he(qe){return w=n,P&&f?L(qe):(f=h=n,_)}function Ht(){w!==n&&zv(w),x=0,f=b=h=w=n}function vt(){return w===n?_:he(rc())}function Vt(){var qe=rc(),_n=G(qe);if(f=arguments,h=this,b=qe,_n){if(w===n)return z(b);if(N)return zv(w),w=os(le,a),L(b)}return w===n&&(w=os(le,a)),_}return Vt.cancel=Ht,Vt.flush=vt,Vt}var Tx=ae(function(o,a){return Ev(o,1,a)}),Mx=ae(function(o,a,l){return Ev(o,en(a)||0,l)});function xx(o){return tr(o,$u)}function ic(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new Zt(i);var l=function(){var f=arguments,h=a?a.apply(this,f):f[0],m=l.cache;if(m.has(h))return m.get(h);var _=o.apply(this,f);return l.cache=m.set(h,_)||m,_};return l.cache=new(ic.Cache||Jn),l}ic.Cache=Jn;function oc(o){if(typeof o!="function")throw new Zt(i);return function(){var a=arguments;switch(a.length){case 0:return!o.call(this);case 1:return!o.call(this,a[0]);case 2:return!o.call(this,a[0],a[1]);case 3:return!o.call(this,a[0],a[1],a[2])}return!o.apply(this,a)}}function Ax(o){return Ry(2,o)}var Rx=vT(function(o,a){a=a.length==1&&Q(a[0])?Le(a[0],Lt(W())):Le(ct(a,1),Lt(W()));var l=a.length;return ae(function(f){for(var h=-1,m=ut(f.length,l);++h<m;)f[h]=a[h].call(this,f[h]);return Ft(o,this,f)})}),Jd=ae(function(o,a){var l=Er(a,Hi(Jd));return tr(o,ze,n,a,l)}),Fy=ae(function(o,a){var l=Er(a,Hi(Fy));return tr(o,Zn,n,a,l)}),Nx=nr(function(o,a){return tr(o,Bo,n,n,n,a)});function Px(o,a){if(typeof o!="function")throw new Zt(i);return a=a===n?a:te(a),ae(o,a)}function Ox(o,a){if(typeof o!="function")throw new Zt(i);return a=a==null?0:Je(te(a),0),ae(function(l){var f=l[a],h=Ar(l,0,a);return f&&Cr(h,f),Ft(o,this,h)})}function kx(o,a,l){var f=!0,h=!0;if(typeof o!="function")throw new Zt(i);return Ve(l)&&(f="leading"in l?!!l.leading:f,h="trailing"in l?!!l.trailing:h),ky(o,a,{leading:f,maxWait:a,trailing:h})}function Fx(o){return Ay(o,1)}function Lx(o,a){return Jd(Ld(a),o)}function Bx(){if(!arguments.length)return[];var o=arguments[0];return Q(o)?o:[o]}function jx(o){return Qt(o,I)}function Hx(o,a){return a=typeof a=="function"?a:n,Qt(o,I,a)}function Vx(o){return Qt(o,p|I)}function Ux(o,a){return a=typeof a=="function"?a:n,Qt(o,p|I,a)}function $x(o,a){return a==null||Cv(o,a,st(a))}function yn(o,a){return o===a||o!==o&&a!==a}var Wx=Qa(Id),zx=Qa(function(o,a){return o>=a}),ni=xv(function(){return arguments}())?xv:function(o){return Ue(o)&&Se.call(o,"callee")&&!gv.call(o,"callee")},Q=S.isArray,Gx=Ym?Lt(Ym):eT;function Ct(o){return o!=null&&sc(o.length)&&!ir(o)}function Ge(o){return Ue(o)&&Ct(o)}function qx(o){return o===!0||o===!1||Ue(o)&&gt(o)==jo}var Rr=aS||df,Kx=Qm?Lt(Qm):tT;function Zx(o){return Ue(o)&&o.nodeType===1&&!ss(o)}function Yx(o){if(o==null)return!0;if(Ct(o)&&(Q(o)||typeof o=="string"||typeof o.splice=="function"||Rr(o)||Vi(o)||ni(o)))return!o.length;var a=dt(o);if(a==pn||a==gn)return!o.size;if(is(o))return!Md(o).length;for(var l in o)if(Se.call(o,l))return!1;return!0}function Qx(o,a){return ts(o,a)}function Xx(o,a,l){l=typeof l=="function"?l:n;var f=l?l(o,a):n;return f===n?ts(o,a,n,l):!!f}function ef(o){if(!Ue(o))return!1;var a=gt(o);return a==ya||a==DI||typeof o.message=="string"&&typeof o.name=="string"&&!ss(o)}function Jx(o){return typeof o=="number"&&vv(o)}function ir(o){if(!Ve(o))return!1;var a=gt(o);return a==_a||a==Em||a==wI||a==CI}function Ly(o){return typeof o=="number"&&o==te(o)}function sc(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Dr}function Ve(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}function Ue(o){return o!=null&&typeof o=="object"}var By=Xm?Lt(Xm):rT;function eA(o,a){return o===a||Td(o,a,Wd(a))}function tA(o,a,l){return l=typeof l=="function"?l:n,Td(o,a,Wd(a),l)}function nA(o){return jy(o)&&o!=+o}function rA(o){if(HT(o))throw new Z(r);return Av(o)}function iA(o){return o===null}function oA(o){return o==null}function jy(o){return typeof o=="number"||Ue(o)&&gt(o)==Vo}function ss(o){if(!Ue(o)||gt(o)!=Qn)return!1;var a=Pa(o);if(a===null)return!0;var l=Se.call(a,"constructor")&&a.constructor;return typeof l=="function"&&l instanceof l&&xa.call(l)==tS}var tf=Jm?Lt(Jm):iT;function sA(o){return Ly(o)&&o>=-Dr&&o<=Dr}var Hy=ev?Lt(ev):oT;function ac(o){return typeof o=="string"||!Q(o)&&Ue(o)&&gt(o)==$o}function jt(o){return typeof o=="symbol"||Ue(o)&&gt(o)==wa}var Vi=tv?Lt(tv):sT;function aA(o){return o===n}function cA(o){return Ue(o)&&dt(o)==Wo}function lA(o){return Ue(o)&&gt(o)==II}var uA=Qa(xd),dA=Qa(function(o,a){return o<=a});function Vy(o){if(!o)return[];if(Ct(o))return ac(o)?mn(o):bt(o);if(qo&&o[qo])return $0(o[qo]());var a=dt(o),l=a==pn?md:a==gn?Sa:Ui;return l(o)}function or(o){if(!o)return o===0?o:0;if(o=en(o),o===qr||o===-qr){var a=o<0?-1:1;return a*mI}return o===o?o:0}function te(o){var a=or(o),l=a%1;return a===a?l?a-l:a:0}function Uy(o){return o?Xr(te(o),0,Rn):0}function en(o){if(typeof o=="number")return o;if(jt(o))return ma;if(Ve(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=Ve(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=av(o);var l=GI.test(o);return l||KI.test(o)?S0(o.slice(2),l?2:8):zI.test(o)?ma:+o}function $y(o){return Pn(o,Et(o))}function fA(o){return o?Xr(te(o),-Dr,Dr):o===0?o:0}function Ee(o){return o==null?"":Bt(o)}var hA=Bi(function(o,a){if(is(a)||Ct(a)){Pn(a,st(a),o);return}for(var l in a)Se.call(a,l)&&Xo(o,l,a[l])}),Wy=Bi(function(o,a){Pn(a,Et(a),o)}),cc=Bi(function(o,a,l,f){Pn(a,Et(a),o,f)}),pA=Bi(function(o,a,l,f){Pn(a,st(a),o,f)}),gA=nr(bd);function mA(o,a){var l=Li(o);return a==null?l:bv(l,a)}var vA=ae(function(o,a){o=Re(o);var l=-1,f=a.length,h=f>2?a[2]:n;for(h&&mt(a[0],a[1],h)&&(f=1);++l<f;)for(var m=a[l],_=Et(m),w=-1,b=_.length;++w<b;){var x=_[w],A=o[x];(A===n||yn(A,Oi[x])&&!Se.call(o,x))&&(o[x]=m[x])}return o}),yA=ae(function(o){return o.push(n,ay),Ft(zy,n,o)});function _A(o,a){return rv(o,W(a,3),Nn)}function wA(o,a){return rv(o,W(a,3),Ed)}function DA(o,a){return o==null?o:Cd(o,W(a,3),Et)}function bA(o,a){return o==null?o:Tv(o,W(a,3),Et)}function CA(o,a){return o&&Nn(o,W(a,3))}function EA(o,a){return o&&Ed(o,W(a,3))}function IA(o){return o==null?[]:$a(o,st(o))}function SA(o){return o==null?[]:$a(o,Et(o))}function nf(o,a,l){var f=o==null?n:Jr(o,a);return f===n?l:f}function TA(o,a){return o!=null&&uy(o,a,YS)}function rf(o,a){return o!=null&&uy(o,a,QS)}var MA=ny(function(o,a,l){a!=null&&typeof a.toString!="function"&&(a=Aa.call(a)),o[a]=l},sf(It)),xA=ny(function(o,a,l){a!=null&&typeof a.toString!="function"&&(a=Aa.call(a)),Se.call(o,a)?o[a].push(l):o[a]=[l]},W),AA=ae(es);function st(o){return Ct(o)?wv(o):Md(o)}function Et(o){return Ct(o)?wv(o,!0):aT(o)}function RA(o,a){var l={};return a=W(a,3),Nn(o,function(f,h,m){er(l,a(f,h,m),f)}),l}function NA(o,a){var l={};return a=W(a,3),Nn(o,function(f,h,m){er(l,h,a(f,h,m))}),l}var PA=Bi(function(o,a,l){Wa(o,a,l)}),zy=Bi(function(o,a,l,f){Wa(o,a,l,f)}),OA=nr(function(o,a){var l={};if(o==null)return l;var f=!1;a=Le(a,function(m){return m=xr(m,o),f||(f=m.length>1),m}),Pn(o,Ud(o),l),f&&(l=Qt(l,p|v|I,MT));for(var h=a.length;h--;)Od(l,a[h]);return l});function kA(o,a){return Gy(o,oc(W(a)))}var FA=nr(function(o,a){return o==null?{}:lT(o,a)});function Gy(o,a){if(o==null)return{};var l=Le(Ud(o),function(f){return[f]});return a=W(a),Lv(o,l,function(f,h){return a(f,h[0])})}function LA(o,a,l){a=xr(a,o);var f=-1,h=a.length;for(h||(h=1,o=n);++f<h;){var m=o==null?n:o[On(a[f])];m===n&&(f=h,m=l),o=ir(m)?m.call(o):m}return o}function BA(o,a,l){return o==null?o:ns(o,a,l)}function jA(o,a,l,f){return f=typeof f=="function"?f:n,o==null?o:ns(o,a,l,f)}var qy=oy(st),Ky=oy(Et);function HA(o,a,l){var f=Q(o),h=f||Rr(o)||Vi(o);if(a=W(a,4),l==null){var m=o&&o.constructor;h?l=f?new m:[]:Ve(o)?l=ir(m)?Li(Pa(o)):{}:l={}}return(h?Kt:Nn)(o,function(_,w,b){return a(l,_,w,b)}),l}function VA(o,a){return o==null?!0:Od(o,a)}function UA(o,a,l){return o==null?o:Uv(o,a,Ld(l))}function $A(o,a,l,f){return f=typeof f=="function"?f:n,o==null?o:Uv(o,a,Ld(l),f)}function Ui(o){return o==null?[]:gd(o,st(o))}function WA(o){return o==null?[]:gd(o,Et(o))}function zA(o,a,l){return l===n&&(l=a,a=n),l!==n&&(l=en(l),l=l===l?l:0),a!==n&&(a=en(a),a=a===a?a:0),Xr(en(o),a,l)}function GA(o,a,l){return a=or(a),l===n?(l=a,a=0):l=or(l),o=en(o),XS(o,a,l)}function qA(o,a,l){if(l&&typeof l!="boolean"&&mt(o,a,l)&&(a=l=n),l===n&&(typeof a=="boolean"?(l=a,a=n):typeof o=="boolean"&&(l=o,o=n)),o===n&&a===n?(o=0,a=1):(o=or(o),a===n?(a=o,o=0):a=or(a)),o>a){var f=o;o=a,a=f}if(l||o%1||a%1){var h=yv();return ut(o+h*(a-o+I0("1e-"+((h+"").length-1))),a)}return Rd(o,a)}var KA=ji(function(o,a,l){return a=a.toLowerCase(),o+(l?Zy(a):a)});function Zy(o){return of(Ee(o).toLowerCase())}function Yy(o){return o=Ee(o),o&&o.replace(YI,B0).replace(g0,"")}function ZA(o,a,l){o=Ee(o),a=Bt(a);var f=o.length;l=l===n?f:Xr(te(l),0,f);var h=l;return l-=a.length,l>=0&&o.slice(l,h)==a}function YA(o){return o=Ee(o),o&&AI.test(o)?o.replace(Tm,j0):o}function QA(o){return o=Ee(o),o&&FI.test(o)?o.replace(Ju,"\\$&"):o}var XA=ji(function(o,a,l){return o+(l?"-":"")+a.toLowerCase()}),JA=ji(function(o,a,l){return o+(l?" ":"")+a.toLowerCase()}),eR=Jv("toLowerCase");function tR(o,a,l){o=Ee(o),a=te(a);var f=a?Pi(o):0;if(!a||f>=a)return o;var h=(a-f)/2;return Ya(La(h),l)+o+Ya(Fa(h),l)}function nR(o,a,l){o=Ee(o),a=te(a);var f=a?Pi(o):0;return a&&f<a?o+Ya(a-f,l):o}function rR(o,a,l){o=Ee(o),a=te(a);var f=a?Pi(o):0;return a&&f<a?Ya(a-f,l)+o:o}function iR(o,a,l){return l||a==null?a=0:a&&(a=+a),dS(Ee(o).replace(ed,""),a||0)}function oR(o,a,l){return(l?mt(o,a,l):a===n)?a=1:a=te(a),Nd(Ee(o),a)}function sR(){var o=arguments,a=Ee(o[0]);return o.length<3?a:a.replace(o[1],o[2])}var aR=ji(function(o,a,l){return o+(l?"_":"")+a.toLowerCase()});function cR(o,a,l){return l&&typeof l!="number"&&mt(o,a,l)&&(a=l=n),l=l===n?Rn:l>>>0,l?(o=Ee(o),o&&(typeof a=="string"||a!=null&&!tf(a))&&(a=Bt(a),!a&&Ni(o))?Ar(mn(o),0,l):o.split(a,l)):[]}var lR=ji(function(o,a,l){return o+(l?" ":"")+of(a)});function uR(o,a,l){return o=Ee(o),l=l==null?0:Xr(te(l),0,o.length),a=Bt(a),o.slice(l,l+a.length)==a}function dR(o,a,l){var f=g.templateSettings;l&&mt(o,a,l)&&(a=n),o=Ee(o),a=cc({},a,f,sy);var h=cc({},a.imports,f.imports,sy),m=st(h),_=gd(h,m),w,b,x=0,A=a.interpolate||Da,N="__p += '",P=vd((a.escape||Da).source+"|"+A.source+"|"+(A===Mm?WI:Da).source+"|"+(a.evaluate||Da).source+"|$","g"),L="//# sourceURL="+(Se.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++w0+"]")+`
`;o.replace(P,function(G,le,he,Ht,vt,Vt){return he||(he=Ht),N+=o.slice(x,Vt).replace(QI,H0),le&&(w=!0,N+=`' +
__e(`+le+`) +
'`),vt&&(b=!0,N+=`';
`+vt+`;
__p += '`),he&&(N+=`' +
((__t = (`+he+`)) == null ? '' : __t) +
'`),x=Vt+G.length,G}),N+=`';
`;var z=Se.call(a,"variable")&&a.variable;if(!z)N=`with (obj) {
`+N+`
}
`;else if(UI.test(z))throw new Z(s);N=(b?N.replace(SI,""):N).replace(TI,"$1").replace(MI,"$1;"),N="function("+(z||"obj")+`) {
`+(z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(w?", __e = _.escape":"")+(b?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+N+`return __p
}`;var oe=Xy(function(){return De(m,L+"return "+N).apply(n,_)});if(oe.source=N,ef(oe))throw oe;return oe}function fR(o){return Ee(o).toLowerCase()}function hR(o){return Ee(o).toUpperCase()}function pR(o,a,l){if(o=Ee(o),o&&(l||a===n))return av(o);if(!o||!(a=Bt(a)))return o;var f=mn(o),h=mn(a),m=cv(f,h),_=lv(f,h)+1;return Ar(f,m,_).join("")}function gR(o,a,l){if(o=Ee(o),o&&(l||a===n))return o.slice(0,dv(o)+1);if(!o||!(a=Bt(a)))return o;var f=mn(o),h=lv(f,mn(a))+1;return Ar(f,0,h).join("")}function mR(o,a,l){if(o=Ee(o),o&&(l||a===n))return o.replace(ed,"");if(!o||!(a=Bt(a)))return o;var f=mn(o),h=cv(f,mn(a));return Ar(f,h).join("")}function vR(o,a){var l=uI,f=dI;if(Ve(a)){var h="separator"in a?a.separator:h;l="length"in a?te(a.length):l,f="omission"in a?Bt(a.omission):f}o=Ee(o);var m=o.length;if(Ni(o)){var _=mn(o);m=_.length}if(l>=m)return o;var w=l-Pi(f);if(w<1)return f;var b=_?Ar(_,0,w).join(""):o.slice(0,w);if(h===n)return b+f;if(_&&(w+=b.length-w),tf(h)){if(o.slice(w).search(h)){var x,A=b;for(h.global||(h=vd(h.source,Ee(xm.exec(h))+"g")),h.lastIndex=0;x=h.exec(A);)var N=x.index;b=b.slice(0,N===n?w:N)}}else if(o.indexOf(Bt(h),w)!=w){var P=b.lastIndexOf(h);P>-1&&(b=b.slice(0,P))}return b+f}function yR(o){return o=Ee(o),o&&xI.test(o)?o.replace(Sm,q0):o}var _R=ji(function(o,a,l){return o+(l?" ":"")+a.toUpperCase()}),of=Jv("toUpperCase");function Qy(o,a,l){return o=Ee(o),a=l?n:a,a===n?U0(o)?Y0(o):P0(o):o.match(a)||[]}var Xy=ae(function(o,a){try{return Ft(o,n,a)}catch(l){return ef(l)?l:new Z(l)}}),wR=nr(function(o,a){return Kt(a,function(l){l=On(l),er(o,l,Xd(o[l],o))}),o});function DR(o){var a=o==null?0:o.length,l=W();return o=a?Le(o,function(f){if(typeof f[1]!="function")throw new Zt(i);return[l(f[0]),f[1]]}):[],ae(function(f){for(var h=-1;++h<a;){var m=o[h];if(Ft(m[0],this,f))return Ft(m[1],this,f)}})}function bR(o){return qS(Qt(o,p))}function sf(o){return function(){return o}}function CR(o,a){return o==null||o!==o?a:o}var ER=ty(),IR=ty(!0);function It(o){return o}function af(o){return Rv(typeof o=="function"?o:Qt(o,p))}function SR(o){return Pv(Qt(o,p))}function TR(o,a){return Ov(o,Qt(a,p))}var MR=ae(function(o,a){return function(l){return es(l,o,a)}}),xR=ae(function(o,a){return function(l){return es(o,l,a)}});function cf(o,a,l){var f=st(a),h=$a(a,f);l==null&&!(Ve(a)&&(h.length||!f.length))&&(l=a,a=o,o=this,h=$a(a,st(a)));var m=!(Ve(l)&&"chain"in l)||!!l.chain,_=ir(o);return Kt(h,function(w){var b=a[w];o[w]=b,_&&(o.prototype[w]=function(){var x=this.__chain__;if(m||x){var A=o(this.__wrapped__),N=A.__actions__=bt(this.__actions__);return N.push({func:b,args:arguments,thisArg:o}),A.__chain__=x,A}return b.apply(o,Cr([this.value()],arguments))})}),o}function AR(){return ot._===this&&(ot._=nS),this}function lf(){}function RR(o){return o=te(o),ae(function(a){return kv(a,o)})}var NR=jd(Le),PR=jd(nv),OR=jd(ud);function Jy(o){return Gd(o)?dd(On(o)):uT(o)}function kR(o){return function(a){return o==null?n:Jr(o,a)}}var FR=ry(),LR=ry(!0);function uf(){return[]}function df(){return!1}function BR(){return{}}function jR(){return""}function HR(){return!0}function VR(o,a){if(o=te(o),o<1||o>Dr)return[];var l=Rn,f=ut(o,Rn);a=W(a),o-=Rn;for(var h=pd(f,a);++l<o;)a(l);return h}function UR(o){return Q(o)?Le(o,On):jt(o)?[o]:bt(_y(Ee(o)))}function $R(o){var a=++eS;return Ee(o)+a}var WR=Za(function(o,a){return o+a},0),zR=Hd("ceil"),GR=Za(function(o,a){return o/a},1),qR=Hd("floor");function KR(o){return o&&o.length?Ua(o,It,Id):n}function ZR(o,a){return o&&o.length?Ua(o,W(a,2),Id):n}function YR(o){return ov(o,It)}function QR(o,a){return ov(o,W(a,2))}function XR(o){return o&&o.length?Ua(o,It,xd):n}function JR(o,a){return o&&o.length?Ua(o,W(a,2),xd):n}var eN=Za(function(o,a){return o*a},1),tN=Hd("round"),nN=Za(function(o,a){return o-a},0);function rN(o){return o&&o.length?hd(o,It):0}function iN(o,a){return o&&o.length?hd(o,W(a,2)):0}return g.after=Sx,g.ary=Ay,g.assign=hA,g.assignIn=Wy,g.assignInWith=cc,g.assignWith=pA,g.at=gA,g.before=Ry,g.bind=Xd,g.bindAll=wR,g.bindKey=Ny,g.castArray=Bx,g.chain=Ty,g.chunk=qT,g.compact=KT,g.concat=ZT,g.cond=DR,g.conforms=bR,g.constant=sf,g.countBy=rx,g.create=mA,g.curry=Py,g.curryRight=Oy,g.debounce=ky,g.defaults=vA,g.defaultsDeep=yA,g.defer=Tx,g.delay=Mx,g.difference=YT,g.differenceBy=QT,g.differenceWith=XT,g.drop=JT,g.dropRight=eM,g.dropRightWhile=tM,g.dropWhile=nM,g.fill=rM,g.filter=ox,g.flatMap=cx,g.flatMapDeep=lx,g.flatMapDepth=ux,g.flatten=Cy,g.flattenDeep=iM,g.flattenDepth=oM,g.flip=xx,g.flow=ER,g.flowRight=IR,g.fromPairs=sM,g.functions=IA,g.functionsIn=SA,g.groupBy=dx,g.initial=cM,g.intersection=lM,g.intersectionBy=uM,g.intersectionWith=dM,g.invert=MA,g.invertBy=xA,g.invokeMap=hx,g.iteratee=af,g.keyBy=px,g.keys=st,g.keysIn=Et,g.map=nc,g.mapKeys=RA,g.mapValues=NA,g.matches=SR,g.matchesProperty=TR,g.memoize=ic,g.merge=PA,g.mergeWith=zy,g.method=MR,g.methodOf=xR,g.mixin=cf,g.negate=oc,g.nthArg=RR,g.omit=OA,g.omitBy=kA,g.once=Ax,g.orderBy=gx,g.over=NR,g.overArgs=Rx,g.overEvery=PR,g.overSome=OR,g.partial=Jd,g.partialRight=Fy,g.partition=mx,g.pick=FA,g.pickBy=Gy,g.property=Jy,g.propertyOf=kR,g.pull=gM,g.pullAll=Iy,g.pullAllBy=mM,g.pullAllWith=vM,g.pullAt=yM,g.range=FR,g.rangeRight=LR,g.rearg=Nx,g.reject=_x,g.remove=_M,g.rest=Px,g.reverse=Yd,g.sampleSize=Dx,g.set=BA,g.setWith=jA,g.shuffle=bx,g.slice=wM,g.sortBy=Ix,g.sortedUniq=TM,g.sortedUniqBy=MM,g.split=cR,g.spread=Ox,g.tail=xM,g.take=AM,g.takeRight=RM,g.takeRightWhile=NM,g.takeWhile=PM,g.tap=KM,g.throttle=kx,g.thru=tc,g.toArray=Vy,g.toPairs=qy,g.toPairsIn=Ky,g.toPath=UR,g.toPlainObject=$y,g.transform=HA,g.unary=Fx,g.union=OM,g.unionBy=kM,g.unionWith=FM,g.uniq=LM,g.uniqBy=BM,g.uniqWith=jM,g.unset=VA,g.unzip=Qd,g.unzipWith=Sy,g.update=UA,g.updateWith=$A,g.values=Ui,g.valuesIn=WA,g.without=HM,g.words=Qy,g.wrap=Lx,g.xor=VM,g.xorBy=UM,g.xorWith=$M,g.zip=WM,g.zipObject=zM,g.zipObjectDeep=GM,g.zipWith=qM,g.entries=qy,g.entriesIn=Ky,g.extend=Wy,g.extendWith=cc,cf(g,g),g.add=WR,g.attempt=Xy,g.camelCase=KA,g.capitalize=Zy,g.ceil=zR,g.clamp=zA,g.clone=jx,g.cloneDeep=Vx,g.cloneDeepWith=Ux,g.cloneWith=Hx,g.conformsTo=$x,g.deburr=Yy,g.defaultTo=CR,g.divide=GR,g.endsWith=ZA,g.eq=yn,g.escape=YA,g.escapeRegExp=QA,g.every=ix,g.find=sx,g.findIndex=Dy,g.findKey=_A,g.findLast=ax,g.findLastIndex=by,g.findLastKey=wA,g.floor=qR,g.forEach=My,g.forEachRight=xy,g.forIn=DA,g.forInRight=bA,g.forOwn=CA,g.forOwnRight=EA,g.get=nf,g.gt=Wx,g.gte=zx,g.has=TA,g.hasIn=rf,g.head=Ey,g.identity=It,g.includes=fx,g.indexOf=aM,g.inRange=GA,g.invoke=AA,g.isArguments=ni,g.isArray=Q,g.isArrayBuffer=Gx,g.isArrayLike=Ct,g.isArrayLikeObject=Ge,g.isBoolean=qx,g.isBuffer=Rr,g.isDate=Kx,g.isElement=Zx,g.isEmpty=Yx,g.isEqual=Qx,g.isEqualWith=Xx,g.isError=ef,g.isFinite=Jx,g.isFunction=ir,g.isInteger=Ly,g.isLength=sc,g.isMap=By,g.isMatch=eA,g.isMatchWith=tA,g.isNaN=nA,g.isNative=rA,g.isNil=oA,g.isNull=iA,g.isNumber=jy,g.isObject=Ve,g.isObjectLike=Ue,g.isPlainObject=ss,g.isRegExp=tf,g.isSafeInteger=sA,g.isSet=Hy,g.isString=ac,g.isSymbol=jt,g.isTypedArray=Vi,g.isUndefined=aA,g.isWeakMap=cA,g.isWeakSet=lA,g.join=fM,g.kebabCase=XA,g.last=Jt,g.lastIndexOf=hM,g.lowerCase=JA,g.lowerFirst=eR,g.lt=uA,g.lte=dA,g.max=KR,g.maxBy=ZR,g.mean=YR,g.meanBy=QR,g.min=XR,g.minBy=JR,g.stubArray=uf,g.stubFalse=df,g.stubObject=BR,g.stubString=jR,g.stubTrue=HR,g.multiply=eN,g.nth=pM,g.noConflict=AR,g.noop=lf,g.now=rc,g.pad=tR,g.padEnd=nR,g.padStart=rR,g.parseInt=iR,g.random=qA,g.reduce=vx,g.reduceRight=yx,g.repeat=oR,g.replace=sR,g.result=LA,g.round=tN,g.runInContext=D,g.sample=wx,g.size=Cx,g.snakeCase=aR,g.some=Ex,g.sortedIndex=DM,g.sortedIndexBy=bM,g.sortedIndexOf=CM,g.sortedLastIndex=EM,g.sortedLastIndexBy=IM,g.sortedLastIndexOf=SM,g.startCase=lR,g.startsWith=uR,g.subtract=nN,g.sum=rN,g.sumBy=iN,g.template=dR,g.times=VR,g.toFinite=or,g.toInteger=te,g.toLength=Uy,g.toLower=fR,g.toNumber=en,g.toSafeInteger=fA,g.toString=Ee,g.toUpper=hR,g.trim=pR,g.trimEnd=gR,g.trimStart=mR,g.truncate=vR,g.unescape=yR,g.uniqueId=$R,g.upperCase=_R,g.upperFirst=of,g.each=My,g.eachRight=xy,g.first=Ey,cf(g,function(){var o={};return Nn(g,function(a,l){Se.call(g.prototype,l)||(o[l]=a)}),o}(),{chain:!1}),g.VERSION=e,Kt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){g[o].placeholder=g}),Kt(["drop","take"],function(o,a){de.prototype[o]=function(l){l=l===n?1:Je(te(l),0);var f=this.__filtered__&&!a?new de(this):this.clone();return f.__filtered__?f.__takeCount__=ut(l,f.__takeCount__):f.__views__.push({size:ut(l,Rn),type:o+(f.__dir__<0?"Right":"")}),f},de.prototype[o+"Right"]=function(l){return this.reverse()[o](l).reverse()}}),Kt(["filter","map","takeWhile"],function(o,a){var l=a+1,f=l==Cm||l==gI;de.prototype[o]=function(h){var m=this.clone();return m.__iteratees__.push({iteratee:W(h,3),type:l}),m.__filtered__=m.__filtered__||f,m}}),Kt(["head","last"],function(o,a){var l="take"+(a?"Right":"");de.prototype[o]=function(){return this[l](1).value()[0]}}),Kt(["initial","tail"],function(o,a){var l="drop"+(a?"":"Right");de.prototype[o]=function(){return this.__filtered__?new de(this):this[l](1)}}),de.prototype.compact=function(){return this.filter(It)},de.prototype.find=function(o){return this.filter(o).head()},de.prototype.findLast=function(o){return this.reverse().find(o)},de.prototype.invokeMap=ae(function(o,a){return typeof o=="function"?new de(this):this.map(function(l){return es(l,o,a)})}),de.prototype.reject=function(o){return this.filter(oc(W(o)))},de.prototype.slice=function(o,a){o=te(o);var l=this;return l.__filtered__&&(o>0||a<0)?new de(l):(o<0?l=l.takeRight(-o):o&&(l=l.drop(o)),a!==n&&(a=te(a),l=a<0?l.dropRight(-a):l.take(a-o)),l)},de.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},de.prototype.toArray=function(){return this.take(Rn)},Nn(de.prototype,function(o,a){var l=/^(?:filter|find|map|reject)|While$/.test(a),f=/^(?:head|last)$/.test(a),h=g[f?"take"+(a=="last"?"Right":""):a],m=f||/^find/.test(a);h&&(g.prototype[a]=function(){var _=this.__wrapped__,w=f?[1]:arguments,b=_ instanceof de,x=w[0],A=b||Q(_),N=function(le){var he=h.apply(g,Cr([le],w));return f&&P?he[0]:he};A&&l&&typeof x=="function"&&x.length!=1&&(b=A=!1);var P=this.__chain__,L=!!this.__actions__.length,z=m&&!P,oe=b&&!L;if(!m&&A){_=oe?_:new de(this);var G=o.apply(_,w);return G.__actions__.push({func:tc,args:[N],thisArg:n}),new Yt(G,P)}return z&&oe?o.apply(this,w):(G=this.thru(N),z?f?G.value()[0]:G.value():G)})}),Kt(["pop","push","shift","sort","splice","unshift"],function(o){var a=Ta[o],l=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",f=/^(?:pop|shift)$/.test(o);g.prototype[o]=function(){var h=arguments;if(f&&!this.__chain__){var m=this.value();return a.apply(Q(m)?m:[],h)}return this[l](function(_){return a.apply(Q(_)?_:[],h)})}}),Nn(de.prototype,function(o,a){var l=g[a];if(l){var f=l.name+"";Se.call(Fi,f)||(Fi[f]=[]),Fi[f].push({name:a,func:l})}}),Fi[Ka(n,U).name]=[{name:"wrapper",func:n}],de.prototype.clone=yS,de.prototype.reverse=_S,de.prototype.value=wS,g.prototype.at=ZM,g.prototype.chain=YM,g.prototype.commit=QM,g.prototype.next=XM,g.prototype.plant=ex,g.prototype.reverse=tx,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=nx,g.prototype.first=g.prototype.head,qo&&(g.prototype[qo]=JM),g},Ir=Q0();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(ot._=Ir,define(function(){return Ir})):Kr?((Kr.exports=Ir)._=Ir,sd._=Ir):ot._=Ir}).call(Lo)});function i_(n,e){return Object.is(n,e)}var et=null,lc=!1,pf=1,$i=Symbol("SIGNAL");function pe(n){let e=et;return et=n,e}function gf(){return et}var uc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mf(n){if(lc)throw new Error("");if(et===null)return;et.consumerOnSignalRead(n);let e=et.nextProducerIndex++;if(fc(et),e<et.producerNode.length&&et.producerNode[e]!==n&&as(et)){let t=et.producerNode[e];dc(t,et.producerIndexOfThis[e])}et.producerNode[e]!==n&&(et.producerNode[e]=n,et.producerIndexOfThis[e]=as(et)?l_(n,et,e):0),et.producerLastReadVersion[e]=n.version}function o_(){pf++}function s_(n){if(!(as(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===pf)){if(!n.producerMustRecompute(n)&&!_f(n)){hf(n);return}n.producerRecomputeValue(n),hf(n)}}function vf(n){if(n.liveConsumerNode===void 0)return;let e=lc;lc=!0;try{for(let t of n.liveConsumerNode)t.dirty||gN(t)}finally{lc=e}}function a_(){return et?.consumerAllowSignalWrites!==!1}function gN(n){n.dirty=!0,vf(n),n.consumerMarkedDirty?.(n)}function hf(n){n.dirty=!1,n.lastCleanEpoch=pf}function yf(n){return n&&(n.nextProducerIndex=0),pe(n)}function c_(n,e){if(pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(as(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)dc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function _f(n){fc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(s_(t),r!==t.version))return!0}return!1}function wf(n){if(fc(n),as(n))for(let e=0;e<n.producerNode.length;e++)dc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function l_(n,e,t){if(u_(n),n.liveConsumerNode.length===0&&d_(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=l_(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function dc(n,e){if(u_(n),n.liveConsumerNode.length===1&&d_(n))for(let r=0;r<n.producerNode.length;r++)dc(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];fc(i),i.producerIndexOfThis[r]=e}}function as(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function fc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function u_(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function d_(n){return n.producerNode!==void 0}function mN(){throw new Error}var f_=mN;function vN(n){f_(n)}function Df(n){f_=n}var yN=null;function bf(n,e){a_()||vN(n),n.equal(n.value,e)||(n.value=e,_N(n))}var Cf=Oe(F({},uc),{equal:i_,value:void 0,kind:"signal"});function _N(n){n.version++,o_(),vf(n),yN?.()}function Ef(n){let e=pe(null);try{return n()}finally{pe(e)}}var If;function cs(){return If}function ar(n){let e=If;return If=n,e}var hc=Symbol("NotFound");function X(n){return typeof n=="function"}function Wi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var pc=Wi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ri(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var be=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof pc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{h_(s)}catch(c){e=e??[],c instanceof pc?e=[...e,...c.errors]:e.push(c)}}if(e)throw new pc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)h_(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ri(t,e)}remove(e){let{_finalizers:t}=this;t&&ri(t,e),e instanceof n&&e._removeParent(this)}};be.EMPTY=(()=>{let n=new be;return n.closed=!0,n})();var Sf=be.EMPTY;function gc(n){return n instanceof be||n&&"closed"in n&&X(n.remove)&&X(n.add)&&X(n.unsubscribe)}function h_(n){X(n)?n():n.unsubscribe()}var wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zi={setTimeout(n,e,...t){let{delegate:r}=zi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=zi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function mc(n){zi.setTimeout(()=>{let{onUnhandledError:e}=wn;if(e)e(n);else throw n})}function ls(){}var p_=Tf("C",void 0,void 0);function g_(n){return Tf("E",void 0,n)}function m_(n){return Tf("N",n,void 0)}function Tf(n,e,t){return{kind:n,value:e,error:t}}var ii=null;function Gi(n){if(wn.useDeprecatedSynchronousErrorHandling){let e=!ii;if(e&&(ii={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ii;if(ii=null,t)throw r}}else n()}function v_(n){wn.useDeprecatedSynchronousErrorHandling&&ii&&(ii.errorThrown=!0,ii.error=n)}var oi=class extends be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gc(e)&&e.add(this)):this.destination=MN}static create(e,t,r){return new qi(e,t,r)}next(e){this.isStopped?xf(m_(e),this):this._next(e)}error(e){this.isStopped?xf(g_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xf(p_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SN=Function.prototype.bind;function Mf(n,e){return SN.call(n,e)}var Af=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){vc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){vc(r)}else vc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){vc(t)}}},qi=class extends oi{constructor(e,t,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&wn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Mf(e.next,s),error:e.error&&Mf(e.error,s),complete:e.complete&&Mf(e.complete,s)}):i=e}this.destination=new Af(i)}};function vc(n){wn.useDeprecatedSynchronousErrorHandling?v_(n):mc(n)}function TN(n){throw n}function xf(n,e){let{onStoppedNotification:t}=wn;t&&zi.setTimeout(()=>t(n,e))}var MN={closed:!0,next:ls,error:TN,complete:ls};var Ki=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ut(n){return n}function Rf(...n){return Nf(n)}function Nf(n){return n.length===0?Ut:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ge=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=AN(t)?t:new qi(t,r,i);return Gi(()=>{let{operator:c,source:u}=this;s.add(c?c.call(s,u):u?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=y_(r),new r((i,s)=>{let c=new qi({next:u=>{try{t(u)}catch(d){s(d),c.unsubscribe()}},error:s,complete:i});this.subscribe(c)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ki](){return this}pipe(...t){return Nf(t)(this)}toPromise(t){return t=y_(t),new t((r,i)=>{let s;this.subscribe(c=>s=c,c=>i(c),()=>r(s))})}}return n.create=e=>new n(e),n})();function y_(n){var e;return(e=n??wn.Promise)!==null&&e!==void 0?e:Promise}function xN(n){return n&&X(n.next)&&X(n.error)&&X(n.complete)}function AN(n){return n&&n instanceof oi||xN(n)&&gc(n)}function Pf(n){return X(n?.lift)}function fe(n){return e=>{if(Pf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,e,t,r,i){return new Of(n,e,t,r,i)}var Of=class extends oi{constructor(e,t,r,i,s,c){super(e),this.onFinalize=s,this.shouldUnsubscribe=c,this._next=t?function(u){try{t(u)}catch(d){e.error(d)}}:super._next,this._error=i?function(u){try{i(u)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Zi(){return fe((n,e)=>{let t=null;n._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Yi=class extends ge{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Pf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new be;let t=this.getSubject();e.add(this.source.subscribe(ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=be.EMPTY)}return e}refCount(){return Zi()(this)}};var Qi={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=Qi;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(s=>{t=void 0,n(s)});return new be(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=Qi;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=Qi;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var __=Wi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=(()=>{class n extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new yc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new __}next(t){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Sf:(this.currentObservers=null,s.push(t),new be(()=>{this.currentObservers=null,ri(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ge;return t.source=this,t}}return n.create=(e,t)=>new yc(e,t),n})(),yc=class extends ne{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Sf}};var Be=class extends ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var kf={now(){return(kf.delegate||Date).now()},delegate:void 0};var _c=class extends be{constructor(e,t){super()}schedule(e,t=0){return this}};var us={setInterval(n,e,...t){let{delegate:r}=us;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=us;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Xi=class extends _c{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return us.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&us.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ri(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ji=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ji.now=kf.now;var eo=class extends Ji{constructor(e,t=Ji.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ds=new eo(Xi),w_=ds;var wc=class extends Xi{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Qi.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:s}=e;t!=null&&t===e._scheduled&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==t&&(Qi.cancelAnimationFrame(t),e._scheduled=void 0)}};var Dc=class extends eo{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var bc=new Dc(wc);var ft=new ge(n=>n.complete());function Cc(n){return n&&X(n.schedule)}function Ff(n){return n[n.length-1]}function D_(n){return X(Ff(n))?n.pop():void 0}function kn(n){return Cc(Ff(n))?n.pop():void 0}function b_(n,e){return typeof Ff(n)=="number"?n.pop():e}function E_(n,e,t,r){function i(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function u(v){try{p(r.next(v))}catch(I){c(I)}}function d(v){try{p(r.throw(v))}catch(I){c(I)}}function p(v){v.done?s(v.value):i(v.value).then(u,d)}p((r=r.apply(n,e||[])).next())})}function C_(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(n){return this instanceof si?(this.v=n,this):new si(n)}function I_(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(E){return function(R){return Promise.resolve(R).then(E,I)}}function u(E,R){r[E]&&(i[E]=function(U){return new Promise(function(K,se){s.push([E,U,K,se])>1||d(E,U)})},R&&(i[E]=R(i[E])))}function d(E,R){try{p(r[E](R))}catch(U){T(s[0][3],U)}}function p(E){E.value instanceof si?Promise.resolve(E.value.v).then(v,I):T(s[0][2],E)}function v(E){d("next",E)}function I(E){d("throw",E)}function T(E,R){E(R),s.shift(),s.length&&d(s[0][0],s[0][1])}}function S_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof C_=="function"?C_(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(c){return new Promise(function(u,d){c=n[s](c),i(u,d,c.done,c.value)})}}function i(s,c,u,d){Promise.resolve(d).then(function(p){s({value:p,done:u})},c)}}var Ec=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ic(n){return X(n?.then)}function Sc(n){return X(n[Ki])}function Tc(n){return Symbol.asyncIterator&&X(n?.[Symbol.asyncIterator])}function Mc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xc=RN();function Ac(n){return X(n?.[xc])}function Rc(n){return I_(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield si(t.read());if(i)return yield si(void 0);yield yield si(r)}}finally{t.releaseLock()}})}function Nc(n){return X(n?.getReader)}function $e(n){if(n instanceof ge)return n;if(n!=null){if(Sc(n))return NN(n);if(Ec(n))return PN(n);if(Ic(n))return ON(n);if(Tc(n))return T_(n);if(Ac(n))return kN(n);if(Nc(n))return FN(n)}throw Mc(n)}function NN(n){return new ge(e=>{let t=n[Ki]();if(X(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PN(n){return new ge(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ON(n){return new ge(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,mc)})}function kN(n){return new ge(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function T_(n){return new ge(e=>{LN(n,e).catch(t=>e.error(t))})}function FN(n){return T_(Rc(n))}function LN(n,e){var t,r,i,s;return E_(this,void 0,void 0,function*(){try{for(t=S_(n);r=yield t.next(),!r.done;){let c=r.value;if(e.next(c),e.closed)return}}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function St(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Pc(n,e=0){return fe((t,r)=>{t.subscribe(ue(r,i=>St(r,n,()=>r.next(i),e),()=>St(r,n,()=>r.complete(),e),i=>St(r,n,()=>r.error(i),e)))})}function Oc(n,e=0){return fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function M_(n,e){return $e(n).pipe(Oc(e),Pc(e))}function x_(n,e){return $e(n).pipe(Oc(e),Pc(e))}function A_(n,e){return new ge(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function R_(n,e){return new ge(t=>{let r;return St(t,e,()=>{r=n[xc](),St(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(c){t.error(c);return}s?t.complete():t.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function kc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ge(t=>{St(t,e,()=>{let r=n[Symbol.asyncIterator]();St(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function N_(n,e){return kc(Rc(n),e)}function P_(n,e){if(n!=null){if(Sc(n))return M_(n,e);if(Ec(n))return A_(n,e);if(Ic(n))return x_(n,e);if(Tc(n))return kc(n,e);if(Ac(n))return R_(n,e);if(Nc(n))return N_(n,e)}throw Mc(n)}function We(n,e){return e?P_(n,e):$e(n)}function Y(...n){let e=kn(n);return We(n,e)}function to(n,e){let t=X(n)?n:()=>n,r=i=>i.error(t());return new ge(e?i=>e.schedule(r,0,i):r)}function Fc(n){return!!n&&(n instanceof ge||X(n.lift)&&X(n.subscribe))}var cr=Wi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function O_(n){return n instanceof Date&&!isNaN(n)}function me(n,e){return fe((t,r)=>{let i=0;t.subscribe(ue(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:BN}=Array;function jN(n,e){return BN(e)?n(...e):n(e)}function k_(n){return me(e=>jN(n,e))}var{isArray:HN}=Array,{getPrototypeOf:VN,prototype:UN,keys:$N}=Object;function F_(n){if(n.length===1){let e=n[0];if(HN(e))return{args:e,keys:null};if(WN(e)){let t=$N(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function WN(n){return n&&typeof n=="object"&&VN(n)===UN}function L_(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Lc(...n){let e=kn(n),t=D_(n),{args:r,keys:i}=F_(n);if(r.length===0)return We([],e);let s=new ge(zN(r,e,i?c=>L_(i,c):Ut));return t?s.pipe(k_(t)):s}function zN(n,e,t=Ut){return r=>{B_(e,()=>{let{length:i}=n,s=new Array(i),c=i,u=i;for(let d=0;d<i;d++)B_(e,()=>{let p=We(n[d],e),v=!1;p.subscribe(ue(r,I=>{s[d]=I,v||(v=!0,u--),u||r.next(t(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}function B_(n,e,t){n?St(t,n,e):e()}function j_(n,e,t,r,i,s,c,u){let d=[],p=0,v=0,I=!1,T=()=>{I&&!d.length&&!p&&e.complete()},E=U=>p<r?R(U):d.push(U),R=U=>{s&&e.next(U),p++;let K=!1;$e(t(U,v++)).subscribe(ue(e,se=>{i?.(se),s?E(se):e.next(se)},()=>{K=!0},void 0,()=>{if(K)try{for(p--;d.length&&p<r;){let se=d.shift();c?St(e,c,()=>R(se)):R(se)}T()}catch(se){e.error(se)}}))};return n.subscribe(ue(e,E,()=>{I=!0,T()})),()=>{u?.()}}function tt(n,e,t=1/0){return X(e)?tt((r,i)=>me((s,c)=>e(r,s,i,c))($e(n(r,i))),t):(typeof e=="number"&&(t=e),fe((r,i)=>j_(r,i,n,t)))}function Bc(n=1/0){return tt(Ut,n)}function H_(){return Bc(1)}function no(...n){return H_()(We(n,kn(n)))}function jc(n){return new ge(e=>{$e(n()).subscribe(e)})}function Hc(n=0,e,t=w_){let r=-1;return e!=null&&(Cc(e)?t=e:r=e),new ge(i=>{let s=O_(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Lf(n=0,e=ds){return n<0&&(n=0),Hc(n,n,e)}function Vc(...n){let e=kn(n),t=b_(n,1/0),r=n;return r.length?r.length===1?$e(r[0]):Bc(t)(We(r,e)):ft}function tn(n,e){return fe((t,r)=>{let i=0;t.subscribe(ue(r,s=>n.call(e,s,i++)&&r.next(s)))})}function V_(n){return fe((e,t)=>{let r=!1,i=null,s=null,c=!1,u=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let p=i;i=null,t.next(p)}c&&t.complete()},d=()=>{s=null,c&&t.complete()};e.subscribe(ue(t,p=>{r=!0,i=p,s||$e(n(p)).subscribe(s=ue(t,u,d))},()=>{c=!0,(!r||!s||s.closed)&&t.complete()}))})}function Bf(n,e=ds){return V_(()=>Hc(n,e))}function Nr(n){return fe((e,t)=>{let r=null,i=!1,s;r=e.subscribe(ue(t,void 0,void 0,c=>{s=$e(n(c,Nr(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function U_(n,e,t,r,i){return(s,c)=>{let u=t,d=e,p=0;s.subscribe(ue(c,v=>{let I=p++;d=u?n(d,v,I):(u=!0,v),r&&c.next(d)},i&&(()=>{u&&c.next(d),c.complete()})))}}function ro(n,e){return X(e)?tt(n,e,1):tt(n,1)}function Pr(n){return fe((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function nn(n){return n<=0?()=>ft:fe((e,t)=>{let r=0;e.subscribe(ue(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Uc(n=GN){return fe((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function GN(){return new cr}function fs(n){return fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?tn((i,s)=>n(i,s,r)):Ut,nn(1),t?Pr(e):Uc(()=>new cr))}function io(n){return n<=0?()=>ft:fe((e,t)=>{let r=[];e.subscribe(ue(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function jf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?tn((i,s)=>n(i,s,r)):Ut,io(1),t?Pr(e):Uc(()=>new cr))}function Hf(n,e){return fe(U_(n,e,arguments.length>=2,!0))}function ai(...n){let e=kn(n);return fe((t,r)=>{(e?no(n,t,e):no(n,t)).subscribe(r)})}function Tt(n,e){return fe((t,r)=>{let i=null,s=0,c=!1,u=()=>c&&!i&&r.complete();t.subscribe(ue(r,d=>{i?.unsubscribe();let p=0,v=s++;$e(n(d,v)).subscribe(i=ue(r,I=>r.next(e?e(d,I,v,p++):I),()=>{i=null,u()}))},()=>{c=!0,u()}))})}function Or(n){return fe((e,t)=>{$e(n).subscribe(ue(t,()=>t.complete(),ls)),!t.closed&&e.subscribe(t)})}function nt(n,e,t){let r=X(n)||e||t?{next:n,error:e,complete:t}:n;return r?fe((i,s)=>{var c;(c=r.subscribe)===null||c===void 0||c.call(r);let u=!0;i.subscribe(ue(s,d=>{var p;(p=r.next)===null||p===void 0||p.call(r,d),s.next(d)},()=>{var d;u=!1,(d=r.complete)===null||d===void 0||d.call(r),s.complete()},d=>{var p;u=!1,(p=r.error)===null||p===void 0||p.call(r,d),s.error(d)},()=>{var d,p;u&&((d=r.unsubscribe)===null||d===void 0||d.call(r)),(p=r.finalize)===null||p===void 0||p.call(r)}))}):Ut}var Fw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super(ZN(e,t)),this.code=e}};function KN(n){return`NG0${Math.abs(n)}`}function ZN(n,e){return`${KN(n)}${e?": "+e:""}`}var Lw=Symbol("InputSignalNode#UNSET"),YN=Oe(F({},Cf),{transformFn:void 0,applyValueToInputSignal(n,e){bf(n,e)}});function Bw(n,e){let t=Object.create(YN);t.value=n,t.transformFn=e?.transform;function r(){if(mf(t),t.value===Lw){let i=null;throw new H(-950,i)}return t.value}return r[$i]=t,r}function Ss(n){return{toString:n}.toString()}var $c="__parameters__";function QN(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function jw(n,e,t){return Ss(()=>{let r=QN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let c=new i(...s);return u.annotation=c,u;function u(d,p,v){let I=d.hasOwnProperty($c)?d[$c]:Object.defineProperty(d,$c,{value:[]})[$c];for(;I.length<=v;)I.push(null);return(I[v]=I[v]||[]).push(c),d}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var vs=globalThis;function Ne(n){for(let e in n)if(n[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function xt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(xt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function $_(n,e){return n?e?`${n} ${e}`:n:e||""}var XN=Ne({__forward_ref__:Ne});function Hw(n){return n.__forward_ref__=Hw,n.toString=function(){return xt(this())},n}function yt(n){return Vw(n)?n():n}function Vw(n){return typeof n=="function"&&n.hasOwnProperty(XN)&&n.__forward_ref__===Hw}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function an(n){return{providers:n.providers||[],imports:n.imports||[]}}function Sl(n){return W_(n,$w)||W_(n,Ww)}function Uw(n){return Sl(n)!==null}function W_(n,e){return n.hasOwnProperty(e)?n[e]:null}function JN(n){let e=n&&(n[$w]||n[Ww]);return e||null}function z_(n){return n&&(n.hasOwnProperty(G_)||n.hasOwnProperty(eP))?n[G_]:null}var $w=Ne({\u0275prov:Ne}),G_=Ne({\u0275inj:Ne}),Ww=Ne({ngInjectableDef:Ne}),eP=Ne({ngInjectorDef:Ne}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zw(n){return n&&!!n.\u0275providers}var tP=Ne({\u0275cmp:Ne}),nP=Ne({\u0275dir:Ne}),rP=Ne({\u0275pipe:Ne}),iP=Ne({\u0275mod:Ne}),el=Ne({\u0275fac:Ne}),ms=Ne({__NG_ELEMENT_ID__:Ne}),q_=Ne({__NG_ENV_ID__:Ne});function Ts(n){return typeof n=="string"?n:n==null?"":String(n)}function oP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ts(n)}function Gw(n,e){throw new H(-200,n)}function Xh(n,e){throw new H(-201,!1)}var re=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(re||{}),eh;function qw(){return eh}function Mt(n){let e=eh;return eh=n,e}function Kw(n,e,t){let r=Sl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&re.Optional)return null;if(e!==void 0)return e;Xh(n,"Injector")}var sP={},ci=sP,th="__NG_DI_FLAG__",tl=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?hc:ci,r)}},nl="ngTempTokenPath",aP="ngTokenPath",cP=/\n/gm,lP="\u0275",K_="__source";function uP(n,e=re.Default){if(cs()===void 0)throw new H(-203,!1);if(cs()===null)return Kw(n,void 0,e);{let t=cs(),r;return t instanceof tl?r=t.injector:r=t,r.get(n,e&re.Optional?null:void 0,e)}}function $(n,e=re.Default){return(qw()||uP)(yt(n),e)}function O(n,e=re.Default){return $(n,Tl(e))}function Tl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function nh(n){let e=[];for(let t=0;t<n.length;t++){let r=yt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,s=re.Default;for(let c=0;c<r.length;c++){let u=r[c],d=dP(u);typeof d=="number"?d===-1?i=u.token:s|=d:i=u}e.push($(i,s))}else e.push($(r))}return e}function Zw(n,e){return n[th]=e,n.prototype[th]=e,n}function dP(n){return n[th]}function fP(n,e,t,r){let i=n[nl];throw e[K_]&&i.unshift(e[K_]),n.message=hP(`
`+n.message,i,t,r),n[aP]=i,n[nl]=null,n}function hP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==lP?n.slice(2):n;let i=xt(e);if(Array.isArray(e))i=e.map(xt).join(" -> ");else if(typeof e=="object"){let s=[];for(let c in e)if(e.hasOwnProperty(c)){let u=e[c];s.push(c+":"+(typeof u=="string"?JSON.stringify(u):xt(u)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(cP,`
  `)}`}var Yw=Zw(jw("Optional"),8);var Qw=Zw(jw("SkipSelf"),4);function ui(n,e){let t=n.hasOwnProperty(el);return t?n[el]:null}function pP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function gP(n){return n.flat(Number.POSITIVE_INFINITY)}function Jh(n,e){n.forEach(t=>Array.isArray(t)?Jh(t,e):e(t))}function Xw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function rl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function mP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function vP(n,e,t){let r=Ms(n,e);return r>=0?n[r|1]=t:(r=~r,mP(n,r,e,t)),r}function Vf(n,e){let t=Ms(n,e);if(t>=0)return n[t|1]}function Ms(n,e){return yP(n,e,1)}function yP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),c=n[s<<t];if(e===c)return s<<t;c>e?i=s:r=s+1}return~(i<<t)}var lo={},bn=[],ys=new V(""),Jw=new V("",-1),eD=new V(""),il=class{get(e,t=ci){if(t===ci){let r=new Error(`NullInjectorError: No provider for ${xt(e)}!`);throw r.name="NullInjectorError",r}return t}};function tD(n,e){let t=n[iP]||null;if(!t&&e===!0)throw new Error(`Type ${xt(n)} does not have '\u0275mod' property.`);return t}function uo(n){return n[tP]||null}function _P(n){return n[nP]||null}function wP(n){return n[rP]||null}function ep(n){return{\u0275providers:n}}function DP(...n){return{\u0275providers:nD(!0,n),\u0275fromNgModule:!0}}function nD(n,...e){let t=[],r=new Set,i,s=c=>{t.push(c)};return Jh(e,c=>{let u=c;rh(u,s,[],r)&&(i||=[],i.push(u))}),i!==void 0&&rD(i,s),t}function rD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];tp(i,s=>{e(s,r)})}}function rh(n,e,t,r){if(n=yt(n),!n)return!1;let i=null,s=z_(n),c=!s&&uo(n);if(!s&&!c){let d=n.ngModule;if(s=z_(d),s)i=d;else return!1}else{if(c&&!c.standalone)return!1;i=n}let u=r.has(i);if(c){if(u)return!1;if(r.add(i),c.dependencies){let d=typeof c.dependencies=="function"?c.dependencies():c.dependencies;for(let p of d)rh(p,e,t,r)}}else if(s){if(s.imports!=null&&!u){r.add(i);let p;try{Jh(s.imports,v=>{rh(v,e,t,r)&&(p||=[],p.push(v))})}finally{}p!==void 0&&rD(p,e)}if(!u){let p=ui(i)||(()=>new i);e({provide:i,useFactory:p,deps:bn},i),e({provide:eD,useValue:i,multi:!0},i),e({provide:ys,useValue:()=>$(i),multi:!0},i)}let d=s.providers;if(d!=null&&!u){let p=n;tp(d,v=>{e(v,p)})}}else return!1;return i!==n&&n.providers!==void 0}function tp(n,e){for(let t of n)zw(t)&&(t=t.\u0275providers),Array.isArray(t)?tp(t,e):e(t)}var bP=Ne({provide:String,useValue:Ne});function iD(n){return n!==null&&typeof n=="object"&&bP in n}function CP(n){return!!(n&&n.useExisting)}function EP(n){return!!(n&&n.useFactory)}function fo(n){return typeof n=="function"}function IP(n){return!!n.useClass}var Ml=new V(""),Kc={},Z_={},Uf;function np(){return Uf===void 0&&(Uf=new il),Uf}var on=class{},_s=class extends on{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,oh(e,c=>this.processProvider(c)),this.records.set(Jw,oo(void 0,this)),i.has("environment")&&this.records.set(on,oo(void 0,this));let s=this.records.get(Ml);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(eD,bn,re.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?hc:ci,r)}destroy(){ps(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return ps(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ps(this);let t=ar(this),r=Mt(void 0),i;try{return e()}finally{ar(t),Mt(r)}}get(e,t=ci,r=re.Default){if(ps(this),e.hasOwnProperty(q_))return e[q_](this);r=Tl(r);let i,s=ar(this),c=Mt(void 0);try{if(!(r&re.SkipSelf)){let d=this.records.get(e);if(d===void 0){let p=AP(e)&&Sl(e);p&&this.injectableDefInScope(p)?d=oo(ih(e),Kc):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,r)}let u=r&re.Self?np():this.parent;return t=r&re.Optional&&t===ci?null:t,u.get(e,t)}catch(u){if(u.name==="NullInjectorError"){if((u[nl]=u[nl]||[]).unshift(xt(e)),s)throw u;return fP(u,e,"R3InjectorError",this.source)}else throw u}finally{Mt(c),ar(s)}}resolveInjectorInitializers(){let e=pe(null),t=ar(this),r=Mt(void 0),i;try{let s=this.get(ys,bn,re.Self);for(let c of s)c()}finally{ar(t),Mt(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(xt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=yt(e);let t=fo(e)?e:yt(e&&e.provide),r=TP(e);if(!fo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=oo(void 0,Kc,!0),i.factory=()=>nh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=pe(null);try{return t.value===Z_?Gw(xt(e)):t.value===Kc&&(t.value=Z_,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&xP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=yt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ih(n){let e=Sl(n),t=e!==null?e.factory:ui(n);if(t!==null)return t;if(n instanceof V)throw new H(204,!1);if(n instanceof Function)return SP(n);throw new H(204,!1)}function SP(n){if(n.length>0)throw new H(204,!1);let t=JN(n);return t!==null?()=>t.factory(n):()=>new n}function TP(n){if(iD(n))return oo(void 0,n.useValue);{let e=oD(n);return oo(e,Kc)}}function oD(n,e,t){let r;if(fo(n)){let i=yt(n);return ui(i)||ih(i)}else if(iD(n))r=()=>yt(n.useValue);else if(EP(n))r=()=>n.useFactory(...nh(n.deps||[]));else if(CP(n))r=(i,s)=>$(yt(n.useExisting),s!==void 0&&s&re.Optional?re.Optional:void 0);else{let i=yt(n&&(n.useClass||n.provide));if(MP(n))r=()=>new i(...nh(n.deps));else return ui(i)||ih(i)}return r}function ps(n){if(n.destroyed)throw new H(205,!1)}function oo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function MP(n){return!!n.deps}function xP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function AP(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function oh(n,e){for(let t of n)Array.isArray(t)?oh(t,e):t&&zw(t)?oh(t.\u0275providers,e):e(t)}function En(n,e){let t;n instanceof _s?(ps(n),t=n):t=new tl(n);let r,i=ar(t),s=Mt(void 0);try{return e()}finally{ar(i),Mt(s)}}function RP(){return qw()!==void 0||cs()!=null}function NP(n){return typeof n=="function"}var pr=0,ce=1,J=2,ht=3,Cn=4,In=5,ol=6,sl=7,At=8,di=9,ur=10,lt=11,ws=12,Y_=13,vo=14,Ln=15,fi=16,so=17,dr=18,xl=19,sD=20,kr=21,$f=22,al=23,rn=24,Wf=25,sn=26,aD=1;var hi=7,cl=8,ho=9,$t=10;function Fr(n){return Array.isArray(n)&&typeof n[aD]=="object"}function gr(n){return Array.isArray(n)&&n[aD]===!0}function cD(n){return(n.flags&4)!==0}function yo(n){return n.componentOffset>-1}function rp(n){return(n.flags&1)===1}function Br(n){return!!n.template}function ll(n){return(n[J]&512)!==0}function _o(n){return(n[J]&256)===256}var sh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function lD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Un=(()=>{let n=()=>uD;return n.ngInherit=!0,n})();function uD(n){return n.type.prototype.ngOnChanges&&(n.setInput=OP),PP}function PP(){let n=fD(this),e=n?.current;if(e){let t=n.previous;if(t===lo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function OP(n,e,t,r,i){let s=this.declaredInputs[r],c=fD(n)||kP(n,{previous:lo,current:null}),u=c.current||(c.current={}),d=c.previous,p=d[s];u[s]=new sh(p&&p.currentValue,t,d===lo),lD(n,e,i,t)}var dD="__ngSimpleChanges__";function fD(n){return n[dD]||null}function kP(n,e){return n[dD]=e}var Q_=null;var ke=function(n,e=null,t){Q_?.(n,e,t)},hD="svg",FP="math";function Bn(n){for(;Array.isArray(n);)n=n[pr];return n}function pD(n,e){return Bn(e[n])}function $n(n,e){return Bn(e[n.index])}function gD(n,e){return n.data[e]}function mD(n,e){return n[e]}function jn(n,e){let t=e[n];return Fr(t)?t:t[pr]}function LP(n){return(n[J]&4)===4}function ip(n){return(n[J]&128)===128}function BP(n){return gr(n[ht])}function ul(n,e){return e==null?null:n[e]}function vD(n){n[so]=0}function yD(n){n[J]&1024||(n[J]|=1024,ip(n)&&Rl(n))}function jP(n,e){for(;n>0;)e=e[vo],n--;return e}function Al(n){return!!(n[J]&9216||n[rn]?.dirty)}function ah(n){n[ur].changeDetectionScheduler?.notify(8),n[J]&64&&(n[J]|=1024),Al(n)&&Rl(n)}function Rl(n){n[ur].changeDetectionScheduler?.notify(0);let e=pi(n);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!ip(e)));)e=pi(e)}function _D(n,e){if(_o(n))throw new H(911,!1);n[kr]===null&&(n[kr]=[]),n[kr].push(e)}function HP(n,e){if(n[kr]===null)return;let t=n[kr].indexOf(e);t!==-1&&n[kr].splice(t,1)}function pi(n){let e=n[ht];return gr(e)?e[ht]:e}function op(n){return n[sl]??=[]}function sp(n){return n.cleanup??=[]}function VP(n,e,t,r){let i=op(e);i.push(t),n.firstCreatePass&&sp(n).push(r,i.length-1)}var ie={lFrame:MD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ch=!1;function UP(){return ie.lFrame.elementDepthCount}function $P(){ie.lFrame.elementDepthCount++}function WP(){ie.lFrame.elementDepthCount--}function wD(){return ie.bindingsEnabled}function zP(){return ie.skipHydrationRootTNode!==null}function GP(n){return ie.skipHydrationRootTNode===n}function qP(){ie.skipHydrationRootTNode=null}function Me(){return ie.lFrame.lView}function _t(){return ie.lFrame.tView}function Ke(n){return ie.lFrame.contextLView=n,n[At]}function Ze(n){return ie.lFrame.contextLView=null,n}function cn(){let n=DD();for(;n!==null&&n.type===64;)n=n.parent;return n}function DD(){return ie.lFrame.currentTNode}function KP(){let n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function xs(n,e){let t=ie.lFrame;t.currentTNode=n,t.isParent=e}function bD(){return ie.lFrame.isParent}function ZP(){ie.lFrame.isParent=!1}function YP(){return ie.lFrame.contextLView}function CD(){return ch}function X_(n){let e=ch;return ch=n,e}function ED(){let n=ie.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function QP(n){return ie.lFrame.bindingIndex=n}function ap(){return ie.lFrame.bindingIndex++}function XP(n){let e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function JP(){return ie.lFrame.inI18n}function e1(n,e){let t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,lh(e)}function t1(){return ie.lFrame.currentDirectiveIndex}function lh(n){ie.lFrame.currentDirectiveIndex=n}function n1(n){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function ID(){return ie.lFrame.currentQueryIndex}function cp(n){ie.lFrame.currentQueryIndex=n}function r1(n){let e=n[ce];return e.type===2?e.declTNode:e.type===1?n[In]:null}function SD(n,e,t){if(t&re.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&re.Host);)if(i=r1(s),i===null||(s=s[vo],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=ie.lFrame=TD();return r.currentTNode=e,r.lView=n,!0}function lp(n){let e=TD(),t=n[ce];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function TD(){let n=ie.lFrame,e=n===null?null:n.child;return e===null?MD(n):e}function MD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function xD(){let n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var AD=xD;function up(){let n=xD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function i1(n){return(ie.lFrame.contextLView=jP(n,ie.lFrame.contextLView))[At]}function wo(){return ie.lFrame.selectedIndex}function gi(n){ie.lFrame.selectedIndex=n}function RD(){let n=ie.lFrame;return gD(n.tView,n.selectedIndex)}function As(){ie.lFrame.currentNamespace=hD}function ND(){o1()}function o1(){ie.lFrame.currentNamespace=null}function s1(){return ie.lFrame.currentNamespace}var PD=!0;function dp(){return PD}function fp(n){PD=n}function a1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let c=uD(e);(t.preOrderHooks??=[]).push(n,c),(t.preOrderCheckHooks??=[]).push(n,c)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function OD(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:u,ngAfterViewInit:d,ngAfterViewChecked:p,ngOnDestroy:v}=s;c&&(n.contentHooks??=[]).push(-t,c),u&&((n.contentHooks??=[]).push(t,u),(n.contentCheckHooks??=[]).push(t,u)),d&&(n.viewHooks??=[]).push(-t,d),p&&((n.viewHooks??=[]).push(t,p),(n.viewCheckHooks??=[]).push(t,p)),v!=null&&(n.destroyHooks??=[]).push(t,v)}}function Zc(n,e,t){kD(n,e,3,t)}function Yc(n,e,t,r){(n[J]&3)===t&&kD(n,e,t,r)}function zf(n,e){let t=n[J];(t&3)===e&&(t&=16383,t+=1,n[J]=t)}function kD(n,e,t,r){let i=r!==void 0?n[so]&65535:0,s=r??-1,c=e.length-1,u=0;for(let d=i;d<c;d++)if(typeof e[d+1]=="number"){if(u=e[d],r!=null&&u>=r)break}else e[d]<0&&(n[so]+=65536),(u<s||s==-1)&&(c1(n,t,e,d),n[so]=(n[so]&4294901760)+d+2),d++}function J_(n,e){ke(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),ke(5,n,e)}}function c1(n,e,t,r){let i=t[r]<0,s=t[r+1],c=i?-t[r]:t[r],u=n[c];i?n[J]>>14<n[so]>>16&&(n[J]&3)===e&&(n[J]+=16384,J_(u,s)):J_(u,s)}var co=-1,mi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function l1(n){return(n.flags&8)!==0}function u1(n){return(n.flags&16)!==0}function d1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],c=t[r++],u=t[r++];n.setAttribute(e,c,u,s)}else{let s=i,c=t[++r];h1(s)?n.setProperty(e,s,c):n.setAttribute(e,s,c),r++}}return r}function f1(n){return n===3||n===4||n===6}function h1(n){return n.charCodeAt(0)===64}function hp(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ew(n,t,i,null,e[++r]):ew(n,t,i,null,null))}}return n}function ew(n,e,t,r,i){let s=0,c=n.length;if(e===-1)c=-1;else for(;s<n.length;){let u=n[s++];if(typeof u=="number"){if(u===e){c=-1;break}else if(u>e){c=s-1;break}}}for(;s<n.length;){let u=n[s];if(typeof u=="number")break;if(u===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}c!==-1&&(n.splice(c,0,e),s=c+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function FD(n){return n!==co}function dl(n){return n&32767}function p1(n){return n>>16}function fl(n,e){let t=p1(n),r=e;for(;t>0;)r=r[vo],t--;return r}var uh=!0;function hl(n){let e=uh;return uh=n,e}var g1=256,LD=g1-1,BD=5,m1=0,Fn={};function v1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ms)&&(r=t[ms]),r==null&&(r=t[ms]=m1++);let i=r&LD,s=1<<i;e.data[n+(i>>BD)]|=s}function pl(n,e){let t=jD(n,e);if(t!==-1)return t;let r=e[ce];r.firstCreatePass&&(n.injectorIndex=e.length,Gf(r.data,n),Gf(e,null),Gf(r.blueprint,null));let i=pp(n,e),s=n.injectorIndex;if(FD(i)){let c=dl(i),u=fl(i,e),d=u[ce].data;for(let p=0;p<8;p++)e[s+p]=u[c+p]|d[c+p]}return e[s+8]=i,s}function Gf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function jD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function pp(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=WD(i),r===null)return co;if(t++,i=i[vo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return co}function dh(n,e,t){v1(n,e,t)}function HD(n,e,t){if(t&re.Optional||n!==void 0)return n;Xh(e,"NodeInjector")}function VD(n,e,t,r){if(t&re.Optional&&r===void 0&&(r=null),(t&(re.Self|re.Host))===0){let i=n[di],s=Mt(void 0);try{return i?i.get(e,r,t&re.Optional):Kw(e,r,t&re.Optional)}finally{Mt(s)}}return HD(r,e,t)}function UD(n,e,t,r=re.Default,i){if(n!==null){if(e[J]&2048&&!(r&re.Self)){let c=D1(n,e,t,r,Fn);if(c!==Fn)return c}let s=$D(n,e,t,r,Fn);if(s!==Fn)return s}return VD(e,t,r,i)}function $D(n,e,t,r,i){let s=_1(t);if(typeof s=="function"){if(!SD(e,n,r))return r&re.Host?HD(i,t,r):VD(e,t,r,i);try{let c;if(c=s(r),c==null&&!(r&re.Optional))Xh(t);else return c}finally{AD()}}else if(typeof s=="number"){let c=null,u=jD(n,e),d=co,p=r&re.Host?e[Ln][In]:null;for((u===-1||r&re.SkipSelf)&&(d=u===-1?pp(n,e):e[u+8],d===co||!nw(r,!1)?u=-1:(c=e[ce],u=dl(d),e=fl(d,e)));u!==-1;){let v=e[ce];if(tw(s,u,v.data)){let I=y1(u,e,t,c,r,p);if(I!==Fn)return I}d=e[u+8],d!==co&&nw(r,e[ce].data[u+8]===p)&&tw(s,u,e)?(c=v,u=dl(d),e=fl(d,e)):u=-1}}return i}function y1(n,e,t,r,i,s){let c=e[ce],u=c.data[n+8],d=r==null?yo(u)&&uh:r!=c&&(u.type&3)!==0,p=i&re.Host&&s===u,v=Qc(u,c,t,d,p);return v!==null?Ds(e,c,v,u,i):Fn}function Qc(n,e,t,r,i){let s=n.providerIndexes,c=e.data,u=s&1048575,d=n.directiveStart,p=n.directiveEnd,v=s>>20,I=r?u:u+v,T=i?u+v:p;for(let E=I;E<T;E++){let R=c[E];if(E<d&&t===R||E>=d&&R.type===t)return E}if(i){let E=c[d];if(E&&Br(E)&&E.type===t)return d}return null}function Ds(n,e,t,r,i){let s=n[t],c=e.data;if(s instanceof mi){let u=s;u.resolving&&Gw(oP(c[t]));let d=hl(u.canSeeViewProviders);u.resolving=!0;let p,v=u.injectImpl?Mt(u.injectImpl):null,I=SD(n,r,re.Default);try{s=n[t]=u.factory(void 0,i,c,n,r),e.firstCreatePass&&t>=r.directiveStart&&a1(t,c[t],e)}finally{v!==null&&Mt(v),hl(d),u.resolving=!1,AD()}}return s}function _1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ms)?n[ms]:void 0;return typeof e=="number"?e>=0?e&LD:w1:e}function tw(n,e,t){let r=1<<n;return!!(t[e+(n>>BD)]&r)}function nw(n,e){return!(n&re.Self)&&!(n&re.Host&&e)}var li=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return UD(this._tNode,this._lView,e,Tl(r),t)}};function w1(){return new li(cn(),Me())}function gp(n){return Ss(()=>{let e=n.prototype.constructor,t=e[el]||fh(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[el]||fh(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function fh(n){return Vw(n)?()=>{let e=fh(yt(n));return e&&e()}:ui(n)}function D1(n,e,t,r,i){let s=n,c=e;for(;s!==null&&c!==null&&c[J]&2048&&!ll(c);){let u=$D(s,c,t,r|re.Self,Fn);if(u!==Fn)return u;let d=s.parent;if(!d){let p=c[sD];if(p){let v=p.get(t,Fn,r);if(v!==Fn)return v}d=WD(c),c=c[vo]}s=d}return i}function WD(n){let e=n[ce],t=e.type;return t===2?e.declTNode:t===1?n[In]:null}function rw(n,e=null,t=null,r){let i=zD(n,e,t,r);return i.resolveInjectorInitializers(),i}function zD(n,e=null,t=null,r,i=new Set){let s=[t||bn,DP(n)];return r=r||(typeof n=="object"?void 0:xt(n)),new _s(s,e||np(),r||null,i)}var Lr=class n{static THROW_IF_NOT_FOUND=ci;static NULL=new il;static create(e,t){if(Array.isArray(e))return rw({name:""},t,e,"");{let r=e.name??"";return rw({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>$(Jw)});static __NG_ELEMENT_ID__=-1};var b1=new V("");b1.__NG_ELEMENT_ID__=n=>{let e=cn();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&re.Optional)return null;throw new H(204,!1)};var GD=!1,Nl=(()=>{class n{static __NG_ELEMENT_ID__=C1;static __NG_ENV_ID__=t=>t}return n})(),hh=class extends Nl{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return _o(t)?(e(),()=>{}):(_D(t,e),()=>HP(t,e))}};function C1(){return new hh(Me())}var bs=class{},mp=new V("",{providedIn:"root",factory:()=>!1});var qD=new V(""),KD=new V(""),Do=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Be(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();var ph=class extends ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,RP()&&(this.destroyRef=O(Nl,{optional:!0})??void 0,this.pendingTasks=O(Do,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),c=r;if(e&&typeof e=="object"){let d=e;i=d.next?.bind(d),s=d.error?.bind(d),c=d.complete?.bind(d)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),c&&(c=this.wrapInTimeout(c)));let u=super.subscribe({next:i,error:s,complete:c});return e instanceof be&&e.add(u),u}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Te=ph;function gl(...n){}function ZD(n){let e,t;function r(){n=gl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function iw(n){return queueMicrotask(()=>n()),()=>{n=gl}}var vp="isAngularZone",ml=vp+"_ID",E1=0,je=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Te(!1);onMicrotaskEmpty=new Te(!1);onStable=new Te(!1);onError=new Te(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=GD}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!i&&r,c.shouldCoalesceRunChangeDetection=i,c.callbackScheduled=!1,c.scheduleInRootZone=s,T1(c)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,c=s.scheduleEventTask("NgZoneEvent: "+i,e,I1,gl,gl);try{return s.runTask(c,t,r)}finally{s.cancelTask(c)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},I1={};function yp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function S1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){ZD(()=>{n.callbackScheduled=!1,gh(n),n.isCheckStableRunning=!0,yp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),gh(n)}function T1(n){let e=()=>{S1(n)},t=E1++;n._inner=n._inner.fork({name:"angular",properties:{[vp]:!0,[ml]:t,[ml+t]:!0},onInvokeTask:(r,i,s,c,u,d)=>{if(M1(d))return r.invokeTask(s,c,u,d);try{return ow(n),r.invokeTask(s,c,u,d)}finally{(n.shouldCoalesceEventChangeDetection&&c.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),sw(n)}},onInvoke:(r,i,s,c,u,d,p)=>{try{return ow(n),r.invoke(s,c,u,d,p)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!x1(d)&&e(),sw(n)}},onHasTask:(r,i,s,c)=>{r.hasTask(s,c),i===s&&(c.change=="microTask"?(n._hasPendingMicrotasks=c.microTask,gh(n),yp(n)):c.change=="macroTask"&&(n.hasPendingMacrotasks=c.macroTask))},onHandleError:(r,i,s,c)=>(r.handleError(s,c),n.runOutsideAngular(()=>n.onError.emit(c)),!1)})}function gh(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function ow(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sw(n){n._nesting--,yp(n)}var mh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Te;onMicrotaskEmpty=new Te;onStable=new Te;onError=new Te;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function M1(n){return YD(n,"__ignore_ng_zone__")}function x1(n){return YD(n,"__scheduler_tick__")}function YD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var fr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},A1=new V("",{providedIn:"root",factory:()=>{let n=O(je),e=O(fr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function aw(n,e){return Bw(n,e)}function R1(n){return Bw(Lw,n)}var QD=(aw.required=R1,aw);function N1(){return bo(cn(),Me())}function bo(n,e){return new ln($n(n,e))}var ln=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=N1}return n})();function P1(n){return n instanceof ln?n.nativeElement:n}function O1(){return this._results[Symbol.iterator]()}var vh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ne}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=gP(e);(this._changesDetected=!pP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=O1};function XD(n){return(n.flags&128)===128}var JD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(JD||{}),eb=new Map,k1=0;function F1(){return k1++}function L1(n){eb.set(n[xl],n)}function yh(n){eb.delete(n[xl])}var cw="__ngContext__";function Rs(n,e){Fr(e)?(n[cw]=e[xl],L1(e)):n[cw]=e}function tb(n){return rb(n[ws])}function nb(n){return rb(n[Cn])}function rb(n){for(;n!==null&&!gr(n);)n=n[Cn];return n}var _h;function ib(n){_h=n}function ob(){if(_h!==void 0)return _h;if(typeof document<"u")return document;throw new H(210,!1)}var Pl=new V("",{providedIn:"root",factory:()=>B1}),B1="ng",_p=new V(""),_i=new V("",{providedIn:"platform",factory:()=>"unknown"});var wp=new V("",{providedIn:"root",factory:()=>ob().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var j1="h",H1="b";var sb=!1,V1=new V("",{providedIn:"root",factory:()=>sb});var ab=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(ab||{}),Ol=new V(""),lw=new Set;function Dp(n){lw.has(n)||(lw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var U1=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();var $1=()=>null;function cb(n,e,t=!1){return $1(n,e,t)}function lb(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],c=t[i+1];if(c!==-1){let u=n.data[c];cp(s),u.contentQueries(2,e[c],c)}}}finally{pe(r)}}}function wh(n,e,t){cp(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function ub(n,e,t){if(cD(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let c=i;c<s;c++){let u=n.data[c];if(u.contentQueries){let d=t[c];u.contentQueries(1,d,c)}}}finally{pe(r)}}}var Hn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Hn||{}),Wc;function db(){if(Wc===void 0&&(Wc=null,vs.trustedTypes))try{Wc=vs.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wc}function kl(n){return db()?.createHTML(n)||n}function W1(n){return db()?.createScriptURL(n)||n}var zc;function z1(){if(zc===void 0&&(zc=null,vs.trustedTypes))try{zc=vs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zc}function uw(n){return z1()?.createHTML(n)||n}var vl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fw})`}};function bp(n){return n instanceof vl?n.changingThisBreaksApplicationSecurity:n}function fb(n,e){let t=G1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Fw})`)}return t===e}function G1(n){return n instanceof vl&&n.getTypeName()||null}function q1(n){let e=new bh(n);return K1()?new Dh(e):e}var Dh=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(kl(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},bh=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=kl(e),t}};function K1(){try{return!!new window.DOMParser().parseFromString(kl(""),"text/html")}catch{return!1}}var Z1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hb(n){return n=String(n),n.match(Z1)?n:"unsafe:"+n}function mr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ns(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var pb=mr("area,br,col,hr,img,wbr"),gb=mr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mb=mr("rp,rt"),Y1=Ns(mb,gb),Q1=Ns(gb,mr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),X1=Ns(mb,mr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dw=Ns(pb,Q1,X1,Y1),vb=mr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),J1=mr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),eO=mr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),tO=Ns(vb,J1,eO),nO=mr("script,style,template"),Ch=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=oO(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=iO(t);if(s){t=s;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=fw(e).toLowerCase();if(!dw.hasOwnProperty(t))return this.sanitizedSomething=!0,!nO.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),c=s.name,u=c.toLowerCase();if(!tO.hasOwnProperty(u)){this.sanitizedSomething=!0;continue}let d=s.value;vb[u]&&(d=hb(d)),this.buf.push(" ",c,'="',hw(d),'"')}return this.buf.push(">"),!0}endElement(e){let t=fw(e).toLowerCase();dw.hasOwnProperty(t)&&!pb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(hw(e))}};function rO(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function iO(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw yb(e);return e}function oO(n){let e=n.firstChild;if(e&&rO(n,e))throw yb(e);return e}function fw(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function yb(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var sO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aO=/([^\#-~ |!])/g;function hw(n){return n.replace(/&/g,"&amp;").replace(sO,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(aO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Gc;function cO(n,e){let t=null;try{Gc=Gc||q1(n);let r=e?String(e):"";t=Gc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Gc.getInertBodyElement(r)}while(r!==s);let u=new Ch().sanitizeChildren(pw(t)||t);return kl(u)}finally{if(t){let r=pw(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function pw(n){return"content"in n&&lO(n)?n.content:null}function lO(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Cp=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Cp||{});function _b(n){let e=wb();return e?uw(e.sanitize(Cp.HTML,n)||""):fb(n,"HTML")?uw(bp(n)):cO(ob(),Ts(n))}function Ps(n){let e=wb();return e?e.sanitize(Cp.URL,n)||"":fb(n,"URL")?bp(n):hb(Ts(n))}function Ep(n){return W1(n[0])}function wb(){let n=Me();return n&&n[ur].sanitizer}function Db(n){return n instanceof Function?n():n}function uO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var bb="ng-template";function dO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&uO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ip(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Ip(n){return n.type===4&&n.value!==bb}function fO(n,e,t){let r=n.type===4&&!t?bb:n.value;return e===r}function hO(n,e,t){let r=4,i=n.attrs,s=i!==null?mO(i):0,c=!1;for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="number"){if(!c&&!Dn(r)&&!Dn(d))return!1;if(c&&Dn(d))continue;c=!1,r=d|r&1;continue}if(!c)if(r&4){if(r=2|r&1,d!==""&&!fO(n,d,t)||d===""&&e.length===1){if(Dn(r))return!1;c=!0}}else if(r&8){if(i===null||!dO(n,i,d,t)){if(Dn(r))return!1;c=!0}}else{let p=e[++u],v=pO(d,i,Ip(n),t);if(v===-1){if(Dn(r))return!1;c=!0;continue}if(p!==""){let I;if(v>s?I="":I=i[v+1].toLowerCase(),r&2&&p!==I){if(Dn(r))return!1;c=!0}}}}return Dn(r)||c}function Dn(n){return(n&1)===0}function pO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let c=e[i];if(c===n)return i;if(c===3||c===6)s=!0;else if(c===1||c===2){let u=e[++i];for(;typeof u=="string";)u=e[++i];continue}else{if(c===4)break;if(c===0){i+=4;continue}}i+=s?1:2}return-1}else return vO(e,n)}function gO(n,e,t=!1){for(let r=0;r<e.length;r++)if(hO(n,e[r],t))return!0;return!1}function mO(n){for(let e=0;e<n.length;e++){let t=n[e];if(f1(t))return e}return n.length}function vO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function gw(n,e){return n?":not("+e.trim()+")":e}function yO(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let c=n[t];if(typeof c=="string")if(r&2){let u=n[++t];i+="["+c+(u.length>0?'="'+u+'"':"")+"]"}else r&8?i+="."+c:r&4&&(i+=" "+c);else i!==""&&!Dn(c)&&(e+=gw(s,i),i=""),r=c,s=s||!Dn(r);t++}return i!==""&&(e+=gw(s,i)),e}function _O(n){return n.map(yO).join(",")}function wO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Dn(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var jr={};function DO(n,e){return n.createText(e)}function bO(n,e,t){n.setValue(e,t)}function Cb(n,e,t){return n.createElement(e,t)}function yl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Eb(n,e,t){n.appendChild(e,t)}function mw(n,e,t,r,i){r!==null?yl(n,e,t,r,i):Eb(n,e,t)}function CO(n,e,t){n.removeChild(null,e,t)}function EO(n,e,t){n.setAttribute(e,"style",t)}function IO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ib(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&d1(n,e,r),i!==null&&IO(n,e,i),s!==null&&EO(n,e,s)}function Sp(n,e,t,r,i,s,c,u,d,p,v){let I=sn+r,T=I+i,E=SO(I,T),R=typeof p=="function"?p():p;return E[ce]={type:n,blueprint:E,template:t,queries:null,viewQuery:u,declTNode:e,data:E.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:T,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof c=="function"?c():c,firstChild:null,schemas:d,consts:R,incompleteFirstPass:!1,ssrId:v}}function SO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:jr);return t}function TO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Sp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Tp(n,e,t,r,i,s,c,u,d,p,v){let I=e.blueprint.slice();return I[pr]=i,I[J]=r|4|128|8|64|1024,(p!==null||n&&n[J]&2048)&&(I[J]|=2048),vD(I),I[ht]=I[vo]=n,I[At]=t,I[ur]=c||n&&n[ur],I[lt]=u||n&&n[lt],I[di]=d||n&&n[di]||null,I[In]=s,I[xl]=F1(),I[ol]=v,I[sD]=p,I[Ln]=e.type==2?n[Ln]:I,I}function MO(n,e,t){let r=$n(e,n),i=TO(t),s=n[ur].rendererFactory,c=Mp(n,Tp(n,i,null,Sb(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=c}function Sb(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Tb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Mp(n,e){return n[ws]?n[Y_][Cn]=e:n[ws]=e,n[Y_]=e,e}function Ie(n=1){Mb(_t(),Me(),wo()+n,!1)}function Mb(n,e,t,r){if(!r)if((e[J]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Zc(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Yc(e,s,0,t)}gi(t)}var Fl=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Fl||{});function Eh(n,e,t,r){let i=pe(null);try{let[s,c,u]=n.inputs[t],d=null;(c&Fl.SignalBased)!==0&&(d=e[s][$i]),d!==null&&d.transformFn!==void 0?r=d.transformFn(r):u!==null&&(r=u.call(e,r)),n.setInput!==null?n.setInput(e,d,r,t,s):lD(e,d,s,r)}finally{pe(i)}}function xb(n,e,t,r,i){let s=wo(),c=r&2;try{gi(-1),c&&e.length>sn&&Mb(n,e,sn,!1),ke(c?2:0,i),t(r,i)}finally{gi(s),ke(c?3:1,i)}}function xp(n,e,t){kO(n,e,t),(t.flags&64)===64&&FO(n,e,t)}function Ab(n,e,t=$n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let c=r[s+1],u=c===-1?t(e,n):n[c];n[i++]=u}}}function xO(n,e,t,r){let s=r.get(V1,sb)||t===Hn.ShadowDom,c=n.selectRootElement(e,s);return AO(c),c}function AO(n){RO(n)}var RO=()=>null;function NO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function PO(n,e,t,r,i,s,c,u){if(!u&&Ap(e,n,t,r,i)){yo(e)&&OO(t,e.index);return}if(e.type&3){let d=$n(e,t);r=NO(r),i=c!=null?c(i,e.value||"",r):i,s.setProperty(d,r,i)}else e.type&12}function OO(n,e){let t=jn(e,n);t[J]&16||(t[J]|=64)}function kO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;yo(t)&&MO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||pl(t,e);let s=t.initialInputs;for(let c=r;c<i;c++){let u=n.data[c],d=Ds(e,n,c,t);if(Rs(d,e),s!==null&&HO(e,c-r,d,u,t,s),Br(u)){let p=jn(t.index,e);p[At]=Ds(e,n,c,t)}}}function FO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,c=t1();try{gi(s);for(let u=r;u<i;u++){let d=n.data[u],p=e[u];lh(u),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&LO(d,p)}}finally{gi(-1),lh(c)}}function LO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Rb(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];gO(e,s.selectors,!1)&&(r??=[],Br(s)?r.unshift(s):r.push(s))}return r}function BO(n,e,t,r,i,s){let c=$n(n,e);jO(e[lt],c,s,n.value,t,r,i)}function jO(n,e,t,r,i,s,c){if(s==null)n.removeAttribute(e,i,t);else{let u=c==null?Ts(s):c(s,r||"",i);n.setAttribute(e,i,u,t)}}function HO(n,e,t,r,i,s){let c=s[e];if(c!==null)for(let u=0;u<c.length;u+=2){let d=c[u],p=c[u+1];Eh(r,t,d,p)}}function VO(n,e){let t=n[di],r=t?t.get(fr,null):null;r&&r.handleError(e)}function Ap(n,e,t,r,i){let s=n.inputs?.[r],c=n.hostDirectiveInputs?.[r],u=!1;if(c)for(let d=0;d<c.length;d+=2){let p=c[d],v=c[d+1],I=e.data[p];Eh(I,t[p],v,i),u=!0}if(s)for(let d of s){let p=t[d],v=e.data[d];Eh(v,p,r,i),u=!0}return u}function UO(n,e){let t=jn(e,n),r=t[ce];$O(r,t);let i=t[pr];i!==null&&t[ol]===null&&(t[ol]=cb(i,t[di])),ke(18),Rp(r,t,t[At]),ke(19,t[At])}function $O(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Rp(n,e,t){lp(e);try{let r=n.viewQuery;r!==null&&wh(1,r,t);let i=n.template;i!==null&&xb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[dr]?.finishViewCreation(n),n.staticContentQueries&&lb(n,e),n.staticViewQueries&&wh(2,n.viewQuery,t);let s=n.components;s!==null&&WO(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[J]&=-5,up()}}function WO(n,e){for(let t=0;t<e.length;t++)UO(n,e[t])}function zO(n,e,t,r){let i=pe(null);try{let s=e.tView,u=n[J]&4096?4096:16,d=Tp(n,s,t,u,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),p=n[e.index];d[fi]=p;let v=n[dr];return v!==null&&(d[dr]=v.createEmbeddedView(s)),Rp(s,d,t),d}finally{pe(i)}}function vw(n,e){return!e||e.firstChild===null||XD(n)}var GO;function Np(n,e){return GO(n,e)}var Vn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Vn||{});function Nb(n){return(n.flags&32)===32}function ao(n,e,t,r,i){if(r!=null){let s,c=!1;gr(r)?s=r:Fr(r)&&(c=!0,r=r[pr]);let u=Bn(r);n===0&&t!==null?i==null?Eb(e,t,u):yl(e,t,u,i||null,!0):n===1&&t!==null?yl(e,t,u,i||null,!0):n===2?CO(e,u,c):n===3&&e.destroyNode(u),s!=null&&ik(e,n,s,t,i)}}function qO(n,e){Pb(n,e),e[pr]=null,e[In]=null}function KO(n,e,t,r,i,s){r[pr]=i,r[In]=e,Ll(n,r,t,1,i,s)}function Pb(n,e){e[ur].changeDetectionScheduler?.notify(9),Ll(n,e,e[lt],2,null,null)}function ZO(n){let e=n[ws];if(!e)return qf(n[ce],n);for(;e;){let t=null;if(Fr(e))t=e[ws];else{let r=e[$t];r&&(t=r)}if(!t){for(;e&&!e[Cn]&&e!==n;)Fr(e)&&qf(e[ce],e),e=e[ht];e===null&&(e=n),Fr(e)&&qf(e[ce],e),t=e&&e[Cn]}e=t}}function Pp(n,e){let t=n[ho],r=t.indexOf(e);t.splice(r,1)}function Ob(n,e){if(_o(e))return;let t=e[lt];t.destroyNode&&Ll(n,e,t,3,null,null),ZO(e)}function qf(n,e){if(_o(e))return;let t=pe(null);try{e[J]&=-129,e[J]|=256,e[rn]&&wf(e[rn]),QO(n,e),YO(n,e),e[ce].type===1&&e[lt].destroy();let r=e[fi];if(r!==null&&gr(e[ht])){r!==e[ht]&&Pp(r,e);let i=e[dr];i!==null&&i.detachView(n)}yh(e)}finally{pe(t)}}function YO(n,e){let t=n.cleanup,r=e[sl];if(t!==null)for(let c=0;c<t.length-1;c+=2)if(typeof t[c]=="string"){let u=t[c+3];u>=0?r[u]():r[-u].unsubscribe(),c+=2}else{let u=r[t[c+1]];t[c].call(u)}r!==null&&(e[sl]=null);let i=e[kr];if(i!==null){e[kr]=null;for(let c=0;c<i.length;c++){let u=i[c];u()}}let s=e[al];if(s!==null){e[al]=null;for(let c of s)c.destroy()}}function QO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof mi)){let s=t[r+1];if(Array.isArray(s))for(let c=0;c<s.length;c+=2){let u=i[s[c]],d=s[c+1];ke(4,u,d);try{d.call(u)}finally{ke(5,u,d)}}else{ke(4,i,s);try{s.call(i)}finally{ke(5,i,s)}}}}}function XO(n,e,t){return JO(n,e.parent,t)}function JO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[pr];if(yo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Hn.None||i===Hn.Emulated)return null}return $n(r,t)}function ek(n,e,t){return nk(n,e,t)}function tk(n,e,t){return n.type&40?$n(n,t):null}var nk=tk,yw;function Op(n,e,t,r){let i=XO(n,r,e),s=e[lt],c=r.parent||e[In],u=ek(c,r,e);if(i!=null)if(Array.isArray(t))for(let d=0;d<t.length;d++)mw(s,i,t[d],u,!1);else mw(s,i,t,u,!1);yw!==void 0&&yw(s,r,e,t,i)}function gs(n,e){if(e!==null){let t=e.type;if(t&3)return $n(e,n);if(t&4)return Ih(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return gs(n,r);{let i=n[e.index];return gr(i)?Ih(-1,i):Bn(i)}}else{if(t&128)return gs(n,e.next);if(t&32)return Np(e,n)()||Bn(n[e.index]);{let r=kb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=pi(n[Ln]);return gs(i,r)}else return gs(n,e.next)}}}return null}function kb(n,e){if(e!==null){let r=n[Ln][In],i=e.projection;return r.projection[i]}return null}function Ih(n,e){let t=$t+n+1;if(t<e.length){let r=e[t],i=r[ce].firstChild;if(i!==null)return gs(r,i)}return e[hi]}function kp(n,e,t,r,i,s,c){for(;t!=null;){if(t.type===128){t=t.next;continue}let u=r[t.index],d=t.type;if(c&&e===0&&(u&&Rs(Bn(u),r),t.flags|=2),!Nb(t))if(d&8)kp(n,e,t.child,r,i,s,!1),ao(e,n,i,u,s);else if(d&32){let p=Np(t,r),v;for(;v=p();)ao(e,n,i,v,s);ao(e,n,i,u,s)}else d&16?rk(n,e,r,t,i,s):ao(e,n,i,u,s);t=c?t.projectionNext:t.next}}function Ll(n,e,t,r,i,s){kp(t,r,n.firstChild,e,i,s,!1)}function rk(n,e,t,r,i,s){let c=t[Ln],d=c[In].projection[r.projection];if(Array.isArray(d))for(let p=0;p<d.length;p++){let v=d[p];ao(e,n,i,v,s)}else{let p=d,v=c[ht];XD(r)&&(p.flags|=128),kp(n,e,p,v,i,s,!0)}}function ik(n,e,t,r,i){let s=t[hi],c=Bn(t);s!==c&&ao(e,n,r,s,i);for(let u=$t;u<t.length;u++){let d=t[u];Ll(d[ce],d,n,e,r,s)}}function ok(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Vn.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Vn.Important),n.setStyle(t,r,i,s))}}function _l(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Bn(s)),gr(s)&&sk(s,r);let c=t.type;if(c&8)_l(n,e,t.child,r);else if(c&32){let u=Np(t,e),d;for(;d=u();)r.push(d)}else if(c&16){let u=kb(e,t);if(Array.isArray(u))r.push(...u);else{let d=pi(e[Ln]);_l(d[ce],d,u,r,!0)}}t=i?t.projectionNext:t.next}return r}function sk(n,e){for(let t=$t;t<n.length;t++){let r=n[t],i=r[ce].firstChild;i!==null&&_l(r[ce],r,i,e)}n[hi]!==n[pr]&&e.push(n[hi])}function Fb(n){if(n[Wf]!==null){for(let e of n[Wf])e.impl.addSequence(e);n[Wf].length=0}}var Lb=[];function ak(n){return n[rn]??ck(n)}function ck(n){let e=Lb.pop()??Object.create(uk);return e.lView=n,e}function lk(n){n.lView[rn]!==n&&(n.lView=null,Lb.push(n))}var uk=Oe(F({},uc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Rl(n.lView)},consumerOnSignalRead(){this.lView[rn]=this}});function dk(n){let e=n[rn]??Object.create(fk);return e.lView=n,e}var fk=Oe(F({},uc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=pi(n.lView);for(;e&&!Bb(e[ce]);)e=pi(e);e&&yD(e)},consumerOnSignalRead(){this.lView[rn]=this}});function Bb(n){return n.type!==2}function jb(n){if(n[al]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[al])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[J]&8192)}}var hk=100;function Hb(n,e=!0,t=0){let i=n[ur].rendererFactory,s=!1;s||i.begin?.();try{pk(n,t)}catch(c){throw e&&VO(n,c),c}finally{s||i.end?.()}}function pk(n,e){let t=CD();try{X_(!0),Sh(n,e);let r=0;for(;Al(n);){if(r===hk)throw new H(103,!1);r++,Sh(n,1)}}finally{X_(t)}}function gk(n,e,t,r){if(_o(e))return;let i=e[J],s=!1,c=!1;lp(e);let u=!0,d=null,p=null;s||(Bb(n)?(p=ak(e),d=yf(p)):gf()===null?(u=!1,p=dk(e),d=yf(p)):e[rn]&&(wf(e[rn]),e[rn]=null));try{vD(e),QP(n.bindingStartIndex),t!==null&&xb(n,e,t,2,r);let v=(i&3)===3;if(!s)if(v){let E=n.preOrderCheckHooks;E!==null&&Zc(e,E,null)}else{let E=n.preOrderHooks;E!==null&&Yc(e,E,0,null),zf(e,0)}if(c||mk(e),jb(e),Vb(e,0),n.contentQueries!==null&&lb(n,e),!s)if(v){let E=n.contentCheckHooks;E!==null&&Zc(e,E)}else{let E=n.contentHooks;E!==null&&Yc(e,E,1),zf(e,1)}yk(n,e);let I=n.components;I!==null&&$b(e,I,0);let T=n.viewQuery;if(T!==null&&wh(2,T,r),!s)if(v){let E=n.viewCheckHooks;E!==null&&Zc(e,E)}else{let E=n.viewHooks;E!==null&&Yc(e,E,2),zf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[$f]){for(let E of e[$f])E();e[$f]=null}s||(Fb(e),e[J]&=-73)}catch(v){throw s||Rl(e),v}finally{p!==null&&(c_(p,d),u&&lk(p)),up()}}function Vb(n,e){for(let t=tb(n);t!==null;t=nb(t))for(let r=$t;r<t.length;r++){let i=t[r];Ub(i,e)}}function mk(n){for(let e=tb(n);e!==null;e=nb(e)){if(!(e[J]&2))continue;let t=e[ho];for(let r=0;r<t.length;r++){let i=t[r];yD(i)}}}function vk(n,e,t){ke(18);let r=jn(e,n);Ub(r,t),ke(19,r[At])}function Ub(n,e){ip(n)&&Sh(n,e)}function Sh(n,e){let r=n[ce],i=n[J],s=n[rn],c=!!(e===0&&i&16);if(c||=!!(i&64&&e===0),c||=!!(i&1024),c||=!!(s?.dirty&&_f(s)),c||=!1,s&&(s.dirty=!1),n[J]&=-9217,c)gk(r,n,r.template,n[At]);else if(i&8192){jb(n),Vb(n,1);let u=r.components;u!==null&&$b(n,u,1),Fb(n)}}function $b(n,e,t){for(let r=0;r<e.length;r++)vk(n,e[r],t)}function yk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)gi(~i);else{let s=i,c=t[++r],u=t[++r];e1(c,s);let d=e[s];ke(24,d),u(2,d),ke(25,d)}}}finally{gi(-1)}}function Fp(n,e){let t=CD()?64:1088;for(n[ur].changeDetectionScheduler?.notify(e);n;){n[J]|=t;let r=pi(n);if(ll(n)&&!r)return n;n=r}return null}function Wb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function _k(n,e,t,r=!0){let i=e[ce];if(wk(i,e,n,t),r){let c=Ih(t,n),u=e[lt],d=u.parentNode(n[hi]);d!==null&&KO(i,n[In],u,e,d,c)}let s=e[ol];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Th(n,e){if(n.length<=$t)return;let t=$t+e,r=n[t];if(r){let i=r[fi];i!==null&&i!==n&&Pp(i,r),e>0&&(n[t-1][Cn]=r[Cn]);let s=rl(n,$t+e);qO(r[ce],r);let c=s[dr];c!==null&&c.detachView(s[ce]),r[ht]=null,r[Cn]=null,r[J]&=-129}return r}function wk(n,e,t,r){let i=$t+r,s=t.length;r>0&&(t[i-1][Cn]=e),r<s-$t?(e[Cn]=t[i],Xw(t,$t+r,e)):(t.push(e),e[Cn]=null),e[ht]=t;let c=e[fi];c!==null&&t!==c&&zb(c,e);let u=e[dr];u!==null&&u.insertView(n),ah(e),e[J]|=128}function zb(n,e){let t=n[ho],r=e[ht];if(Fr(r))n[J]|=2;else{let i=r[ht][Ln];e[Ln]!==i&&(n[J]|=2)}t===null?n[ho]=[e]:t.push(e)}var Cs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ce];return _l(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[At]}set context(e){this._lView[At]=e}get destroyed(){return _o(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ht];if(gr(e)){let t=e[cl],r=t?t.indexOf(this):-1;r>-1&&(Th(e,r),rl(t,r))}this._attachedToViewContainer=!1}Ob(this._lView[ce],this._lView)}onDestroy(e){_D(this._lView,e)}markForCheck(){Fp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){ah(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,Hb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ll(this._lView),t=this._lView[fi];t!==null&&!e&&Pp(t,this._lView),Pb(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=ll(this._lView),r=this._lView[fi];r!==null&&!t&&zb(r,this._lView),ah(this._lView)}};var hr=(()=>{class n{static __NG_ELEMENT_ID__=Ck}return n})(),Dk=hr,bk=class extends Dk{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=zO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Cs(i)}};function Ck(){return Lp(cn(),Me())}function Lp(n,e){return n.type&4?new bk(e,n,bo(n,e)):null}function Bp(n,e,t,r,i){let s=n.data[e];if(s===null)s=Ek(n,e,t,r,i),JP()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let c=KP();s.injectorIndex=c===null?-1:c.injectorIndex}return xs(s,!0),s}function Ek(n,e,t,r,i){let s=DD(),c=bD(),u=c?s:s&&s.parent,d=n.data[e]=Sk(n,u,t,e,r,i);return Ik(n,d,s,c),d}function Ik(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Sk(n,e,t,r,i,s){let c=e?e.injectorIndex:-1,u=0;return zP()&&(u|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var f3=new RegExp(`^(\\d+)*(${H1}|${j1})*(.*)`);var Tk=()=>null;function _w(n,e){return Tk(n,e)}var Mk=class{},Gb=class{},Mh=class{resolveComponentFactory(e){throw Error(`No component factory found for ${xt(e)}.`)}},Bl=class{static NULL=new Mh},po=class{},jp=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>xk()}return n})();function xk(){let n=Me(),e=cn(),t=jn(e.index,n);return(Fr(t)?t:n)[lt]}var Ak=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var Kf={},xh=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Tl(r);let i=this.injector.get(e,Kf,r);return i!==Kf||t===Kf?i:this.parentInjector.get(e,t,r)}};function ww(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number")s=u;else if(s==1)i=$_(i,u);else if(s==2){let d=u,p=e[++c];r=$_(r,d+": "+p+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ye(n,e=re.Default){let t=Me();if(t===null)return $(n,e);let r=cn();return UD(r,t,yt(n),e)}function qb(n,e,t,r,i){let s=r===null?null:{"":-1},c=i(n,t);if(c!==null){let u,d=null,p=null,v=Nk(c);v===null?u=c:[u,d,p]=v,kk(n,e,t,u,s,d,p)}s!==null&&r!==null&&Rk(t,r,s)}function Rk(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new H(-301,!1);r.push(e[i],s)}}function Nk(n){let e=null,t=!1;for(let c=0;c<n.length;c++){let u=n[c];if(c===0&&Br(u)&&(e=u),u.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,s=null;for(let c of n)c.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,Pk(c,r,s,i)),c===e&&(r??=[],r.push(c));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,s]):null}function Pk(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function Ok(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function kk(n,e,t,r,i,s,c){let u=r.length,d=!1;for(let T=0;T<u;T++){let E=r[T];!d&&Br(E)&&(d=!0,Ok(n,t,T)),dh(pl(t,e),n,E.type)}Vk(t,n.data.length,u);for(let T=0;T<u;T++){let E=r[T];E.providersResolver&&E.providersResolver(E)}let p=!1,v=!1,I=Tb(n,e,u,null);u>0&&(t.directiveToIndex=new Map);for(let T=0;T<u;T++){let E=r[T];if(t.mergedAttrs=hp(t.mergedAttrs,E.hostAttrs),Lk(n,t,e,I,E),Hk(I,E,i),c!==null&&c.has(E)){let[U,K]=c.get(E);t.directiveToIndex.set(E.type,[I,U+t.directiveStart,K+t.directiveStart])}else(s===null||!s.has(E))&&t.directiveToIndex.set(E.type,I);E.contentQueries!==null&&(t.flags|=4),(E.hostBindings!==null||E.hostAttrs!==null||E.hostVars!==0)&&(t.flags|=64);let R=E.type.prototype;!p&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),p=!0),!v&&(R.ngOnChanges||R.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),v=!0),I++}Fk(n,t,s)}function Fk(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Dw(0,e,i,r),Dw(1,e,i,r),Cw(e,r,!1);else{let s=t.get(i);bw(0,e,s,r),bw(1,e,s,r),Cw(e,r,!0)}}}function Dw(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let c;n===0?c=e.inputs??={}:c=e.outputs??={},c[s]??=[],c[s].push(r),Kb(e,s)}}function bw(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let c=i[s],u;n===0?u=e.hostDirectiveInputs??={}:u=e.hostDirectiveOutputs??={},u[c]??=[],u[c].push(r,s),Kb(e,c)}}function Kb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Cw(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||Ip(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let c=null,u=0;for(;u<r.length;){let d=r[u];if(d===0){u+=4;continue}else if(d===5){u+=2;continue}else if(typeof d=="number")break;if(!t&&i.hasOwnProperty(d)){let p=i[d];for(let v of p)if(v===e){c??=[],c.push(d,r[u+1]);break}}else if(t&&s.hasOwnProperty(d)){let p=s[d];for(let v=0;v<p.length;v+=2)if(p[v]===e){c??=[],c.push(p[v+1],r[u+1]);break}}u+=2}n.initialInputs??=[],n.initialInputs.push(c)}function Lk(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=ui(i.type,!0)),c=new mi(s,Br(i),ye);n.blueprint[r]=c,t[r]=c,Bk(n,e,r,Tb(n,t,i.hostVars,jr),i)}function Bk(n,e,t,r,i){let s=i.hostBindings;if(s){let c=n.hostBindingOpCodes;c===null&&(c=n.hostBindingOpCodes=[]);let u=~e.index;jk(c)!=u&&c.push(u),c.push(t,r,s)}}function jk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Hk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Br(e)&&(t[""]=n)}}function Vk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Zb(n,e,t,r,i,s,c,u){let d=e.consts,p=ul(d,c),v=Bp(e,n,2,r,p);return s&&qb(e,t,v,ul(d,u),i),v.mergedAttrs=hp(v.mergedAttrs,v.attrs),v.attrs!==null&&ww(v,v.attrs,!1),v.mergedAttrs!==null&&ww(v,v.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,v),v}function Yb(n,e){OD(n,e),cD(e)&&n.queries.elementEnd(e)}var wl=class extends Bl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=uo(e);return new Es(t,this.ngModule)}};function Uk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&Fl.SignalBased)!==0};return i&&(s.transform=i),s})}function $k(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Wk(n,e,t){let r=e instanceof on?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new xh(t,r):t}function zk(n){let e=n.get(po,null);if(e===null)throw new H(407,!1);let t=n.get(Ak,null),r=n.get(bs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function Gk(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Cb(e,t,t==="svg"?hD:t==="math"?FP:null)}var Es=class extends Gb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Uk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=$k(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=_O(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){ke(22);let s=pe(null);try{let c=this.componentDef,u=r?["ng-version","19.2.10"]:wO(this.componentDef.selectors[0]),d=Sp(0,null,null,1,0,null,null,null,null,[u],null),p=Wk(c,i||this.ngModule,e),v=zk(p),I=v.rendererFactory.createRenderer(null,c),T=r?xO(I,r,c.encapsulation,p):Gk(c,I),E=Tp(null,d,null,512|Sb(c),null,null,v,I,p,null,cb(T,p,!0));E[sn]=T,lp(E);let R=null;try{let U=Zb(sn,d,E,"#host",()=>[this.componentDef],!0,0);T&&(Ib(I,T,U),Rs(T,E)),xp(d,E,U),ub(d,U,E),Yb(d,U),t!==void 0&&qk(U,this.ngContentSelectors,t),R=jn(U.index,E),E[At]=R[At],Rp(d,E,null)}catch(U){throw R!==null&&yh(R),yh(E),U}finally{ke(23),up()}return new Ah(this.componentType,E)}finally{pe(s)}}},Ah=class extends Mk{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=gD(t[ce],sn),this.location=bo(this._tNode,t),this.instance=jn(this._tNode.index,t)[At],this.hostView=this.changeDetectorRef=new Cs(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=Ap(r,i[ce],i,e,t);this.previousInputValues.set(e,t);let c=jn(r.index,i);Fp(c,1)}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Sn=(()=>{class n{static __NG_ELEMENT_ID__=Kk}return n})();function Kk(){let n=cn();return Xb(n,Me())}var Zk=Sn,Qb=class extends Zk{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return bo(this._hostTNode,this._hostLView)}get injector(){return new li(this._hostTNode,this._hostLView)}get parentInjector(){let e=pp(this._hostTNode,this._hostLView);if(FD(e)){let t=fl(e,this._hostLView),r=dl(e),i=t[ce].data[r+8];return new li(i,t)}else return new li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Ew(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let c=_w(this._lContainer,e.ssrId),u=e.createEmbeddedViewImpl(t||{},s,c);return this.insertImpl(u,i,vw(this._hostTNode,c)),u}createComponent(e,t,r,i,s){let c=e&&!NP(e),u;if(c)u=t;else{let R=t||{};u=R.index,r=R.injector,i=R.projectableNodes,s=R.environmentInjector||R.ngModuleRef}let d=c?e:new Es(uo(e)),p=r||this.parentInjector;if(!s&&d.ngModule==null){let U=(c?p:this.parentInjector).get(on,null);U&&(s=U)}let v=uo(d.componentType??{}),I=_w(this._lContainer,v?.id??null),T=I?.firstChild??null,E=d.create(p,i,T,s);return this.insertImpl(E.hostView,u,vw(this._hostTNode,I)),E}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(BP(i)){let u=this.indexOf(e);if(u!==-1)this.detach(u);else{let d=i[ht],p=new Qb(d,d[In],d[ht]);p.detach(p.indexOf(e))}}let s=this._adjustIndex(t),c=this._lContainer;return _k(c,i,s,r),e.attachToViewContainerRef(),Xw(Zf(c),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Ew(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Th(this._lContainer,t);r&&(rl(Zf(this._lContainer),t),Ob(r[ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=Th(this._lContainer,t);return r&&rl(Zf(this._lContainer),t)!=null?new Cs(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Ew(n){return n[cl]}function Zf(n){return n[cl]||(n[cl]=[])}function Xb(n,e){let t,r=e[n.index];return gr(r)?t=r:(t=Wb(r,e,null,n),e[n.index]=t,Mp(e,t)),Qk(t,e,n,r),new Qb(t,n,e)}function Yk(n,e){let t=n[lt],r=t.createComment(""),i=$n(e,n),s=t.parentNode(i);return yl(t,s,r,t.nextSibling(i),!1),r}var Qk=eF,Xk=()=>!1;function Jk(n,e,t){return Xk(n,e,t)}function eF(n,e,t,r){if(n[hi])return;let i;t.type&8?i=Bn(r):i=Yk(e,t),n[hi]=i}var Rh=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Nh=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let c=t.getByIndex(s),u=this.queries[c.indexInDeclarationView];i.push(u.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Hp(e,t).matches!==null&&this.queries[t].setDirty()}},Dl=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=cF(e):this.predicate=e}},Ph=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Oh=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,tF(t,s)),this.matchTNodeWithReadOption(e,t,Qc(t,e,s,!1,!1))}else r===hr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qc(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ln||i===Sn||i===hr&&t.type&4)this.addMatch(t.index,-2);else{let s=Qc(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function tF(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function nF(n,e){return n.type&11?bo(n,e):n.type&4?Lp(n,e):null}function rF(n,e,t,r){return t===-1?nF(e,n):t===-2?iF(n,e,r):Ds(n,n[ce],t,e)}function iF(n,e,t){if(t===ln)return bo(e,n);if(t===hr)return Lp(e,n);if(t===Sn)return Xb(e,n)}function Jb(n,e,t,r){let i=e[dr].queries[r];if(i.matches===null){let s=n.data,c=t.matches,u=[];for(let d=0;c!==null&&d<c.length;d+=2){let p=c[d];if(p<0)u.push(null);else{let v=s[p];u.push(rF(e,v,c[d+1],t.metadata.read))}}i.matches=u}return i.matches}function kh(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let c=Jb(n,e,i,t);for(let u=0;u<s.length;u+=2){let d=s[u];if(d>0)r.push(c[u/2]);else{let p=s[u+1],v=e[-d];for(let I=$t;I<v.length;I++){let T=v[I];T[fi]===T[ht]&&kh(T[ce],T,p,r)}if(v[ho]!==null){let I=v[ho];for(let T=0;T<I.length;T++){let E=I[T];kh(E[ce],E,p,r)}}}}}return r}function oF(n,e){return n[dr].queries[e].queryList}function eC(n,e,t){let r=new vh((t&4)===4);return VP(n,e,r,r.destroy),(e[dr]??=new Nh).queries.push(new Rh(r))-1}function sF(n,e,t){let r=_t();return r.firstCreatePass&&(tC(r,new Dl(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),eC(r,Me(),e)}function aF(n,e,t,r){let i=_t();if(i.firstCreatePass){let s=cn();tC(i,new Dl(e,t,r),s.index),lF(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return eC(i,Me(),t)}function cF(n){return n.split(",").map(e=>e.trim())}function tC(n,e,t){n.queries===null&&(n.queries=new Ph),n.queries.track(new Oh(e,t))}function lF(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Hp(n,e){return n.queries.getByIndex(e)}function uF(n,e){let t=n[ce],r=Hp(t,e);return r.crossesNgTemplate?kh(t,n,e,[]):Jb(t,n,r,e)}var go=class{},Vp=class{};var Fh=class extends go{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new wl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=tD(e);this._bootstrapComponents=Db(s.bootstrap),this._r3Injector=zD(e,t,[{provide:go,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver},...r],xt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Lh=class extends Vp{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Fh(this.moduleType,e,[])}};var bl=class extends go{injector;componentFactoryResolver=new wl(this);instance=null;constructor(e){super();let t=new _s([...e.providers,{provide:go,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver}],e.parent||np(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function jl(n,e,t=null){return new bl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var dF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=nD(!1,t.type),i=r.length>0?jl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n($(on))})}return n})();function Rt(n){return Ss(()=>{let e=rC(n),t=Oe(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===JD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(dF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Hn.Emulated,styles:n.styles||bn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Dp("NgStandalone"),iC(t);let r=n.dependencies;return t.directiveDefs=Iw(r,!1),t.pipeDefs=Iw(r,!0),t.id=mF(t),t})}function fF(n){return uo(n)||_P(n)}function hF(n){return n!==null}function un(n){return Ss(()=>({type:n.type,bootstrap:n.bootstrap||bn,declarations:n.declarations||bn,imports:n.imports||bn,exports:n.exports||bn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pF(n,e){if(n==null)return lo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,c,u,d;Array.isArray(i)?(u=i[0],s=i[1],c=i[2]??s,d=i[3]||null):(s=i,c=i,u=Fl.None,d=null),t[s]=[r,u,d],e[s]=c}return t}function gF(n){if(n==null)return lo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Tn(n){return Ss(()=>{let e=rC(n);return iC(e),e})}function nC(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function rC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||lo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||bn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pF(n.inputs,e),outputs:gF(n.outputs),debugInfo:null}}function iC(n){n.features?.forEach(e=>e(n))}function Iw(n,e){if(!n)return null;let t=e?wP:fF;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(hF)}function mF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function oC(n){return Up(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function vF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Up(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function sC(n,e,t){return n[e]=t}function yF(n,e){return n[e]}function Os(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function _F(n,e,t,r,i,s,c,u,d){let p=e.consts,v=Bp(e,n,4,c||null,u||null);wD()&&qb(e,t,v,ul(p,d),Rb),v.mergedAttrs=hp(v.mergedAttrs,v.attrs),OD(e,v);let I=v.tView=Sp(2,v,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,p,null);return e.queries!==null&&(e.queries.template(e,v),I.queries=e.queries.embeddedTView(v)),v}function wF(n,e,t,r,i,s,c,u,d,p){let v=t+sn,I=e.firstCreatePass?_F(v,e,n,r,i,s,c,u,d):e.data[v];xs(I,!1);let T=DF(e,n,I,t);dp()&&Op(e,n,T,I),Rs(T,n);let E=Wb(T,n,T,I);return n[v]=E,Mp(n,E),Jk(E,I,n),rp(I)&&xp(e,n,I),d!=null&&Ab(n,I,p),I}function dn(n,e,t,r,i,s,c,u){let d=Me(),p=_t(),v=ul(p.consts,s);return wF(d,p,n,e,t,r,i,v,c,u),dn}var DF=bF;function bF(n,e,t,r){return fp(!0),e[lt].createComment("")}var aC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var cC=new V("");var CF=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new Bh})}return n})(),Bh=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Co(n){return!!n&&typeof n.then=="function"}function $p(n){return!!n&&typeof n.subscribe=="function"}var EF=new V("");var lC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=O(EF,{optional:!0})??[];injector=O(Lr);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=En(this.injector,i);if(Co(s))t.push(s);else if($p(s)){let c=new Promise((u,d)=>{s.subscribe({complete:u,error:d})});t.push(c)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wp=new V("");function IF(){Df(()=>{throw new H(600,!1)})}function SF(n){return n.isBoundToModule}var TF=10;var vi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(A1);afterRenderManager=O(U1);zonelessEnabled=O(mp);rootEffectScheduler=O(CF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ne;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=O(Do).hasPendingTasks.pipe(me(t=>!t));constructor(){O(Ol,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=O(on);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Lr.NULL){ke(10);let s=t instanceof Gb;if(!this._injector.get(lC).done){let E="";throw new H(405,E)}let u;s?u=t:u=this._injector.get(Bl).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let d=SF(u)?void 0:this._injector.get(go),p=r||u.selector,v=u.create(i,[],p,d),I=v.location.nativeElement,T=v.injector.get(cC,null);return T?.registerApplication(I),v.onDestroy(()=>{this.detachView(v.hostView),Xc(this.components,v),T?.unregisterApplication(I)}),this._loadComponent(v),ke(11,v),v}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ke(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ab.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(t),this.afterTick.next(),ke(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(po,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<TF;)ke(14),this.synchronizeOnce(),ke(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)MF(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Al(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Xc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Wp,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Xc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function MF(n,e,t,r){if(!t&&!Al(n))return;Hb(n,e,t&&!r?0:1)}function wi(n,e,t,r){let i=Me(),s=ap();if(Os(i,s,e)){let c=_t(),u=RD();BO(u,i,n,e,t,r)}return wi}function xF(n,e,t,r){return Os(n,ap(),t)?e+Ts(t)+r:jr}function qc(n,e){return n<<17|e<<2}function yi(n){return n>>17&32767}function AF(n){return(n&2)==2}function RF(n,e){return n&131071|e<<17}function jh(n){return n|2}function mo(n){return(n&131068)>>2}function Yf(n,e){return n&-131069|e<<2}function NF(n){return(n&1)===1}function Hh(n){return n|1}function PF(n,e,t,r,i,s){let c=s?e.classBindings:e.styleBindings,u=yi(c),d=mo(c);n[r]=t;let p=!1,v;if(Array.isArray(t)){let I=t;v=I[1],(v===null||Ms(I,v)>0)&&(p=!0)}else v=t;if(i)if(d!==0){let T=yi(n[u+1]);n[r+1]=qc(T,u),T!==0&&(n[T+1]=Yf(n[T+1],r)),n[u+1]=RF(n[u+1],r)}else n[r+1]=qc(u,0),u!==0&&(n[u+1]=Yf(n[u+1],r)),u=r;else n[r+1]=qc(d,0),u===0?u=r:n[d+1]=Yf(n[d+1],r),d=r;p&&(n[r+1]=jh(n[r+1])),Sw(n,v,r,!0),Sw(n,v,r,!1),OF(e,v,n,r,s),c=qc(u,d),s?e.classBindings=c:e.styleBindings=c}function OF(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Ms(s,e)>=0&&(t[r+1]=Hh(t[r+1]))}function Sw(n,e,t,r){let i=n[t+1],s=e===null,c=r?yi(i):mo(i),u=!1;for(;c!==0&&(u===!1||s);){let d=n[c],p=n[c+1];kF(d,e)&&(u=!0,n[c+1]=r?Hh(p):jh(p)),c=r?yi(p):mo(p)}u&&(n[t+1]=r?jh(i):Hh(i))}function kF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ms(n,e)>=0:!1}function xe(n,e,t){let r=Me(),i=ap();if(Os(r,i,e)){let s=_t(),c=RD();PO(s,c,r,n,e,r[lt],t,!1)}return xe}function Tw(n,e,t,r,i){Ap(e,n,t,i?"class":"style",r)}function Wn(n,e,t){return uC(n,e,t,!1),Wn}function Hr(n,e){return uC(n,e,null,!0),Hr}function uC(n,e,t,r){let i=Me(),s=_t(),c=XP(2);if(s.firstUpdatePass&&LF(s,n,c,r),e!==jr&&Os(i,c,e)){let u=s.data[wo()];UF(s,u,i,i[lt],n,i[c+1]=$F(e,t),r,c)}}function FF(n,e){return e>=n.expandoStartIndex}function LF(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[wo()],c=FF(n,t);WF(s,r)&&e===null&&!c&&(e=!1),e=BF(i,s,e,r),PF(i,s,e,t,c,r)}}function BF(n,e,t,r){let i=n1(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Qf(null,n,e,t,r),t=Is(t,e.attrs,r),s=null);else{let c=e.directiveStylingLast;if(c===-1||n[c]!==i)if(t=Qf(i,n,e,t,r),s===null){let d=jF(n,e,r);d!==void 0&&Array.isArray(d)&&(d=Qf(null,n,e,d[1],r),d=Is(d,e.attrs,r),HF(n,e,r,d))}else s=VF(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function jF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(mo(r)!==0)return n[yi(r)]}function HF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[yi(i)]=r}function VF(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let c=n[s].hostAttrs;r=Is(r,c,t)}return Is(r,e.attrs,t)}function Qf(n,e,t,r,i){let s=null,c=t.directiveEnd,u=t.directiveStylingLast;for(u===-1?u=t.directiveStart:u++;u<c&&(s=e[u],r=Is(r,s.hostAttrs,i),s!==n);)u++;return n!==null&&(t.directiveStylingLast=u),r}function Is(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];typeof c=="number"?i=c:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),vP(n,c,t?!0:e[++s]))}return n===void 0?null:n}function UF(n,e,t,r,i,s,c,u){if(!(e.type&3))return;let d=n.data,p=d[u+1],v=NF(p)?Mw(d,e,t,i,mo(p),c):void 0;if(!Cl(v)){Cl(s)||AF(p)&&(s=Mw(d,null,t,i,u,c));let I=pD(wo(),t);ok(r,c,I,i,s)}}function Mw(n,e,t,r,i,s){let c=e===null,u;for(;i>0;){let d=n[i],p=Array.isArray(d),v=p?d[1]:d,I=v===null,T=t[i+1];T===jr&&(T=I?bn:void 0);let E=I?Vf(T,r):v===r?T:void 0;if(p&&!Cl(E)&&(E=Vf(d,r)),Cl(E)&&(u=E,c))return u;let R=n[i+1];i=c?yi(R):mo(R)}if(e!==null){let d=s?e.residualClasses:e.residualStyles;d!=null&&(u=Vf(d,r))}return u}function Cl(n){return n!==void 0}function $F(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=xt(bp(n)))),n}function WF(n,e){return(n.flags&(e?8:16))!==0}function _e(n,e,t,r){let i=Me(),s=_t(),c=sn+n,u=i[lt],d=s.firstCreatePass?Zb(c,s,i,e,Rb,wD(),t,r):s.data[c],p=zF(s,i,d,u,e,n);i[c]=p;let v=rp(d);return xs(d,!0),Ib(u,p,d),!Nb(d)&&dp()&&Op(s,i,p,d),(UP()===0||v)&&Rs(p,i),$P(),v&&(xp(s,i,d),ub(s,d,i)),r!==null&&Ab(i,d),_e}function ve(){let n=cn();bD()?ZP():(n=n.parent,xs(n,!1));let e=n;GP(e)&&qP(),WP();let t=_t();return t.firstCreatePass&&Yb(t,e),e.classesWithoutHost!=null&&l1(e)&&Tw(t,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&u1(e)&&Tw(t,e,Me(),e.stylesWithoutHost,!1),ve}function rt(n,e,t,r){return _e(n,e,t,r),ve(),rt}var zF=(n,e,t,r,i,s)=>(fp(!0),Cb(r,i,s1()));function Mn(){return Me()}var El="en-US";var GF=El;function qF(n){typeof n=="string"&&(GF=n.toLowerCase().replace(/_/g,"-"))}function xw(n,e,t){return function r(i){if(i===Function)return t;let s=yo(n)?jn(n.index,e):e;Fp(s,5);let c=e[At],u=Aw(e,c,t,i),d=r.__ngNextListenerFn__;for(;d;)u=Aw(e,c,d,i)&&u,d=d.__ngNextListenerFn__;return u}}function Aw(n,e,t,r){let i=pe(null);try{return ke(6,e,t),t(r)!==!1}catch(s){return KF(n,s),!1}finally{ke(7,e,t),pe(i)}}function KF(n,e){let t=n[di],r=t?t.get(fr,null):null;r&&r.handleError(e)}function Rw(n,e,t,r,i,s){let c=e[t],u=e[ce],p=u.data[t].outputs[r],v=c[p],I=u.firstCreatePass?sp(u):null,T=op(e),E=v.subscribe(s),R=T.length;T.push(s,E),I&&I.push(i,n.index,R,-(R+1))}var ZF=new Map;function it(n,e,t,r){let i=Me(),s=_t(),c=cn();return QF(s,i,i[lt],c,n,e,r),it}function YF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let c=i[s];if(c===t&&i[s+1]===r){let u=e[sl],d=i[s+2];return u.length>d?u[d]:null}typeof c=="string"&&(s+=2)}return null}function QF(n,e,t,r,i,s,c){let u=rp(r),p=n.firstCreatePass?sp(n):null,v=op(e),I=!0;if(r.type&3||c){let T=$n(r,e),E=c?c(T):T,R=v.length,U=c?se=>c(Bn(se[r.index])):r.index,K=null;if(!c&&u&&(K=YF(n,e,i,r.index)),K!==null){let se=K.__ngLastListenerFn__||K;se.__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,I=!1}else{s=xw(r,e,s);let se=e[di].get(Pl);ZF.get(se)?.(E,i,s);let ze=t.listen(E,i,s);v.push(s,ze),p&&p.push(i,U,R,R+1)}}else s=xw(r,e,s);if(I){let T=r.outputs?.[i],E=r.hostDirectiveOutputs?.[i];if(E&&E.length)for(let R=0;R<E.length;R+=2){let U=E[R],K=E[R+1];Rw(r,e,U,K,i,s)}if(T&&T.length)for(let R of T)Rw(r,e,R,i,i,s)}}function Ae(n=1){return i1(n)}function Hl(n,e,t,r){aF(n,e,t,r)}function xn(n,e,t){sF(n,e,t)}function wt(n){let e=Me(),t=_t(),r=ID();cp(r+1);let i=Hp(t,r);if(n.dirty&&LP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=uF(e,r);n.reset(s,P1),n.notifyOnChanges()}return!0}return!1}function Dt(){return oF(Me(),ID())}function XF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function zp(n){let e=YP();return mD(e,sn+n)}function fn(n,e=""){let t=Me(),r=_t(),i=n+sn,s=r.firstCreatePass?Bp(r,i,1,e,null):r.data[i],c=JF(r,t,s,e,n);t[i]=c,dp()&&Op(r,t,c,s),xs(s,!1)}var JF=(n,e,t,r,i)=>(fp(!0),DO(e[lt],r));function Vl(n,e,t){let r=Me(),i=xF(r,n,e,t);return i!==jr&&eL(r,wo(),i),Vl}function eL(n,e,t){let r=pD(e,n);bO(n[lt],r,t)}function tL(n,e,t){let r=_t();if(r.firstCreatePass){let i=Br(n);Vh(t,r.data,r.blueprint,i,!0),Vh(e,r.data,r.blueprint,i,!1)}}function Vh(n,e,t,r,i){if(n=yt(n),Array.isArray(n))for(let s=0;s<n.length;s++)Vh(n[s],e,t,r,i);else{let s=_t(),c=Me(),u=cn(),d=fo(n)?n:yt(n.provide),p=oD(n),v=u.providerIndexes&1048575,I=u.directiveStart,T=u.providerIndexes>>20;if(fo(n)||!n.multi){let E=new mi(p,i,ye),R=Jf(d,e,i?v:v+T,I);R===-1?(dh(pl(u,c),s,d),Xf(s,n,e.length),e.push(d),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(E),c.push(E)):(t[R]=E,c[R]=E)}else{let E=Jf(d,e,v+T,I),R=Jf(d,e,v,v+T),U=E>=0&&t[E],K=R>=0&&t[R];if(i&&!K||!i&&!U){dh(pl(u,c),s,d);let se=iL(i?rL:nL,t.length,i,r,p);!i&&K&&(t[R].providerFactory=se),Xf(s,n,e.length,0),e.push(d),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(se),c.push(se)}else{let se=dC(t[i?R:E],p,!i&&r);Xf(s,n,E>-1?E:R,se)}!i&&r&&K&&t[R].componentProviders++}}}function Xf(n,e,t,r){let i=fo(e),s=IP(e);if(i||s){let d=(s?yt(e.useClass):e).prototype.ngOnDestroy;if(d){let p=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let v=p.indexOf(t);v===-1?p.push(t,[r,d]):p[v+1].push(r,d)}else p.push(t,d)}}}function dC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Jf(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function nL(n,e,t,r,i){return Uh(this.multi,[])}function rL(n,e,t,r,i){let s=this.multi,c;if(this.providerFactory){let u=this.providerFactory.componentProviders,d=Ds(r,r[ce],this.providerFactory.index,i);c=d.slice(0,u),Uh(s,c);for(let p=u;p<d.length;p++)c.push(d[p])}else c=[],Uh(s,c);return c}function Uh(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function iL(n,e,t,r,i){let s=new mi(n,t,ye);return s.multi=[],s.index=e,s.componentProviders=0,dC(s,i,r&&!t),s}function Ul(n,e=[]){return t=>{t.providersResolver=(r,i)=>tL(r,i?i(n):n,e)}}function fC(n,e,t){let r=ED()+n,i=Me();return i[r]===jr?sC(i,r,t?e.call(t):e()):yF(i,r)}function oL(n,e){let t=n[e];return t===jr?void 0:t}function sL(n,e,t,r,i,s){let c=e+t;return Os(n,c,i)?sC(n,c+1,s?r.call(s,i):r(i)):oL(n,c+1)}function Gp(n,e){let t=_t(),r,i=n+sn;t.firstCreatePass?(r=aL(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=ui(r.type,!0)),c,u=Mt(ye);try{let d=hl(!1),p=s();return hl(d),XF(t,Me(),i,p),p}finally{Mt(u)}}function aL(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function qp(n,e,t){let r=n+sn,i=Me(),s=mD(i,r);return cL(i,r)?sL(i,ED(),e,s.transform,t,s):s.transform(t)}function cL(n,e){return n[ce].data[e].pure}var $h=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},hC=(()=>{class n{compileModuleSync(t){return new Lh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=tD(t),s=Db(i.declarations).reduce((c,u)=>{let d=uo(u);return d&&c.push(new Es(d)),c},[]);return new $h(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lL=(()=>{class n{zone=O(je);changeDetectionScheduler=O(bs);applicationRef=O(vi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uL=new V("",{factory:()=>!1});function pC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new je(Oe(F({},mC()),{scheduleInRootZone:t})),[{provide:je,useFactory:n},{provide:ys,multi:!0,useFactory:()=>{let r=O(lL,{optional:!0});return()=>r.initialize()}},{provide:ys,multi:!0,useFactory:()=>{let r=O(dL);return()=>{r.initialize()}}},e===!0?{provide:qD,useValue:!0}:[],{provide:KD,useValue:t??GD}]}function gC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=pC({ngZoneFactory:()=>{let i=mC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Dp("NgZone_CoalesceEvent"),new je(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return ep([{provide:uL,useValue:!0},{provide:mp,useValue:!1},r])}function mC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var dL=(()=>{class n{subscription=new be;initialized=!1;zone=O(je);pendingTasks=O(Do);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fL=(()=>{class n{appRef=O(vi);taskService=O(Do);ngZone=O(je);zonelessEnabled=O(mp);tracing=O(Ol,{optional:!0});disableScheduling=O(qD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new be;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ml):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(KD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof mh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?iw:ZD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ml+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,iw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hL(){return typeof $localize<"u"&&$localize.locale||El}var Kp=new V("",{providedIn:"root",factory:()=>O(Kp,re.Optional|re.SkipSelf)||hL()});var Wh=new V(""),pL=new V("");function hs(n){return!n.moduleRef}function gL(n){let e=hs(n)?n.r3Injector:n.moduleRef.injector,t=e.get(je);return t.run(()=>{hs(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(fr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),hs(n)){let s=()=>e.destroy(),c=n.platformInjector.get(Wh);c.add(s),e.onDestroy(()=>{i.unsubscribe(),c.delete(s)})}else{let s=()=>n.moduleRef.destroy(),c=n.platformInjector.get(Wh);c.add(s),n.moduleRef.onDestroy(()=>{Xc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),c.delete(s)})}return vL(r,t,()=>{let s=e.get(lC);return s.runInitializers(),s.donePromise.then(()=>{let c=e.get(Kp,El);if(qF(c||El),!e.get(pL,!0))return hs(n)?e.get(vi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(hs(n)){let d=e.get(vi);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return mL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function mL(n,e){let t=n.injector.get(vi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new H(-403,!1);e.push(n)}function vL(n,e,t){try{let r=t();return Co(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Jc=null;function yL(n=[],e){return Lr.create({name:e,providers:[{provide:Ml,useValue:"platform"},{provide:Wh,useValue:new Set([()=>Jc=null])},...n]})}function _L(n=[]){if(Jc)return Jc;let e=yL(n);return Jc=e,IF(),wL(e),e}function wL(n){let e=n.get(_p,null);En(n,()=>{e?.forEach(t=>t())})}var Di=(()=>{class n{static __NG_ELEMENT_ID__=DL}return n})();function DL(n){return bL(cn(),Me(),(n&16)===16)}function bL(n,e,t){if(yo(n)&&!t){let r=jn(n.index,e);return new Cs(r,r)}else if(n.type&175){let r=e[Ln];return new Cs(r,e)}return null}var zh=class{constructor(){}supports(e){return oC(e)}create(e){return new Gh(e)}},CL=(n,e)=>e,Gh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||CL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let c=!r||t&&t.currentIndex<Nw(r,i,s)?t:r,u=Nw(c,i,s),d=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(t=t._next,c.previousIndex==null)i++;else{s||(s=[]);let p=u-i,v=d-i;if(p!=v){for(let T=0;T<p;T++){let E=T<s.length?s[T]:s[T]=0,R=E+T;v<=R&&R<p&&(s[T]=E+1)}let I=c.previousIndex;s[I]=v-p}}u!==d&&e(c,u,d)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!oC(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,c;if(Array.isArray(e)){this.length=e.length;for(let u=0;u<this.length;u++)s=e[u],c=this._trackByFn(u,s),t===null||!Object.is(t.trackById,c)?(t=this._mismatch(t,s,c,u),r=!0):(r&&(t=this._verifyReinsertion(t,s,c,u)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,vF(e,u=>{c=this._trackByFn(i,u),t===null||!Object.is(t.trackById,c)?(t=this._mismatch(t,u,c,i),r=!0):(r&&(t=this._verifyReinsertion(t,u,c,i)),Object.is(t.item,u)||this._addIdentityChange(t,u)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new qh(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Il),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Il),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},qh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Kh=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Il=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Kh,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Nw(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Zh=class{constructor(){}supports(e){return e instanceof Map||Up(e)}create(){return new Yh}},Yh=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Up(e)))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,c=i._next;return s&&(s._next=c),c&&(c._prev=s),i._next=null,i._prev=null,i}let r=new Qh(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Qh=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function Pw(){return new $l([new zh])}var $l=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:Pw});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Pw()),deps:[[n,new Qw,new Yw]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function Ow(){return new Zp([new Zh])}var Zp=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:Ow});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Ow()),deps:[[n,new Qw,new Yw]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new H(901,!1)}}return n})();function vC(n){ke(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=_L(r),s=[pC({}),{provide:bs,useExisting:fL},...t||[]],c=new bl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return gL({r3Injector:c.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{ke(9)}}function Yp(n){return Ef(n)}var kw=class{[$i];constructor(e){this[$i]=e}destroy(){this[$i].destroy()}};var He=new V("");var wC=null;function vr(){return wC}function Qp(n){wC??=n}var ks=class{},Xp=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>O(DC),providedIn:"platform"})}return n})();var DC=(()=>{class n extends Xp{_location;_history;_doc=O(He);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(t){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function bC(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function yC(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Vr(n){return n&&n[0]!=="?"?`?${n}`:n}var Wl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>O(EC),providedIn:"root"})}return n})(),CC=new V(""),EC=(()=>{class n extends Wl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bC(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Vr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let c=this.prepareExternalUrl(i+Vr(s));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){let c=this.prepareExternalUrl(i+Vr(s));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(Xp),$(CC,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Eo=(()=>{class n{_subject=new ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=SL(yC(_C(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Vr(r))}normalize(t){return n.stripTrailingSlash(IL(this._basePath,_C(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Vr;static joinWithSlash=bC;static stripTrailingSlash=yC;static \u0275fac=function(r){return new(r||n)($(Wl))};static \u0275prov=B({token:n,factory:()=>EL(),providedIn:"root"})}return n})();function EL(){return new Eo($(Wl))}function IL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function _C(n){return n.replace(/\/index.html$/,"")}function SL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Jp=/\s+/,IC=[],ng=(()=>{class n{_ngEl;_renderer;initialClasses=IC;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Jp):IC}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Jp):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Jp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ye(ln),ye(jp))};static \u0275dir=Tn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var zl=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ql=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,c)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zl(i.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)r.remove(s===null?void 0:s);else if(s!==null){let u=r.get(s);r.move(u,c),SC(u,i)}});for(let i=0,s=r.length;i<s;i++){let u=r.get(i).context;u.index=i,u.count=s,u.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);SC(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ye(Sn),ye(hr),ye($l))};static \u0275dir=Tn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function SC(n,e){n.context.$implicit=e.item}var Ur=(()=>{class n{_viewContainer;_context=new Gl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){TC(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){TC(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ye(Sn),ye(hr))};static \u0275dir=Tn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Gl=class{$implicit=null;ngIf=null};function TC(n,e){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}var rg=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,s]=t.split("."),c=i.indexOf("-")===-1?void 0:Vn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(ye(ln),ye(Zp),ye(jp))};static \u0275dir=Tn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function TL(n,e){return new H(2100,!1)}var eg=class{createSubscription(e,t){return Yp(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Yp(()=>e.unsubscribe())}},tg=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},ML=new tg,xL=new eg,ig=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Co(t))return ML;if($p(t))return xL;throw TL(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(ye(Di,16))};static \u0275pipe=nC({name:"async",type:n,pure:!1})}return n})();var $r=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=un({type:n});static \u0275inj=an({})}return n})();function og(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Kl="browser",MC="server";function sg(n){return n===Kl}function Zl(n){return n===MC}var Fs=class{};var Xl=new V(""),dg=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)($(Xl),$(je))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Ls=class{_doc;constructor(e){this._doc=e}manager},Yl="ng-app-id";function xC(n){for(let e of n)e.remove()}function AC(n,e){let t=e.createElement("style");return t.textContent=n,t}function AL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Yl}="${e}"],link[${Yl}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Yl),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function lg(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var fg=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Zl(s),AL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,AC);r?.forEach(i=>this.addUsage(i,this.external,lg))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(c=>this.addElement(c,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(xC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])xC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,AC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,lg(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Yl,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)($(He),$(Pl),$(wp,8),$(_i))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),cg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hg=/%COMP%/g;var NC="%COMP%",RL=`_nghost-${NC}`,NL=`_ngcontent-${NC}`,PL=!0,OL=new V("",{providedIn:"root",factory:()=>PL});function kL(n){return NL.replace(hg,n)}function FL(n){return RL.replace(hg,n)}function PC(n,e){return e.map(t=>t.replace(hg,n))}var pg=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,c,u,d,p=null,v=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=u,this.ngZone=d,this.nonce=p,this.tracingService=v,this.platformIsServer=Zl(u),this.defaultRenderer=new Bs(t,c,d,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Hn.ShadowDom&&(r=Oe(F({},r),{encapsulation:Hn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ql?i.applyToHost(t):i instanceof js&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let c=this.doc,u=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,I=this.platformIsServer,T=this.tracingService;switch(r.encapsulation){case Hn.Emulated:s=new Ql(d,p,r,this.appId,v,c,u,I,T);break;case Hn.ShadowDom:return new ug(d,p,t,r,c,u,this.nonce,I,T);default:s=new js(d,p,r,v,c,u,I,T);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)($(dg),$(fg),$(Pl),$(OL),$(He),$(_i),$(je),$(wp),$(Ol,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Bs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(cg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(RC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(RC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=cg[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=cg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Vn.DashCase|Vn.Important)?e.style.setProperty(t,r,i&Vn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Vn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function RC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ug=class extends Bs{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,c,u,d,p){super(e,s,c,d,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let v=i.styles;v=PC(i.id,v);for(let T of v){let E=document.createElement("style");u&&E.setAttribute("nonce",u),E.textContent=T,this.shadowRoot.appendChild(E)}let I=i.getExternalStyles?.();if(I)for(let T of I){let E=lg(T,s);u&&E.setAttribute("nonce",u),this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},js=class extends Bs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,c,u,d,p){super(e,s,c,u,d),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let v=r.styles;this.styles=p?PC(p,v):v,this.styleUrls=r.getExternalStyles?.(p)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ql=class extends js{contentAttr;hostAttr;constructor(e,t,r,i,s,c,u,d,p){let v=i+"-"+r.id;super(e,t,r,s,c,u,d,p,v),this.contentAttr=kL(v),this.hostAttr=FL(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Jl=class n extends ks{supportsDOMEvents=!0;static makeCurrent(){Qp(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=LL();return t==null?null:BL(t)}resetBaseElement(){Hs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return og(document.cookie,e)}},Hs=null;function LL(){return Hs=Hs||document.querySelector("base"),Hs?Hs.getAttribute("href"):null}function BL(n){return new URL(n,document.baseURI).pathname}var jL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),kC=(()=>{class n extends Ls{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)($(He))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),OC=["alt","control","meta","shift"],HL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},FC=(()=>{class n extends Ls{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let c=n.parseEventName(r),u=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(t,c.domEventName,u,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),c="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),c="code."),OC.forEach(p=>{let v=r.indexOf(p);v>-1&&(r.splice(v,1),c+=p+".")}),c+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=i,d.fullKey=c,d}static matchEventFullKeyCode(t,r){let i=HL[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),OC.forEach(c=>{if(c!==i){let u=VL[c];u(t)&&(s+=c+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)($(He))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function gg(n,e){return vC(F({rootComponent:n},UL(e)))}function UL(n){return{appProviders:[...qL,...n?.providers??[]],platformProviders:GL}}function $L(){Jl.makeCurrent()}function WL(){return new fr}function zL(){return ib(document),document}var GL=[{provide:_i,useValue:Kl},{provide:_p,useValue:$L,multi:!0},{provide:He,useFactory:zL}];var qL=[{provide:Ml,useValue:"root"},{provide:fr,useFactory:WL},{provide:Xl,useClass:kC,multi:!0,deps:[He]},{provide:Xl,useClass:FC,multi:!0,deps:[He]},pg,fg,dg,{provide:po,useExisting:pg},{provide:Fs,useClass:jL},[]];var LC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)($(He))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ee="primary",ea=Symbol("RouteTitle"),wg=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ei(n){return new wg(n)}function zC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let c=r[s],u=n[s];if(c[0]===":")i[c.substring(1)]=u;else if(c!==u.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ZL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zn(n[t],e[t]))return!1;return!0}function zn(n,e){let t=n?Dg(n):void 0,r=e?Dg(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!GC(n[i],e[i]))return!1;return!0}function Dg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function GC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function qC(n){return n.length>0?n[n.length-1]:null}function zr(n){return Fc(n)?n:Co(n)?We(Promise.resolve(n)):Y(n)}var YL={exact:ZC,subset:YC},KC={exact:QL,subset:XL,ignored:()=>!0};function BC(n,e,t){return YL[t.paths](n.root,e.root,t.matrixParams)&&KC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function QL(n,e){return zn(n,e)}function ZC(n,e,t){if(!bi(n.segments,e.segments)||!nu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!ZC(n.children[r],e.children[r],t))return!1;return!0}function XL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>GC(n[t],e[t]))}function YC(n,e,t){return QC(n,e,e.segments,t)}function QC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!bi(i,t)||e.hasChildren()||!nu(i,t,r))}else if(n.segments.length===t.length){if(!bi(n.segments,t)||!nu(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!YC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!bi(n.segments,i)||!nu(n.segments,i,r)||!n.children[ee]?!1:QC(n.children[ee],e,s,r)}}function nu(n,e,t){return e.every((r,i)=>KC[t](n[i].parameters,r.parameters))}var qn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ce([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){return tB.serialize(this)}},Ce=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ru(this)}},Wr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ei(this.parameters),this._parameterMap}toString(){return JC(this)}};function JL(n,e){return bi(n,e)&&n.every((t,r)=>zn(t.parameters,e[r].parameters))}function bi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function eB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ee&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ee&&(t=t.concat(e(i,r)))}),t}var ta=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new Ii,providedIn:"root"})}return n})(),Ii=class{parse(e){let t=new Cg(e);return new qn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Vs(e.root,!0)}`,r=iB(e.queryParams),i=typeof e.fragment=="string"?`#${nB(e.fragment)}`:"";return`${t}${r}${i}`}},tB=new Ii;function ru(n){return n.segments.map(e=>JC(e)).join("/")}function Vs(n,e){if(!n.hasChildren())return ru(n);if(e){let t=n.children[ee]?Vs(n.children[ee],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${Vs(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=eB(n,(r,i)=>i===ee?[Vs(n.children[ee],!1)]:[`${i}:${Vs(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ee]!=null?`${ru(n)}/${t[0]}`:`${ru(n)}/(${t.join("//")})`}}function XC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eu(n){return XC(n).replace(/%3B/gi,";")}function nB(n){return encodeURI(n)}function bg(n){return XC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iu(n){return decodeURIComponent(n)}function jC(n){return iu(n.replace(/\+/g,"%20"))}function JC(n){return`${bg(n.path)}${rB(n.parameters)}`}function rB(n){return Object.entries(n).map(([e,t])=>`;${bg(e)}=${bg(t)}`).join("")}function iB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${eu(t)}=${eu(i)}`).join("&"):`${eu(t)}=${eu(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var oB=/^[^\/()?;#]+/;function mg(n){let e=n.match(oB);return e?e[0]:""}var sB=/^[^\/()?;=#]+/;function aB(n){let e=n.match(sB);return e?e[0]:""}var cB=/^[^=?&#]+/;function lB(n){let e=n.match(cB);return e?e[0]:""}var uB=/^[^&#]+/;function dB(n){let e=n.match(uB);return e?e[0]:""}var Cg=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ee]=new Ce(e,t)),r}parseSegment(){let e=mg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Wr(iu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=aB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=mg(this.remaining);i&&(r=i,this.capture(r))}e[iu(t)]=iu(r)}parseQueryParam(e){let t=lB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let c=dB(this.remaining);c&&(r=c,this.capture(r))}let i=jC(t),s=jC(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let c=this.parseChildren();t[s]=Object.keys(c).length===1?c[ee]:new Ce([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function eE(n){return n.segments.length>0?new Ce([],{[ee]:n}):n}function tE(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=tE(i);if(r===ee&&s.segments.length===0&&s.hasChildren())for(let[c,u]of Object.entries(s.children))e[c]=u;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Ce(n.segments,e);return fB(t)}function fB(n){if(n.numberOfChildren===1&&n.children[ee]){let e=n.children[ee];return new Ce(n.segments.concat(e.segments),e.children)}return n}function xo(n){return n instanceof qn}function nE(n,e,t=null,r=null){let i=rE(n);return iE(i,e,t,r)}function rE(n){let e;function t(s){let c={};for(let d of s.children){let p=t(d);c[d.outlet]=p}let u=new Ce(s.url,c);return s===n&&(e=u),u}let r=t(n.root),i=eE(r);return e??i}function iE(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return vg(i,i,i,t,r);let s=hB(e);if(s.toRoot())return vg(i,i,new Ce([],{}),t,r);let c=pB(s,i,n),u=c.processChildren?$s(c.segmentGroup,c.index,s.commands):sE(c.segmentGroup,c.index,s.commands);return vg(i,c.segmentGroup,u,t,r)}function su(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function zs(n){return typeof n=="object"&&n!=null&&n.outlets}function vg(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([d,p])=>{s[d]=Array.isArray(p)?p.map(v=>`${v}`):`${p}`});let c;n===e?c=t:c=oE(n,e,t);let u=eE(tE(c));return new qn(u,s,i)}function oE(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=oE(s,e,t)}),new Ce(n.segments,r)}var au=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&su(r[0]))throw new H(4003,!1);let i=r.find(zs);if(i&&i!==qC(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new au(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,c)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let u={};return Object.entries(s.outlets).forEach(([d,p])=>{u[d]=typeof p=="string"?p.split("/"):p}),[...i,{outlets:u}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:c===0?(s.split("/").forEach((u,d)=>{d==0&&u==="."||(d==0&&u===""?t=!0:u===".."?e++:u!=""&&i.push(u))}),i):[...i,s]},[]);return new au(t,e,r)}var To=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function pB(n,e,t){if(n.isAbsolute)return new To(e,!0,0);if(!t)return new To(e,!1,NaN);if(t.parent===null)return new To(t,!0,0);let r=su(n.commands[0])?0:1,i=t.segments.length-1+r;return gB(t,i,n.numberOfDoubleDots)}function gB(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new To(r,!1,i-s)}function mB(n){return zs(n[0])?n[0].outlets:{[ee]:n}}function sE(n,e,t){if(n??=new Ce([],{}),n.segments.length===0&&n.hasChildren())return $s(n,e,t);let r=vB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Ce(n.segments.slice(0,r.pathIndex),{});return s.children[ee]=new Ce(n.segments.slice(r.pathIndex),n.children),$s(s,0,i)}else return r.match&&i.length===0?new Ce(n.segments,{}):r.match&&!n.hasChildren()?Eg(n,e,t):r.match?$s(n,0,i):Eg(n,e,t)}function $s(n,e,t){if(t.length===0)return new Ce(n.segments,{});{let r=mB(t),i={};if(Object.keys(r).some(s=>s!==ee)&&n.children[ee]&&n.numberOfChildren===1&&n.children[ee].segments.length===0){let s=$s(n.children[ee],e,t);return new Ce(n.segments,s.children)}return Object.entries(r).forEach(([s,c])=>{typeof c=="string"&&(c=[c]),c!==null&&(i[s]=sE(n.children[s],e,c))}),Object.entries(n.children).forEach(([s,c])=>{r[s]===void 0&&(i[s]=c)}),new Ce(n.segments,i)}}function vB(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let c=n.segments[i],u=t[r];if(zs(u))break;let d=`${u}`,p=r<t.length-1?t[r+1]:null;if(i>0&&d===void 0)break;if(d&&p&&typeof p=="object"&&p.outlets===void 0){if(!VC(d,p,c))return s;r+=2}else{if(!VC(d,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Eg(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(zs(s)){let d=yB(s.outlets);return new Ce(r,d)}if(i===0&&su(t[0])){let d=n.segments[e];r.push(new Wr(d.path,HC(t[0]))),i++;continue}let c=zs(s)?s.outlets[ee]:`${s}`,u=i<t.length-1?t[i+1]:null;c&&u&&su(u)?(r.push(new Wr(c,HC(u))),i+=2):(r.push(new Wr(c,{})),i++)}return new Ce(r,{})}function yB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Eg(new Ce([],{}),0,r))}),e}function HC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function VC(n,e,t){return n==t.path&&zn(e,t.parameters)}var ou="imperative",at=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(at||{}),zt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Si=class extends zt{type=at.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yr=class extends zt{urlAfterRedirects;type=at.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Nt||{}),Gs=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Gs||{}),Gn=class extends zt{reason;code;type=at.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_r=class extends zt{reason;code;type=at.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ao=class extends zt{error;target;type=at.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qs=class extends zt{urlAfterRedirects;state;type=at.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cu=class extends zt{urlAfterRedirects;state;type=at.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lu=class extends zt{urlAfterRedirects;state;shouldActivate;type=at.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},uu=class extends zt{urlAfterRedirects;state;type=at.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},du=class extends zt{urlAfterRedirects;state;type=at.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fu=class{route;type=at.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hu=class{route;type=at.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pu=class{snapshot;type=at.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gu=class{snapshot;type=at.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mu=class{snapshot;type=at.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vu=class{snapshot;type=at.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ks=class{},Ro=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function _B(n,e){return n.providers&&!n._injector&&(n._injector=jl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function An(n){return n.outlet||ee}function wB(n,e){let t=n.filter(r=>An(r)===e);return t.push(...n.filter(r=>An(r)!==e)),t}function na(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var yu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return na(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Oo(this.rootInjector)}},Oo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new yu(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)($(on))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_u=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ig(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ig(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Sg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Sg(e,this._root).map(t=>t.value)}};function Ig(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ig(n,t);if(r)return r}return null}function Sg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Sg(n,t);if(r.length)return r.unshift(e),r}return[]}var Wt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function So(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Zs=class extends _u{snapshot;constructor(e,t){super(e),this.snapshot=t,Og(this,e)}toString(){return this.snapshot.toString()}};function aE(n){let e=DB(n),t=new Be([new Wr("",{})]),r=new Be({}),i=new Be({}),s=new Be({}),c=new Be(""),u=new Kn(t,r,s,c,i,ee,n,e.root);return u.snapshot=e.root,new Zs(new Wt(u,[]),e)}function DB(n){let e={},t={},r={},i="",s=new Ci([],e,r,i,t,ee,n,null,{});return new Ys("",new Wt(s,[]))}var Kn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,c,u,d){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=c,this.component=u,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(me(p=>p[ea]))??Y(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(me(e=>Ei(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(e=>Ei(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wu(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&lE(i)&&(r.resolve[ea]=i.title),r}var Ci=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ea]}constructor(e,t,r,i,s,c,u,d,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=u,this.routeConfig=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ei(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ys=class extends _u{url;constructor(e,t){super(t),this.url=e,Og(this,t)}toString(){return cE(this._root)}};function Og(n,e){e.value._routerState=n,e.children.forEach(t=>Og(n,t))}function cE(n){let e=n.children.length>0?` { ${n.children.map(cE).join(", ")} } `:"";return`${n.value}${e}`}function yg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),zn(e.params,t.params)||n.paramsSubject.next(t.params),ZL(e.url,t.url)||n.urlSubject.next(t.url),zn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Tg(n,e){let t=zn(n.params,e.params)&&JL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Tg(n.parent,e.parent))}function lE(n){return typeof n.title=="string"||n.title===null}var uE=new V(""),ra=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ee;activateEvents=new Te;deactivateEvents=new Te;attachEvents=new Te;detachEvents=new Te;routerOutletData=QD(void 0);parentContexts=O(Oo);location=O(Sn);changeDetector=O(Di);inputBinder=O(Eu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,c=t.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new Mg(t,u,i.injector,this.routerOutletData);this.activated=i.createComponent(c,{index:i.length,injector:d,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Tn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Un]})}return n})(),Mg=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Kn?this.route:e===Oo?this.childContexts:e===uE?this.outletData:this.parent.get(e,t)}},Eu=new V("");function bB(n,e,t){let r=Qs(n,e._root,t?t._root:void 0);return new Zs(r,e)}function Qs(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=CB(n,e,t);return new Wt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(u=>Qs(n,u)),c}}let r=EB(e.value),i=e.children.map(s=>Qs(n,s));return new Wt(r,i)}}function CB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qs(n,r,i);return Qs(n,r)})}function EB(n){return new Kn(new Be(n.url),new Be(n.params),new Be(n.queryParams),new Be(n.fragment),new Be(n.data),n.outlet,n.component,n)}var No=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},dE="ngNavigationCancelingError";function Du(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=xo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fE(!1,Nt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function fE(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[dE]=!0,t.cancellationCode=e,t}function IB(n){return hE(n)&&xo(n.url)}function hE(n){return!!n&&n[dE]}var SB=(n,e,t,r)=>me(i=>(new xg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),xg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),yg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=So(t);e.children.forEach(s=>{let c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=So(e);for(let c of Object.values(s))this.deactivateRouteAndItsChildren(c,i);if(r&&r.outlet){let c=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=So(e);for(let c of Object.values(s))this.deactivateRouteAndItsChildren(c,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=So(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new vu(s.value.snapshot))}),e.children.length&&this.forwardEvent(new gu(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(yg(i),i===s)if(i.component){let c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(u.contexts),c.attachRef=u.componentRef,c.route=u.route.value,c.outlet&&c.outlet.attach(u.componentRef,u.route.value),yg(u.route.value),this.activateChildRoutes(e,null,c.children)}else c.attachRef=null,c.route=i,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}else this.activateChildRoutes(e,null,r)}},bu=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Mo=class{component;route;constructor(e,t){this.component=e,this.route=t}};function TB(n,e,t){let r=n._root,i=e?e._root:null;return Us(r,i,t,[r.value])}function MB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ko(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Uw(n)?n:e.get(n):r}function Us(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=So(e);return n.children.forEach(c=>{xB(c,s[c.value.outlet],t,r.concat([c.value]),i),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,u])=>Ws(u,t.getContext(c),i)),i}function xB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,c=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){let d=AB(c,s,s.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new bu(r)):(s.data=c.data,s._resolvedData=c._resolvedData),s.component?Us(n,e,u?u.children:null,r,i):Us(n,e,t,r,i),d&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Mo(u.outlet.component,c))}else c&&Ws(e,u,i),i.canActivateChecks.push(new bu(r)),s.component?Us(n,null,u?u.children:null,r,i):Us(n,null,t,r,i);return i}function AB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!bi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bi(n.url,e.url)||!zn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tg(n,e)||!zn(n.queryParams,e.queryParams);case"paramsChange":default:return!Tg(n,e)}}function Ws(n,e,t){let r=So(n),i=n.value;Object.entries(r).forEach(([s,c])=>{i.component?e?Ws(c,e.children.getContext(s),t):Ws(c,null,t):Ws(c,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Mo(e.outlet.component,i)):t.canDeactivateChecks.push(new Mo(null,i)):t.canDeactivateChecks.push(new Mo(null,i))}function ia(n){return typeof n=="function"}function RB(n){return typeof n=="boolean"}function NB(n){return n&&ia(n.canLoad)}function PB(n){return n&&ia(n.canActivate)}function OB(n){return n&&ia(n.canActivateChild)}function kB(n){return n&&ia(n.canDeactivate)}function FB(n){return n&&ia(n.canMatch)}function pE(n){return n instanceof cr||n?.name==="EmptyError"}var tu=Symbol("INITIAL_VALUE");function Po(){return Tt(n=>Lc(n.map(e=>e.pipe(nn(1),ai(tu)))).pipe(me(e=>{for(let t of e)if(t!==!0){if(t===tu)return tu;if(t===!1||LB(t))return t}return!0}),tn(e=>e!==tu),nn(1)))}function LB(n){return xo(n)||n instanceof No}function BB(n,e){return tt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return c.length===0&&s.length===0?Y(Oe(F({},t),{guardsResult:!0})):jB(c,r,i,n).pipe(tt(u=>u&&RB(u)?HB(r,s,n,e):Y(u)),me(u=>Oe(F({},t),{guardsResult:u})))})}function jB(n,e,t,r){return We(n).pipe(tt(i=>zB(i.component,i.route,t,e,r)),lr(i=>i!==!0,!0))}function HB(n,e,t,r){return We(e).pipe(ro(i=>no(UB(i.route.parent,r),VB(i.route,r),WB(n,i.path,t),$B(n,i.route,t))),lr(i=>i!==!0,!0))}function VB(n,e){return n!==null&&e&&e(new mu(n)),Y(!0)}function UB(n,e){return n!==null&&e&&e(new pu(n)),Y(!0)}function $B(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(s=>jc(()=>{let c=na(e)??t,u=ko(s,c),d=PB(u)?u.canActivate(e,n):En(c,()=>u(e,n));return zr(d).pipe(lr())}));return Y(i).pipe(Po())}function WB(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>MB(c)).filter(c=>c!==null).map(c=>jc(()=>{let u=c.guards.map(d=>{let p=na(c.node)??t,v=ko(d,p),I=OB(v)?v.canActivateChild(r,n):En(p,()=>v(r,n));return zr(I).pipe(lr())});return Y(u).pipe(Po())}));return Y(s).pipe(Po())}function zB(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let c=s.map(u=>{let d=na(e)??i,p=ko(u,d),v=kB(p)?p.canDeactivate(n,e,t,r):En(d,()=>p(n,e,t,r));return zr(v).pipe(lr())});return Y(c).pipe(Po())}function GB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let s=i.map(c=>{let u=ko(c,n),d=NB(u)?u.canLoad(e,t):En(n,()=>u(e,t));return zr(d)});return Y(s).pipe(Po(),gE(r))}function gE(n){return Rf(nt(e=>{if(typeof e!="boolean")throw Du(n,e)}),me(e=>e===!0))}function qB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let s=i.map(c=>{let u=ko(c,n),d=FB(u)?u.canMatch(e,t):En(n,()=>u(e,t));return zr(d)});return Y(s).pipe(Po(),gE(r))}var Xs=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Js=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Io(n){return to(new Xs(n))}function KB(n){return to(new H(4e3,!1))}function ZB(n){return to(fE(!1,Nt.GuardRejected))}var Ag=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[ee])return KB(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let u=t,{queryParams:d,fragment:p,routeConfig:v,url:I,outlet:T,params:E,data:R,title:U}=i,K=En(s,()=>u({params:E,data:R,queryParams:d,fragment:p,routeConfig:v,url:I,outlet:T,title:U}));if(K instanceof qn)throw new Js(K);t=K}let c=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Js(c);return c}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new qn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let u=s.substring(1);r[i]=t[u]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),c={};return Object.entries(t.children).forEach(([u,d])=>{c[u]=this.createSegmentGroup(e,d,r,i)}),new Ce(s,c)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Rg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YB(n,e,t,r,i){let s=mE(n,e,t);return s.matched?(r=_B(e,r),qB(r,e,t,i).pipe(me(c=>c===!0?s:F({},Rg)))):Y(s)}function mE(n,e,t){if(e.path==="**")return QB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},Rg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zC)(t,n,e);if(!i)return F({},Rg);let s={};Object.entries(i.posParams??{}).forEach(([u,d])=>{s[u]=d.path});let c=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function QB(n){return{matched:!0,parameters:n.length>0?qC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function UC(n,e,t,r){return t.length>0&&ej(n,t,r)?{segmentGroup:new Ce(e,JB(r,new Ce(t,n.children))),slicedSegments:[]}:t.length===0&&tj(n,t,r)?{segmentGroup:new Ce(n.segments,XB(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ce(n.segments,n.children),slicedSegments:t}}function XB(n,e,t,r){let i={};for(let s of t)if(Iu(n,e,s)&&!r[An(s)]){let c=new Ce([],{});i[An(s)]=c}return F(F({},r),i)}function JB(n,e){let t={};t[ee]=e;for(let r of n)if(r.path===""&&An(r)!==ee){let i=new Ce([],{});t[An(r)]=i}return t}function ej(n,e,t){return t.some(r=>Iu(n,e,r)&&An(r)!==ee)}function tj(n,e,t){return t.some(r=>Iu(n,e,r))}function Iu(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function nj(n,e,t){return e.length===0&&!n.children[t]}var Ng=class{};function rj(n,e,t,r,i,s,c="emptyOnly"){return new Pg(n,e,t,r,i,c,s).recognize()}var ij=31,Pg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,c,u){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=u,this.applyRedirects=new Ag(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=UC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(me(({children:t,rootSnapshot:r})=>{let i=new Wt(r,t),s=new Ys("",i),c=nE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),{state:s,tree:c}}))}match(e){let t=new Ci([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,t).pipe(me(r=>({children:r,rootSnapshot:t})),Nr(r=>{if(r instanceof Js)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xs?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(me(c=>c instanceof Wt?[c]:[]))}processChildren(e,t,r,i){let s=[];for(let c of Object.keys(r.children))c==="primary"?s.unshift(c):s.push(c);return We(s).pipe(ro(c=>{let u=r.children[c],d=wB(t,c);return this.processSegmentGroup(e,d,u,c,i)}),Hf((c,u)=>(c.push(...u),c)),Pr(null),jf(),tt(c=>{if(c===null)return Io(r);let u=vE(c);return oj(u),Y(u)}))}processSegment(e,t,r,i,s,c,u){return We(t).pipe(ro(d=>this.processSegmentAgainstRoute(d._injector??e,t,d,r,i,s,c,u).pipe(Nr(p=>{if(p instanceof Xs)return Y(null);throw p}))),lr(d=>!!d),Nr(d=>{if(pE(d))return nj(r,i,s)?Y(new Ng):Io(r);throw d}))}processSegmentAgainstRoute(e,t,r,i,s,c,u,d){return An(r)!==c&&(c===ee||!Iu(i,s,r))?Io(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,c,d):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,c,d):Io(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c,u){let{matched:d,parameters:p,consumedSegments:v,positionalParamSegments:I,remainingSegments:T}=mE(t,i,s);if(!d)return Io(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ij&&(this.allowRedirects=!1));let E=new Ci(s,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,$C(i),An(i),i.component??i._loadedComponent??null,i,WC(i)),R=wu(E,u,this.paramsInheritanceStrategy);E.params=Object.freeze(R.params),E.data=Object.freeze(R.data);let U=this.applyRedirects.applyRedirectCommands(v,i.redirectTo,I,E,e);return this.applyRedirects.lineralizeSegments(i,U).pipe(tt(K=>this.processSegment(e,r,t,K.concat(T),c,!1,u)))}matchSegmentAgainstRoute(e,t,r,i,s,c){let u=YB(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),u.pipe(Tt(d=>d.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Tt(({routes:p})=>{let v=r._loadedInjector??e,{parameters:I,consumedSegments:T,remainingSegments:E}=d,R=new Ci(T,I,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,$C(r),An(r),r.component??r._loadedComponent??null,r,WC(r)),U=wu(R,c,this.paramsInheritanceStrategy);R.params=Object.freeze(U.params),R.data=Object.freeze(U.data);let{segmentGroup:K,slicedSegments:se}=UC(t,T,E,p);if(se.length===0&&K.hasChildren())return this.processChildren(v,p,K,R).pipe(me(ze=>new Wt(R,ze)));if(p.length===0&&se.length===0)return Y(new Wt(R,[]));let Gt=An(r)===s;return this.processSegment(v,p,K,se,Gt?ee:s,!0,R).pipe(me(ze=>new Wt(R,ze instanceof Wt?[ze]:[])))}))):Io(t)))}getChildConfig(e,t,r){return t.children?Y({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Y({routes:t._loadedRoutes,injector:t._loadedInjector}):GB(e,t,r,this.urlSerializer).pipe(tt(i=>i?this.configLoader.loadChildren(e,t).pipe(nt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):ZB(t))):Y({routes:[],injector:e})}};function oj(n){n.sort((e,t)=>e.value.outlet===ee?-1:t.value.outlet===ee?1:e.value.outlet.localeCompare(t.value.outlet))}function sj(n){let e=n.value.routeConfig;return e&&e.path===""}function vE(n){let e=[],t=new Set;for(let r of n){if(!sj(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=vE(r.children);e.push(new Wt(r.value,i))}return e.filter(r=>!t.has(r))}function $C(n){return n.data||{}}function WC(n){return n.resolve||{}}function aj(n,e,t,r,i,s){return tt(c=>rj(n,e,t,r,c.extractedUrl,i,s).pipe(me(({state:u,tree:d})=>Oe(F({},c),{targetSnapshot:u,urlAfterRedirects:d}))))}function cj(n,e){return tt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Y(t);let s=new Set(i.map(d=>d.route)),c=new Set;for(let d of s)if(!c.has(d))for(let p of yE(d))c.add(p);let u=0;return We(c).pipe(ro(d=>s.has(d)?lj(d,r,n,e):(d.data=wu(d,d.parent,n).resolve,Y(void 0))),nt(()=>u++),io(1),tt(d=>u===c.size?Y(t):ft))})}function yE(n){let e=n.children.map(t=>yE(t)).flat();return[n,...e]}function lj(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!lE(i)&&(s[ea]=i.title),uj(s,n,e,r).pipe(me(c=>(n._resolvedData=c,n.data=wu(n,n.parent,t).resolve,null)))}function uj(n,e,t,r){let i=Dg(n);if(i.length===0)return Y({});let s={};return We(i).pipe(tt(c=>dj(n[c],e,t,r).pipe(lr(),nt(u=>{if(u instanceof No)throw Du(new Ii,u);s[c]=u}))),io(1),me(()=>s),Nr(c=>pE(c)?ft:to(c)))}function dj(n,e,t,r){let i=na(e)??r,s=ko(n,i),c=s.resolve?s.resolve(e,t):En(i,()=>s(e,t));return zr(c)}function _g(n){return Tt(e=>{let t=n(e);return t?We(t).pipe(me(()=>e)):Y(e)})}var kg=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ee);return r}getResolvedTitleForRoute(t){return t.data[ea]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>O(_E),providedIn:"root"})}return n})(),_E=(()=>{class n extends kg{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)($(LC))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oa=new V("",{providedIn:"root",factory:()=>({})}),Fg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&rt(0,"router-outlet")},dependencies:[ra],encapsulation:2})}return n})();function Lg(n){let e=n.children&&n.children.map(Lg),t=e?Oe(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=Fg),t}var sa=new V(""),wE=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(hC);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Y(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=zr(t.loadComponent()).pipe(me(bE),nt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),fs(()=>{this.componentLoaders.delete(t)})),i=new Yi(r,()=>new ne).pipe(Zi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=DE(r,this.compiler,t,this.onLoadEndListener).pipe(fs(()=>{this.childrenLoaders.delete(r)})),c=new Yi(s,()=>new ne).pipe(Zi());return this.childrenLoaders.set(r,c),c}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DE(n,e,t,r){return zr(n.loadChildren()).pipe(me(bE),tt(i=>i instanceof Vp||Array.isArray(i)?Y(i):We(e.compileModuleAsync(i))),me(i=>{r&&r(n);let s,c,u=!1;return Array.isArray(i)?(c=i,u=!0):(s=i.create(t).injector,c=s.get(sa,[],{optional:!0,self:!0}).flat()),{routes:c.map(Lg),injector:s}}))}function fj(n){return n&&typeof n=="object"&&"default"in n}function bE(n){return fj(n)?n.default:n}var Su=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>O(hj),providedIn:"root"})}return n})(),hj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CE=new V("");var EE=new V(""),IE=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ne;transitionAbortSubject=new ne;configLoader=O(wE);environmentInjector=O(on);destroyRef=O(Nl);urlSerializer=O(ta);rootContexts=O(Oo);location=O(Eo);inputBindingEnabled=O(Eu,{optional:!0})!==null;titleStrategy=O(kg);options=O(oa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(Su);createViewTransition=O(CE,{optional:!0});navigationErrorHandler=O(EE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Y(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new fu(i)),r=i=>this.events.next(new hu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Oe(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Be(null),this.transitions.pipe(tn(r=>r!==null),Tt(r=>{let i=!1,s=!1;return Y(r).pipe(Tt(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),ft;this.currentTransition=r,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Oe(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let p="";return this.events.next(new _r(c.id,this.urlSerializer.serialize(c.rawUrl),p,Gs.IgnoredSameUrlNavigation)),c.resolve(!1),ft}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Y(c).pipe(Tt(p=>(this.events.next(new Si(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?ft:Promise.resolve(p))),aj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Oe(F({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new qs(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:v,source:I,restoredState:T,extras:E}=c,R=new Si(p,this.urlSerializer.serialize(v),I,T);this.events.next(R);let U=aE(this.rootComponentType).snapshot;return this.currentTransition=r=Oe(F({},c),{targetSnapshot:U,urlAfterRedirects:v,extras:Oe(F({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,Y(r)}else{let p="";return this.events.next(new _r(c.id,this.urlSerializer.serialize(c.extractedUrl),p,Gs.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ft}}),nt(c=>{let u=new cu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),me(c=>(this.currentTransition=r=Oe(F({},c),{guards:TB(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),r)),BB(this.environmentInjector,c=>this.events.next(c)),nt(c=>{if(r.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Du(this.urlSerializer,c.guardsResult);let u=new lu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),tn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Nt.GuardRejected),!1)),_g(c=>{if(c.guards.canActivateChecks.length!==0)return Y(c).pipe(nt(u=>{let d=new uu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Tt(u=>{let d=!1;return Y(u).pipe(cj(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Nt.NoDataFromResolver)}}))}),nt(u=>{let d=new du(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),_g(c=>{let u=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(nt(v=>{d.component=v}),me(()=>{})));for(let v of d.children)p.push(...u(v));return p};return Lc(u(c.targetSnapshot.root)).pipe(Pr(null),nn(1))}),_g(()=>this.afterPreactivation()),Tt(()=>{let{currentSnapshot:c,targetSnapshot:u}=r,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?We(d).pipe(me(()=>r)):Y(r)}),me(c=>{let u=bB(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r=Oe(F({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,r}),nt(()=>{this.events.next(new Ks)}),SB(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),nn(1),nt({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Or(this.transitionAbortSubject.pipe(nt(c=>{throw c}))),fs(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nr(c=>{if(this.destroyed)return r.resolve(!1),ft;if(s=!0,hE(c))this.events.next(new Gn(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),IB(c)?this.events.next(new Ro(c.url,c.navigationBehaviorOptions)):r.resolve(!1);else{let u=new Ao(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);try{let d=En(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof No){let{message:p,cancellationCode:v}=Du(this.urlSerializer,d);this.events.next(new Gn(r.id,this.urlSerializer.serialize(r.extractedUrl),p,v)),this.events.next(new Ro(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(u),c}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return ft}))}))}cancelNavigationTransition(t,r,i){let s=new Gn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pj(n){return n!==ou}var SE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>O(gj),providedIn:"root"})}return n})(),Cu=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},gj=(()=>{class n extends Cu{static \u0275fac=(()=>{let t;return function(i){return(t||(t=gp(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TE=(()=>{class n{urlSerializer=O(ta);options=O(oa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(Eo);urlHandlingStrategy=O(Su);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new qn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,c=i??s;return c instanceof qn?this.urlSerializer.serialize(c):c}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=aE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>O(mj),providedIn:"root"})}return n})(),mj=(()=>{class n extends TE{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Si?this.updateStateMemento():t instanceof _r?this.commitTransition(r):t instanceof qs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ks?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Gn&&(t.code===Nt.GuardRejected||t.code===Nt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ao?this.restoreHistory(r,!0):t instanceof yr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:c}=r;if(this.location.isCurrentPathEqualTo(t)||s){let u=this.browserPageId,d=F(F({},c),this.generateNgRouterState(i,u));this.location.replaceState(t,"",d)}else{let u=F(F({},c),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",u)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=gp(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bg(n,e){n.events.pipe(tn(t=>t instanceof yr||t instanceof Gn||t instanceof Ao||t instanceof _r),me(t=>t instanceof yr||t instanceof _r?0:(t instanceof Gn?t.code===Nt.Redirect||t.code===Nt.SupersededByNewNavigation:!1)?2:1),tn(t=>t!==2),nn(1)).subscribe(()=>{e()})}var vj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Tu=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(aC);stateManager=O(TE);options=O(oa,{optional:!0})||{};pendingTasks=O(Do);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(IE);urlSerializer=O(ta);location=O(Eo);urlHandlingStrategy=O(Su);_events=new ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(SE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(sa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(Eu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new be;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Gn&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yr)this.navigated=!0;else if(r instanceof Ro){let c=r.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),d=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||pj(i.source)},c);this.scheduleNavigation(u,ou,null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}wj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ou,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},c=i?.navigationId?i:null;if(i){let d=F({},i);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let u=this.parseUrl(t);this.scheduleNavigation(u,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Lg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:u,preserveFragment:d}=r,p=d?this.currentUrlTree.fragment:c,v=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":v=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=s||null}v!==null&&(v=this.removeEmptyProps(v));let I;try{let T=i?i.snapshot:this.routerState.snapshot.root;I=rE(T)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),I=this.currentUrlTree.root}return iE(I,t,v,p??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=xo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ou,null,r)}navigate(t,r={skipLocationChange:!1}){return _j(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},vj):r===!1?i=F({},yj):i=r,xo(t))return BC(this.currentUrlTree,t,i);let s=this.parseUrl(t);return BC(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let u,d,p;c?(u=c.resolve,d=c.reject,p=c.promise):p=new Promise((I,T)=>{u=I,d=T});let v=this.pendingTasks.add();return Bg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:u,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(I=>Promise.reject(I))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _j(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}function wj(n){return!(n instanceof Ks)&&!(n instanceof Ro)}var bj=new V("");function jg(n,...e){return ep([{provide:sa,multi:!0,useValue:n},[],{provide:Kn,useFactory:Cj,deps:[Tu]},{provide:Wp,multi:!0,useFactory:Ej},e.map(t=>t.\u0275providers)])}function Cj(n){return n.routerState.root}function Ej(){let n=O(Lr);return e=>{let t=n.get(vi);if(e!==t.components[0])return;let r=n.get(Tu),i=n.get(Ij);n.get(Sj)===1&&r.initialNavigation(),n.get(Tj,null,re.Optional)?.setUpPreloading(),n.get(bj,null,re.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ij=new V("",{factory:()=>new ne}),Sj=new V("",{providedIn:"root",factory:()=>1});var Tj=new V("");var Aj=["iframeRef"],Mu=class n{iframes;ngAfterViewInit(){window.addEventListener("message",e=>{e.data&&e.data.type&&["MOVE","RESET","SYNC","CHECKMATE"].includes(e.data.type)&&this.iframes.forEach(t=>{e.source!==t.nativeElement.contentWindow&&t.nativeElement.contentWindow?.postMessage(e.data,"*")})})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-main-page"]],viewQuery:function(t,r){if(t&1&&xn(Aj,5),t&2){let i;wt(i=Dt())&&(r.iframes=i)}},decls:8,vars:0,consts:[["iframeRef",""],[1,"main-page"],[1,"boards-container"],[1,"board-frame"],["src",Ep`iframepage?player=1`,"title","Player 1 Board"],["src",Ep`iframepage?player=2`,"title","Player 2 Board"]],template:function(t,r){t&1&&(_e(0,"div",1)(1,"div",2)(2,"div",3),rt(3,"iframe",4,0),ve(),_e(5,"div",3),rt(6,"iframe",5,0),ve()()())},styles:[".main-page[_ngcontent-%COMP%]{padding:20px;height:100%;display:flex;flex-direction:column;overflow:hidden}.boards-container[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center;align-items:stretch;flex:1;min-height:0}.board-frame[_ngcontent-%COMP%]{flex:1;max-width:800px;display:flex;flex-direction:column;align-items:center;min-height:0}.board-frame[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.board-frame[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:2px solid #333;border-radius:4px;overflow:hidden}"]})};function Vg(n){return n!=null&&`${n}`!="false"}function ME(n,e=0){return Rj(n)?Number(n):e}function Rj(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Pt(n){return n instanceof ln?n.nativeElement:n}var $g;try{$g=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$g=!1}var xE=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?sg(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||$g)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)($(_i))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var aa;function Nj(){if(aa==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>aa=!0}))}finally{aa=aa||!1}return aa}function xu(n){return Nj()?n:!!n.capture}var Ug;function Pj(){if(Ug==null){let n=typeof document<"u"?document.head:null;Ug=!!(n&&(n.createShadowRoot||n.attachShadow))}return Ug}function Wg(n){if(Pj()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function ca(n){return n.composedPath?n.composedPath()[0]:n.target}var kj=new V("cdk-dir-doc",{providedIn:"root",factory:Fj});function Fj(){return O(He)}var Lj=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Bj(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Lj.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var AE=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Te,t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=Bj(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)($(kj,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Hj=20,RE=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ne,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect(),c=-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,u=-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:c,left:u}}change(t=Hj){return t>0?this._change.pipe(Bf(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)($(xE),$(je),$(He,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var NE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=un({type:n}),n.\u0275inj=an({}),n})();function PE(n){return n.buttons===0||n.offsetX===0&&n.offsetY===0}function OE(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function Yg(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];i?n.setProperty(r,i,t?.has(r)?"important":""):n.removeProperty(r)}return n}function Fo(n,e){let t=e?"":"none";Yg(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function kE(n,e,t){Yg(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Pu(n,e){return e&&e!="none"?n+" "+e:n}function FE(n){let e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function Uj(n){let e=getComputedStyle(n),t=zg(e,"transition-property"),r=t.find(u=>u==="transform"||u==="all");if(!r)return 0;let i=t.indexOf(r),s=zg(e,"transition-duration"),c=zg(e,"transition-delay");return FE(s[i])+FE(c[i])}function zg(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function Qg(n){let e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Gg(n,e,t){let{top:r,bottom:i,left:s,right:c}=n;return t>=r&&t<=i&&e>=s&&e<=c}function ua(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function LE(n,e,t,r){let{top:i,right:s,bottom:c,left:u,width:d,height:p}=n,v=d*e,I=p*e;return r>i-I&&r<c+I&&t>u-v&&t<s+v}var Ou=class{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Qg(t)})})}handleScroll(e){let t=ca(e),r=this.positions.get(t);if(!r)return null;let i=r.scrollPosition,s,c;if(t===this._document){let p=this.getViewportScrollPosition();s=p.top,c=p.left}else s=t.scrollTop,c=t.scrollLeft;let u=i.top-s,d=i.left-c;return this.positions.forEach((p,v)=>{p.clientRect&&t!==v&&t.contains(v)&&ua(p.clientRect,u,d)}),i.top=s,i.left=c,{top:u,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function BE(n){let e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return r==="canvas"?VE(n,e):(r==="input"||r==="select"||r==="textarea")&&HE(n,e),jE("canvas",n,e,VE),jE("input, textarea, select",n,e,HE),e}function jE(n,e,t,r){let i=e.querySelectorAll(n);if(i.length){let s=t.querySelectorAll(n);for(let c=0;c<i.length;c++)r(i[c],s[c])}}var $j=0;function HE(n,e){e.type!=="file"&&(e.value=n.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${$j++}`)}function VE(n,e){let t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}var UE=xu({passive:!0}),Au=xu({passive:!1}),Wj=800,qg=new Set(["position"]),Kg=class{constructor(e,t,r,i,s,c){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=c,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ne,this._pointerMoveSubscription=be.EMPTY,this._pointerUpSubscription=be.EMPTY,this._scrollSubscription=be.EMPTY,this._resizeSubscription=be.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ne,this.started=new ne,this.released=new ne,this.ended=new ne,this.entered=new ne,this.exited=new ne,this.dropped=new ne,this.moved=this._moveEvents,this._pointerDown=u=>{if(this.beforeStarted.next(),this._handles.length){let d=this._getTargetHandle(u);d&&!this._disabledHandles.has(d)&&!this.disabled&&this._initializeDragSequence(d,u)}else this.disabled||this._initializeDragSequence(this._rootElement,u)},this._pointerMove=u=>{let d=this._getPointerPositionOnPage(u);if(!this._hasStartedDragging){let v=Math.abs(d.x-this._pickupPositionOnPage.x),I=Math.abs(d.y-this._pickupPositionOnPage.y);if(v+I>=this._config.dragStartThreshold){let E=Date.now()>=this._dragStartTime+this._getDragStartDelay(u),R=this._dropContainer;if(!E){this._endDragSequence(u);return}(!R||!R.isDragging()&&!R.isReceiving())&&(u.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(u)))}return}u.preventDefault();let p=this._getConstrainedPointerPosition(d);if(this._hasMoved=!0,this._lastKnownPointerPosition=d,this._updatePointerDirectionDelta(p),this._dropContainer)this._updateActiveDropContainer(p,d);else{let v=this._activeTransform;v.x=p.x-this._pickupPositionOnPage.x+this._passiveTransform.x,v.y=p.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(v.x,v.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:p,event:u,distance:this._getDragDistance(p),delta:this._pointerDirectionDelta})})},this._pointerUp=u=>{this._endDragSequence(u)},this._nativeDragStart=u=>{if(this._handles.length){let d=this._getTargetHandle(u);d&&!this._disabledHandles.has(d)&&!this.disabled&&u.preventDefault()}else this.disabled||u.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new Ou(r),c.registerDragItem(this)}get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){let t=Vg(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Fo(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>Pt(r)),this._handles.forEach(r=>Fo(r,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=Pt(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Au),t.addEventListener("touchstart",this._pointerDown,UE),t.addEventListener("dragstart",this._nativeDragStart,Au)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Pt(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Fo(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Fo(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){la(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._dropContainer;if(t){let r=this._rootElement,i=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),c=this._anchor=this._anchor||this._document.createComment(""),u=this._getShadowRoot();i.insertBefore(c,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),kE(r,!1,qg),this._document.body.appendChild(i.replaceChild(s,r)),this._getPreviewInsertionPoint(i,u).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let r=this.isDragging(),i=la(t),s=!i&&t.button!==0,c=this._rootElement,u=ca(t),d=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+Wj>Date.now(),p=i?OE(t):PE(t);if(u&&u.draggable&&t.type==="mousedown"&&t.preventDefault(),r||s||d||p)return;if(this._handles.length){let T=c.style;this._rootElementTapHighlight=T.webkitTapHighlightColor||"",T.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(T=>this._updateOnScroll(T)),this._boundaryElement&&(this._boundaryRect=Qg(this._boundaryElement));let v=this._previewTemplate;this._pickupPositionInElement=v&&v.template&&!v.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);let I=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:I.x,y:I.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){kE(this._rootElement,!0,qg),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),s=this._getDragDistance(i),c=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:c,distance:s,dropPoint:i}),t.drop(this,r,this._initialIndex,this._initialContainer,c,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){let e=this._previewTemplate,t=this.previewClass,r=e?e.template:null,i;if(r&&e){let s=e.matchSize?this._rootElement.getBoundingClientRect():null,c=e.viewContainer.createEmbeddedView(r,e.context);c.detectChanges(),i=WE(c,this._document),this._previewRef=c,e.matchSize?zE(i,s):i.style.transform=Nu(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{let s=this._rootElement;i=BE(s),zE(i,s.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return Yg(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},qg),Fo(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>i.classList.add(s)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=Uj(this._preview);return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=c=>{(!c||ca(c)===this._preview&&c.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",i),r(),clearTimeout(s))},s=setTimeout(i,t*1.5);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=WE(this._placeholderRef,this._document)):r=BE(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){let r=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,s=i?i.getBoundingClientRect():r,c=la(t)?t.targetTouches[0]:t,u=this._getViewportScrollPosition(),d=c.pageX-s.left-u.left,p=c.pageY-s.top-u.top;return{x:s.left-r.left+d,y:s.top-r.top+p}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),r=la(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,s=r.pageY-t.top;if(this._ownerSVGElement){let c=this._ownerSVGElement.getScreenCTM();if(c){let u=this._ownerSVGElement.createSVGPoint();return u.x=i,u.y=s,u.matrixTransform(c.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if(this.lockAxis==="x"||t==="x"?i=this._pickupPositionOnPage.y:(this.lockAxis==="y"||t==="y")&&(r=this._pickupPositionOnPage.x),this._boundaryRect){let{x:s,y:c}=this._pickupPositionInElement,u=this._boundaryRect,{width:d,height:p}=this._getPreviewRect(),v=u.top+c,I=u.bottom-(p-c),T=u.left+s,E=u.right-(d-s);r=$E(r,T,E),i=$E(i,v,I)}return{x:r,y:i}}_updatePointerDirectionDelta(e){let{x:t,y:r}=e,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,c=Math.abs(t-s.x),u=Math.abs(r-s.y);return c>this._config.pointerDirectionChangeThreshold&&(i.x=t>s.x?1:-1,s.x=t),u>this._config.pointerDirectionChangeThreshold&&(i.y=r>s.y?1:-1,s.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Fo(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Au),e.removeEventListener("touchstart",this._pointerDown,UE),e.removeEventListener("dragstart",this._nativeDragStart,Au)}_applyRootElementTransform(e,t){let r=Nu(e,t),i=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=i.transform&&i.transform!="none"?i.transform:""),i.transform=Pu(r,this._initialTransform)}_applyPreviewTransform(e,t){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=Nu(e,t);this._preview.style.transform=Pu(i,r)}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(r.width===0&&r.height===0||i.width===0&&i.height===0)return;let s=r.left-i.left,c=i.right-r.right,u=r.top-i.top,d=i.bottom-r.bottom;r.width>i.width?(s>0&&(e+=s),c>0&&(e-=c)):e=0,r.height>i.height?(u>0&&(t+=u),d>0&&(t-=d)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:la(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let r=ca(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&ua(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Wg(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let r=this._previewContainer||"global";if(r==="parent")return e;if(r==="global"){let i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Pt(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function Nu(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function $E(n,e,t){return Math.max(e,Math.min(t,n))}function la(n){return n.type[0]==="t"}function WE(n,e){let t=n.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function zE(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=Nu(e.left,e.top)}function zj(n,e,t){let r=GE(e,n.length-1),i=GE(t,n.length-1);if(r===i)return;let s=n[r],c=i<r?-1:1;for(let u=r;u!==i;u+=c)n[u]=n[u+c];n[i]=s}function GE(n,e){return Math.max(0,Math.min(e,n))}var qE=.05,YE=.05,Zg=class{constructor(e,t,r,i,s){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ne,this.entered=new ne,this.exited=new ne,this.dropped=new ne,this.sorted=new ne,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=be.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ne,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),Lf(0,bc).pipe(Or(this._stopScrollTimers)).subscribe(()=>{let c=this._scrollNode,u=this.autoScrollStep;this._verticalScrollDirection===1?c.scrollBy(0,-u):this._verticalScrollDirection===2&&c.scrollBy(0,u),this._horizontalScrollDirection===1?c.scrollBy(-u,0):this._horizontalScrollDirection===2&&c.scrollBy(u,0)})},this.element=Pt(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Ou(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){this._draggingStarted();let s;i==null?(s=this.sortingDisabled?this._draggables.indexOf(e):-1,s===-1&&(s=this._getItemIndexFromPointerPosition(e,t,r))):s=i;let c=this._activeDraggables,u=c.indexOf(e),d=e.getPlaceholderElement(),p=c[s];if(p===e&&(p=c[s+1]),!p&&(s==null||s===-1||s<c.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(p=c[0]),u>-1&&c.splice(u,1),p&&!this._dragDropRegistry.isDragging(p)){let v=p.getRootElement();v.parentElement.insertBefore(d,v),c.splice(s,0,e)}else Pt(this.element).appendChild(d),c.push(e);d.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,s,c,u){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:s,distance:c,dropPoint:u})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){let t=Pt(this.element);return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?(this._orientation==="horizontal"&&this._direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!LE(this._clientRect,qE,t,r))return;let s=this._itemPositions,c=this._getItemIndexFromPointerPosition(e,t,r,i);if(c===-1&&s.length>0)return;let u=this._orientation==="horizontal",d=s.findIndex(K=>K.drag===e),p=s[c],v=s[d].clientRect,I=p.clientRect,T=d>c?1:-1,E=this._getItemOffsetPx(v,I,T),R=this._getSiblingOffsetPx(d,s,T),U=s.slice();zj(s,d,c),this.sorted.next({previousIndex:d,currentIndex:c,container:this,item:e}),s.forEach((K,se)=>{if(U[se]===K)return;let Gt=K.drag===e,ze=Gt?E:R,Zn=Gt?e.getPlaceholderElement():K.drag.getRootElement();K.offset+=ze,u?(Zn.style.transform=Pu(`translate3d(${Math.round(K.offset)}px, 0, 0)`,K.initialTransform),ua(K.clientRect,0,ze)):(Zn.style.transform=Pu(`translate3d(0, ${Math.round(K.offset)}px, 0)`,K.initialTransform),ua(K.clientRect,ze,0))}),this._previousSwap.overlaps=Gg(I,t,r),this._previousSwap.drag=p.drag,this._previousSwap.delta=u?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,s=0;if(this._parentPositions.positions.forEach((c,u)=>{u===this._document||!c.clientRect||r||LE(c.clientRect,qE,e,t)&&([i,s]=Gj(u,c.clientRect,e,t),(i||s)&&(r=u))}),!i&&!s){let{width:c,height:u}=this._viewportRuler.getViewportSize(),d={width:c,height:u,top:0,right:c,bottom:u,left:0};i=QE(d,t),s=XE(d,e),r=window}r&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=r,(i||s)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=Pt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let e=Pt(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){let e=this._orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:Qg(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;let e=Pt(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{let r=t.getRootElement();if(r){let i=this._itemPositions.find(s=>s.drag===t)?.initialTransform;r.style.transform=i||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){let i=this._orientation==="horizontal",s=t[e].clientRect,c=t[e+r*-1],u=s[i?"width":"height"]*r;if(c){let d=i?"left":"top",p=i?"right":"bottom";r===-1?u-=c.clientRect[d]-s[p]:u+=s[d]-c.clientRect[p]}return u}_getItemOffsetPx(e,t,r){let i=this._orientation==="horizontal",s=i?t.left-e.left:t.top-e.top;return r===-1&&(s+=i?t.width-e.width:t.height-e.height),s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this._orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let c=r[r.length-1].clientRect;return i?e>=c.right:t>=c.bottom}else{let c=r[0].clientRect;return i?e<=c.left:t<=c.top}}_getItemIndexFromPointerPosition(e,t,r,i){let s=this._orientation==="horizontal",c=this._itemPositions.findIndex(({drag:u,clientRect:d})=>{if(u===e)return!1;if(i){let p=s?i.x:i.y;if(u===this._previousSwap.drag&&this._previousSwap.overlaps&&p===this._previousSwap.delta)return!1}return s?t>=Math.floor(d.left)&&t<Math.floor(d.right):r>=Math.floor(d.top)&&r<Math.floor(d.bottom)});return c===-1||!this.sortPredicate(c,e,this)?-1:c}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return this._clientRect!=null&&Gg(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!Gg(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;let s=Pt(this.element);return i===s||s.contains(i)}_startReceiving(e,t){let r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{ua(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=Wg(Pt(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function QE(n,e){let{top:t,bottom:r,height:i}=n,s=i*YE;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}function XE(n,e){let{left:t,right:r,width:i}=n,s=i*YE;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}function Gj(n,e,t,r){let i=QE(e,r),s=XE(e,t),c=0,u=0;if(i){let d=n.scrollTop;i===1?d>0&&(c=1):n.scrollHeight-d>n.clientHeight&&(c=2)}if(s){let d=n.scrollLeft;s===1?d>0&&(u=1):n.scrollWidth-d>n.clientWidth&&(u=2)}return[c,u]}var Ru=xu({passive:!1,capture:!0}),qj=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new ne,this.pointerUp=new ne,this.scroll=new ne,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ru)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ru)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),this._activeDragInstances.length===1)){let i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ru}),i||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Ru}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,c)=>{this._document.addEventListener(c,s.handler,s.options)})})}}stopDragging(t){let r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),this._activeDragInstances.length===0&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){let r=[this.scroll];return t&&t!==this._document&&r.push(new ge(i=>this._ngZone.runOutsideAngular(()=>{let c=u=>{this._activeDragInstances.length&&i.next(u)};return t.addEventListener("scroll",c,!0),()=>{t.removeEventListener("scroll",c,!0)}}))),Vc(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)($(je),$(He))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Kj={dragStartThreshold:5,pointerDirectionChangeThreshold:5},JE=(()=>{class n{constructor(t,r,i,s){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s}createDrag(t,r=Kj){return new Kg(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Zg(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)($(He),$(je),$(RE),$(qj))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var KE=new V("CDK_DRAG_PARENT");var Zj=new V("CDK_DRAG_CONFIG");var Yj=new V("CdkDropList");var ZE=new V("CdkDragHandle");var Qj=new V("CdkDragPlaceholder");var Xj=new V("CdkDragPreview");var Jj="cdk-drag",eI=(()=>{class n{constructor(t,r,i,s,c,u,d,p,v,I,T){this.element=t,this.dropContainer=r,this._ngZone=s,this._viewContainerRef=c,this._dir=d,this._changeDetectorRef=v,this._selfHandle=I,this._parentDrag=T,this._destroyed=new ne,this.started=new Te,this.released=new Te,this.ended=new Te,this.entered=new Te,this.exited=new Te,this.dropped=new Te,this.moved=new ge(E=>{let R=this._dragRef.moved.pipe(me(U=>({source:this,pointerPosition:U.pointerPosition,event:U.event,delta:U.delta,distance:U.distance}))).subscribe(E);return()=>{R.unsubscribe()}}),this._dragRef=p.createDrag(t,{dragStartThreshold:u&&u.dragStartThreshold!=null?u.dragStartThreshold:5,pointerDirectionChangeThreshold:u&&u.pointerDirectionChangeThreshold!=null?u.pointerDirectionChangeThreshold:5,zIndex:u?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),u&&this._assignDefaults(u),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Vg(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(nn(1),Or(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){let r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){let t=this.element.nativeElement,r=t;this.rootElementSelector&&(r=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):Pt(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let r=this._dir,i=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,c=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay=typeof i=="object"&&i?i:ME(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(c).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(nn(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains(Jj)){t.withParent(n._dragInstances.find(i=>i.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){let{lockAxis:r,dragStartDelay:i,constrainPosition:s,previewClass:c,boundaryElement:u,draggingDisabled:d,rootElementSelector:p,previewContainer:v}=t;this.disabled=d??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),s&&(this.constrainPosition=s),c&&(this.previewClass=c),u&&(this.boundaryElement=u),p&&(this.rootElementSelector=p),v&&(this.previewContainer=v)}_setupHandlesListener(){this._handles.changes.pipe(ai(this._handles),nt(t=>{let r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Tt(t=>Vc(...t.map(r=>r._stateChanges.pipe(ai(r))))),Or(this._destroyed)).subscribe(t=>{let r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(ye(ln),ye(Yj,12),ye(He),ye(je),ye(Sn),ye(Zj,8),ye(AE,8),ye(JE),ye(Di),ye(ZE,10),ye(KE,12))},n.\u0275dir=Tn({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(t&1&&(Hl(i,Xj,5),Hl(i,Qj,5),Hl(i,ZE,5)),t&2){let s;wt(s=Dt())&&(r._previewTemplate=s.first),wt(s=Dt())&&(r._placeholderTemplate=s.first),wt(s=Dt())&&(r._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){t&2&&Hr("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[0,"cdkDragDisabled","disabled"],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!1,features:[Ul([{provide:KE,useExisting:n}]),Un]}),n})();var tI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=un({type:n}),n.\u0275inj=an({providers:[JE],imports:[NE]}),n})();var rI=pN(nI(),1);var t2=["myModal"];function n2(n,e){if(n&1){let t=Mn();_e(0,"div",5)(1,"div",6),it("click",function(){Ke(t);let i=Ae();return Ze(i.changeSelection(1))}),rt(2,"img",7),ve(),_e(3,"div",6),it("click",function(){Ke(t);let i=Ae();return Ze(i.changeSelection(2))}),rt(4,"img",8),ve(),_e(5,"div",6),it("click",function(){Ke(t);let i=Ae();return Ze(i.changeSelection(3))}),rt(6,"img",9),ve(),_e(7,"div",6),it("click",function(){Ke(t);let i=Ae();return Ze(i.changeSelection(4))}),rt(8,"img",10),ve()()}if(n&2){let t=Ae();Ie(2),xe("src",t.getPieceIcon("queen"),Ps),Ie(2),xe("src",t.getPieceIcon("rook"),Ps),Ie(2),xe("src",t.getPieceIcon("bishop"),Ps),Ie(2),xe("src",t.getPieceIcon("knight"),Ps)}}function r2(n,e){if(n&1){let t=Mn();_e(0,"div",5)(1,"div",6),it("click",function(){Ke(t);let i=Ae();return Ze(i.changeSelection(1))}),fn(2,"\u265B"),ve(),_e(3,"div",6),it("click",function(){Ke(t);let i=Ae();return Ze(i.changeSelection(2))}),fn(4,"\u265C"),ve(),_e(5,"div",6),it("click",function(){Ke(t);let i=Ae();return Ze(i.changeSelection(3))}),fn(6,"\u265D"),ve(),_e(7,"div",6),it("click",function(){Ke(t);let i=Ae();return Ze(i.changeSelection(4))}),fn(8,"\u265E"),ve()()}}var i2=["boardRef"],o2=["modal"],s2=()=>["red","green","blue","orange"];function a2(n,e){if(n&1){let t=Mn();_e(0,"div",11),it("cdkDragEnded",function(i){Ke(t);let s=Ae();return Ze(s.dragEnded(i))})("cdkDragMoved",function(i){Ke(t);let s=Ae();return Ze(s.dragMoved(i))})("cdkDragStarted",function(i){Ke(t);let s=Ae();return Ze(s.dragStart(i))}),ve()}if(n&2){let t=e.$implicit,r=Ae();Wn("transform","translate3d("+t.point.col*r.pieceSize+"px, "+t.point.row*r.pieceSize+"px,0px)")("max-height",r.pieceSize+"px")("font-size",r.pieceSize*.8+"px")("width",r.pieceSize+"px")("height",r.pieceSize+"px"),xe("cdkDragDisabled",r.engineFacade.dragDisabled)("innerHTML",r.engineFacade.pieceIconManager.isDefaultIcons()?t.constant.icon:"",_b)("ngStyle",r.engineFacade.pieceIconManager.isDefaultIcons()?"":r.getCustomPieceIcons(t))}}function c2(n,e){if(n&1&&(_e(0,"span",18),fn(1),ve()),n&2){let t=Ae(2).index,r=Ae();Wn("color",t%2===0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),Ie(),Vl(" ",r.engineFacade.coords.yCoords[t]," ")}}function l2(n,e){if(n&1&&(_e(0,"span",19),fn(1),ve()),n&2){let t=Ae().index,r=Ae(2);Wn("color",t%2===0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),Ie(),Vl(" ",r.engineFacade.coords.xCoords[t]," ")}}function u2(n,e){if(n&1&&(_e(0,"div",20),rt(1,"div",21),ve()),n&2){let t=Ae(3);Ie(),Wn("font-size",t.pieceSize+"px"),xe("ngClass","piece")}}function d2(n,e){if(n&1&&(_e(0,"div",14),dn(1,c2,2,5,"span",15)(2,l2,2,5,"span",16)(3,u2,2,3,"div",17),ve()),n&2){let t=e.index,r=Ae().index,i=Ae();Wn("background-color",i.getTileBackgroundColor(r,t)),Hr("current-selection",i.showActivePiece&&i.engineFacade.board.isXYInActiveMove(r,t))("king-check",i.engineFacade.board.isKingChecked(i.engineFacade.board.getPieceByPoint(r,t)))("point-circle",i.engineFacade.board.isXYInPointSelection(r,t))("possible-capture",i.showPossibleCaptures&&i.engineFacade.board.isXYInPossibleCaptures(r,t))("possible-point",i.engineFacade.board.isXYInPossibleMoves(r,t)&&i.showLegalMoves),Ie(),xe("ngIf",i.showCoords&&t===7),Ie(),xe("ngIf",i.showCoords&&r===7),Ie(),xe("ngIf",i.engineFacade.board.getPieceByPoint(r,t))}}function f2(n,e){if(n&1&&(_e(0,"div",12),dn(1,d2,4,15,"div",13),ve()),n&2){let t=e.$implicit;Ie(),xe("ngForOf",t)}}function h2(n,e){if(n&1&&(As(),_e(0,"defs")(1,"marker",22),rt(2,"path",23),ve()()),n&2){let t=e.$implicit;Ie(),xe("id",t+"Arrow"),Ie(),Wn("fill",t)}}function p2(n,e){if(n&1&&(As(),rt(0,"line",24)),n&2){let t=e.$implicit;wi("marker-end","url(#"+t.end.color+"Arrow)")("stroke",t.end.color)("x1",t.start.x)("x2",t.end.x)("y1",t.start.y)("y2",t.end.y)}}function g2(n,e){if(n&1&&(As(),rt(0,"circle",25)),n&2){let t=e.$implicit,r=Ae();wi("cx",t.drawPoint.x)("cy",t.drawPoint.y)("r",r.engineFacade.heightAndWidth/18)("stroke",t.drawPoint.color)}}var y=function(n){return n[n.WHITE=0]="WHITE",n[n.BLACK=1]="BLACK",n}(y||{}),Gr=class{constructor(e,t,r,i,s){this.checkPoints=[],this.color=t,this.constant=r,this.point=e,this.relValue=i,this.board=s}},C=class n{constructor(e,t){this.row=e,this.col=t}isEqual(e){return e&&this.row===e.row&&this.col===e.col}hasCoordsEqual(e,t){return e&&t&&this.row===e&&this.col===t}isInRange(){return this.row>=0&&this.row<=7&&this.col>=0&&this.col<=7}clone(){return new n(this.row,this.col)}},Ye=class extends Gr{constructor(e,t,r,i){super(e,t,r,5,i),this.isMovedAlready=!1}getPossibleMoves(){let e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new C(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new C(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new C(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new C(t,i));return e}getPossibleCaptures(){let e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i)if(this.board.isFieldTakenByEnemy(i,r,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,r));break}else if(!this.board.isFieldEmpty(i,r))break;for(let i=t-1;i>=0;--i)if(this.board.isFieldTakenByEnemy(i,r,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,r));break}else if(!this.board.isFieldEmpty(i,r))break;for(let i=r-1;i>=0;--i)if(this.board.isFieldTakenByEnemy(t,i,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(t,i));break}else if(!this.board.isFieldEmpty(t,i))break;for(let i=r+1;i<8;++i)if(this.board.isFieldTakenByEnemy(t,i,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(t,i));break}else if(!this.board.isFieldEmpty(t,i))break;return e}getCoveredFields(){let e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i)if(this.board.isFieldEmpty(i,r))e.push(new C(i,r));else if(!(this.board.getPieceByField instanceof we)){e.push(new C(i,r));break}for(let i=t-1;i>=0;--i)if(this.board.isFieldEmpty(i,r))e.push(new C(i,r));else if(!(this.board.getPieceByField instanceof we)){e.push(new C(i,r));break}for(let i=r-1;i>=0;--i)if(this.board.isFieldEmpty(t,i))e.push(new C(t,i));else if(!(this.board.getPieceByField instanceof we)){e.push(new C(t,i));break}for(let i=r+1;i<8;++i)if(this.board.isFieldEmpty(t,i))e.push(new C(t,i));else if(!(this.board.getPieceByField instanceof we)){e.push(new C(t,i));break}return e}},we=class extends Gr{constructor(e,t,r,i){super(e,t,r,0,i),this.castledAlready=!1,this.shortCastled=!1,this.longCastled=!1,this.isCastling=!1}getPossibleMoves(){let e=[],t=this.point.row,r=this.point.col;if(this.board.isFieldEmpty(t,r-1)&&!this.board.isFieldUnderAttack(t,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t,r-1)),this.board.isFieldEmpty(t,r+1)&&!this.board.isFieldUnderAttack(t,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t,r+1)),this.board.isFieldEmpty(t+1,r)&&!this.board.isFieldUnderAttack(t+1,r,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+1,r)),this.board.isFieldEmpty(t-1,r)&&!this.board.isFieldUnderAttack(t-1,r,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-1,r)),this.board.isFieldEmpty(t-1,r-1)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-1,r-1)),this.board.isFieldEmpty(t-1,r+1)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-1,r+1)),this.board.isFieldEmpty(t+1,r-1)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+1,r-1)),this.board.isFieldEmpty(t+1,r+1)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+1,r+1)),!this.isMovedAlready){let i=!0;for(let c=r-1;c>0;--c)if(!this.board.isFieldEmpty(t,c)||this.board.isFieldUnderAttack(t,c,this.color===y.WHITE?y.BLACK:y.WHITE)){i=!1;break}if(i&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,0)){let c=this.board.getPieceByField(t,0);c instanceof Ye&&(c.isMovedAlready||e.push(new C(t,r-2)))}let s=!0;for(let c=r+1;c<7;++c)if(!this.board.isFieldEmpty(t,c)||this.board.isFieldUnderAttack(t,c,this.color===y.WHITE?y.BLACK:y.WHITE)){s=!1;break}if(s&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,7)){let c=this.board.getPieceByField(t,7);c instanceof Ye&&(c.isMovedAlready||e.push(new C(t,r+2)))}}return e}getPossibleCaptures(){let e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&!this.board.isFieldUnderAttack(t,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t,r-1)),this.board.isFieldTakenByEnemy(t,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&!this.board.isFieldUnderAttack(t,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t,r+1)),this.board.isFieldTakenByEnemy(t+1,r,this.color===y.WHITE?y.BLACK:y.WHITE)&&!this.board.isFieldUnderAttack(t+1,r,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+1,r)),this.board.isFieldTakenByEnemy(t-1,r,this.color===y.WHITE?y.BLACK:y.WHITE)&&!this.board.isFieldUnderAttack(t-1,r,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-1,r)),this.board.isFieldTakenByEnemy(t-1,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-1,r+1)),this.board.isFieldTakenByEnemy(t+1,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+1,r+1)),e}getCoveredFields(){let e=[],t=this.point.row,r=this.point.col;return e.push(new C(t,r-1)),e.push(new C(t,r+1)),e.push(new C(t+1,r)),e.push(new C(t-1,r)),e.push(new C(t-1,r-1)),e.push(new C(t-1,r+1)),e.push(new C(t+1,r-1)),e.push(new C(t+1,r+1)),e}},Ot=class extends Gr{constructor(e,t,r,i){super(e,t,r,3,i)}getPossibleMoves(){let e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new C(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new C(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new C(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new C(i,s));return e}getPossibleCaptures(){let e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s)if(this.board.isFieldTakenByEnemy(i,s,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,s));break}else if(!this.board.isFieldEmpty(i,s))break;for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s)if(this.board.isFieldTakenByEnemy(i,s,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,s));break}else if(!this.board.isFieldEmpty(i,s))break;for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s)if(this.board.isFieldTakenByEnemy(i,s,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,s));break}else if(!this.board.isFieldEmpty(i,s))break;for(let i=t+1,s=r+1;i<8&&s<8;++i,++s)if(this.board.isFieldTakenByEnemy(i,s,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,s));break}else if(!this.board.isFieldEmpty(i,s))break;return e}getCoveredFields(){let e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s)if(this.board.isFieldEmpty(i,s))e.push(new C(i,s));else{this.board.getPieceByField(i,s)instanceof we||e.push(new C(i,s));break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s)if(this.board.isFieldEmpty(i,s))e.push(new C(i,s));else{this.board.getPieceByField(i,s)instanceof we||e.push(new C(i,s));break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s)if(this.board.isFieldEmpty(i,s))e.push(new C(i,s));else{this.board.getPieceByField(i,s)instanceof we||e.push(new C(i,s));break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s)if(this.board.isFieldEmpty(i,s))e.push(new C(i,s));else{this.board.getPieceByField(i,s)instanceof we||e.push(new C(i,s));break}return e}},kt=class extends Gr{constructor(e,t,r,i){super(e,t,r,3,i),this.isMovedAlready=!1}getPossibleMoves(){let e=[],t=this.point.row,r=this.point.col;return this.board.isFieldEmpty(t-2,r-1)&&e.push(new C(t-2,r-1)),this.board.isFieldEmpty(t-2,r+1)&&e.push(new C(t-2,r+1)),this.board.isFieldEmpty(t-1,r-2)&&e.push(new C(t-1,r-2)),this.board.isFieldEmpty(t-1,r+2)&&e.push(new C(t-1,r+2)),this.board.isFieldEmpty(t+1,r-2)&&e.push(new C(t+1,r-2)),this.board.isFieldEmpty(t+1,r+2)&&e.push(new C(t+1,r+2)),this.board.isFieldEmpty(t+2,r-1)&&e.push(new C(t+2,r-1)),this.board.isFieldEmpty(t+2,r+1)&&e.push(new C(t+2,r+1)),e}getPossibleCaptures(){let e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t-2,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-2,r-1)),this.board.isFieldTakenByEnemy(t-2,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-2,r+1)),this.board.isFieldTakenByEnemy(t-1,r-2,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-1,r-2)),this.board.isFieldTakenByEnemy(t-1,r+2,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-1,r+2)),this.board.isFieldTakenByEnemy(t+1,r-2,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+1,r-2)),this.board.isFieldTakenByEnemy(t+1,r+2,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+1,r+2)),this.board.isFieldTakenByEnemy(t+2,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+2,r-1)),this.board.isFieldTakenByEnemy(t+2,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+2,r+1)),e}getCoveredFields(){let e=[],t=this.point.row,r=this.point.col;return e.push(new C(t-2,r-1)),e.push(new C(t-2,r+1)),e.push(new C(t-1,r-2)),e.push(new C(t-1,r+2)),e.push(new C(t+1,r-2)),e.push(new C(t+1,r+2)),e.push(new C(t+2,r-1)),e.push(new C(t+2,r+1)),e}},Qe=class extends Gr{constructor(e,t,r,i){super(e,t,r,1,i),this.isMovedAlready=!1}getPossibleMoves(){let e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===y.WHITE||this.board.reverted&&this.color===y.BLACK?this.board.isFieldEmpty(t-1,r)&&(e.push(new C(t-1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t-2,r)&&e.push(new C(t-2,r))):this.board.isFieldEmpty(t+1,r)&&(e.push(new C(t+1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t+2,r)&&e.push(new C(t+2,r))),e}getPossibleCaptures(){let e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===y.WHITE||this.board.reverted&&this.color===y.BLACK?(this.board.isFieldTakenByEnemy(t-1,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t-1,r+1))):(this.board.isFieldTakenByEnemy(t+1,r-1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===y.WHITE?y.BLACK:y.WHITE)&&e.push(new C(t+1,r+1))),this.board.enPassantPoint&&this.board.enPassantPiece.color===(this.color===y.WHITE?y.BLACK:y.WHITE)&&t===this.board.enPassantPiece.point.row&&Math.abs(this.board.enPassantPiece.point.col-r)===1&&e.push(this.board.enPassantPoint),e}getCoveredFields(){let e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===y.WHITE||this.board.reverted&&this.color===y.BLACK?(e.push(new C(t-1,r-1)),e.push(new C(t-1,r+1))):(e.push(new C(t+1,r-1)),e.push(new C(t+1,r+1))),e}},hn=class extends Gr{constructor(e,t,r,i){super(e,t,r,9,i)}getPossibleMoves(){let e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new C(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new C(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new C(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new C(i,s));for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new C(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new C(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new C(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new C(t,i));return e}getPossibleCaptures(){let e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s)if(this.board.isFieldTakenByEnemy(i,s,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,s));break}else if(!this.board.isFieldEmpty(i,s))break;for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s)if(this.board.isFieldTakenByEnemy(i,s,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,s));break}else if(!this.board.isFieldEmpty(i,s))break;for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s)if(this.board.isFieldTakenByEnemy(i,s,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,s));break}else if(!this.board.isFieldEmpty(i,s))break;for(let i=t+1,s=r+1;i<8&&s<8;++i,++s)if(this.board.isFieldTakenByEnemy(i,s,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,s));break}else if(!this.board.isFieldEmpty(i,s))break;for(let i=t+1;i<8;++i)if(this.board.isFieldTakenByEnemy(i,r,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,r));break}else if(!this.board.isFieldEmpty(i,r))break;for(let i=t-1;i>=0;--i)if(this.board.isFieldTakenByEnemy(i,r,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(i,r));break}else if(!this.board.isFieldEmpty(i,r))break;for(let i=r-1;i>=0;--i)if(this.board.isFieldTakenByEnemy(t,i,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(t,i));break}else if(!this.board.isFieldEmpty(t,i))break;for(let i=r+1;i<8;++i)if(this.board.isFieldTakenByEnemy(t,i,this.color===y.WHITE?y.BLACK:y.WHITE)){e.push(new C(t,i));break}else if(!this.board.isFieldEmpty(t,i))break;return e}getCoveredFields(){let e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i)if(this.board.isFieldEmpty(i,r))e.push(new C(i,r));else{this.board.getPieceByField(i,r)instanceof we||e.push(new C(i,r));break}for(let i=t-1;i>=0;--i)if(this.board.isFieldEmpty(i,r))e.push(new C(i,r));else{this.board.getPieceByField(i,r)instanceof we||e.push(new C(i,r));break}for(let i=r-1;i>=0;--i)if(this.board.isFieldEmpty(t,i))e.push(new C(t,i));else{this.board.getPieceByField(t,i)instanceof we||e.push(new C(t,i));break}for(let i=r+1;i<8;++i)if(this.board.isFieldEmpty(t,i))e.push(new C(t,i));else{this.board.getPieceByField(t,i)instanceof we||e.push(new C(t,i));break}for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s)if(this.board.isFieldEmpty(i,s))e.push(new C(i,s));else{this.board.getPieceByField(i,s)instanceof we||e.push(new C(i,s));break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s)if(this.board.isFieldEmpty(i,s))e.push(new C(i,s));else{this.board.getPieceByField(i,s)instanceof we||e.push(new C(i,s));break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s)if(this.board.isFieldEmpty(i,s))e.push(new C(i,s));else{this.board.getPieceByField(i,s)instanceof we||e.push(new C(i,s));break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s)if(this.board.isFieldEmpty(i,s))e.push(new C(i,s));else{this.board.getPieceByField(i,s)instanceof we||e.push(new C(i,s));break}return e}},q={WHITE_KING:{name:"King",icon:"&#x2654;"},WHITE_QUEEN:{name:"Queen",icon:"&#x2655;"},WHITE_KNIGHT:{name:"Knight",icon:"&#x2658"},WHITE_ROOK:{name:"Rook",icon:"&#x2656"},WHITE_PAWN:{name:"Pawn",icon:"&#x2659"},WHITE_BISHOP:{name:"Bishop",icon:"&#x2657"},BLACK_KING:{name:"King",icon:"&#x265A"},BLACK_QUEEN:{name:"Queen",icon:"&#x265B"},BLACK_KNIGHT:{name:"Knight",icon:"&#x265E"},BLACK_ROOK:{name:"Rook",icon:"&#x265C"},BLACK_PAWN:{name:"Pawn",icon:"&#x265F"},BLACK_BISHOP:{name:"Bishop",icon:"&#x265D"}},ku=class{process(e,t){let r=e;if(e){t.board.reverted=!1,t.board.pieces=[];let i=r.split("/");for(let s=0;s<8;++s){let c=0;for(let u=0;u<i[s].split(" ")[0].length;++u){let d=i[s].charAt(u);if(d.match(/[0-9]/))c+=Number(d);else{switch(d){case"r":t.board.pieces.push(new Ye(new C(s,c),y.BLACK,q.BLACK_ROOK,t.board));break;case"n":t.board.pieces.push(new kt(new C(s,c),y.BLACK,q.BLACK_KNIGHT,t.board));break;case"b":t.board.pieces.push(new Ot(new C(s,c),y.BLACK,q.BLACK_BISHOP,t.board));break;case"q":t.board.pieces.push(new hn(new C(s,c),y.BLACK,q.BLACK_QUEEN,t.board));break;case"k":t.board.pieces.push(new we(new C(s,c),y.BLACK,q.BLACK_KING,t.board));break;case"p":{let p=new Qe(new C(s,c),y.BLACK,q.BLACK_PAWN,t.board);(p.color===y.BLACK&&p.point.row!==1||p.color===y.WHITE&&p.point.row!==6)&&(p.isMovedAlready=!0),t.board.pieces.push(p);break}case"R":t.board.pieces.push(new Ye(new C(s,c),y.WHITE,q.WHITE_ROOK,t.board));break;case"N":t.board.pieces.push(new kt(new C(s,c),y.WHITE,q.WHITE_KNIGHT,t.board));break;case"B":t.board.pieces.push(new Ot(new C(s,c),y.WHITE,q.WHITE_BISHOP,t.board));break;case"Q":t.board.pieces.push(new hn(new C(s,c),y.WHITE,q.WHITE_QUEEN,t.board));break;case"K":t.board.pieces.push(new we(new C(s,c),y.WHITE,q.WHITE_KING,t.board));break;case"P":{let p=new Qe(new C(s,c),y.WHITE,q.WHITE_PAWN,t.board);(p.color===y.BLACK&&p.point.row!==1||p.color===y.WHITE&&p.point.row!==6)&&(p.isMovedAlready=!0),t.board.pieces.push(p);break}}++c}}}this.setCurrentPlayer(t.board,r),this.setCastles(t.board,r),this.setEnPassant(r),this.setFullMoveCount(r),t.board.fen=r}else throw Error("Incorrect FEN provided")}setCurrentPlayer(e,t){if(t){let r=t.split(" ");e.currentWhitePlayer=r[1]==="w"}}setCastles(e,t){if(t){let i=t.split(" ")[2];i.includes("K")||this.setRookAlreadyMoved(e,y.WHITE,7),i.includes("Q")||this.setRookAlreadyMoved(e,y.WHITE,0),i.includes("k")||this.setRookAlreadyMoved(e,y.BLACK,7),i.includes("q")||this.setRookAlreadyMoved(e,y.BLACK,0)}}setFullMoveCount(e){}setEnPassant(e){e&&e.split(" ")[3]}setRookAlreadyMoved(e,t,r){let i=e.pieces.find(s=>s.color===t&&s instanceof Ye&&s.point.col===r);i&&(i.isMovedAlready=!0)}},Xg=class{constructor(e,t,r){this._xAxis=e,this._yAxis=t,this._reverted=r}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e}get reverted(){return this._reverted}set reverted(e){this._reverted=e}},j=class n{static willMoveCauseCheck(e,t,r,i,s,c){let u=c.getPieceByField(t,r),d=c.getPieceByField(i,s);u&&(u.point.row=i,u.point.col=s),d&&(c.pieces=c.pieces.filter(v=>v!==d));let p=c.isKingInCheck(e,c.pieces);return u&&(u.point.col=r,u.point.row=t),d&&c.pieces.push(d),p}static format(e,t,r){if(r){let i=104-e.col,s=104-t.col;return String.fromCharCode(i)+(e.row+1)+String.fromCharCode(s)+(t.row+1)}else return String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)+String.fromCharCode(t.col+97)+(Math.abs(t.row-7)+1)}static translateCoordsToIndex(e,t){let r,i;return t?(r=104-e.charCodeAt(0),i=+e.charAt(1)-1):(r=e.charCodeAt(0)-97,i=Math.abs(+e.charAt(1)-8)),new Xg(r,i,t)}static findPieceByPossibleMovesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new C(i.yAxis,i.xAxis),c=[];for(let u of t.pieces.filter(d=>d.color===r))for(let d of u.getPossibleMoves())!n.willMoveCauseCheck(u.color,u.point.row,u.point.col,i.yAxis,i.xAxis,t)&&d.isEqual(s)&&c.push(u);return c}static findPieceByPossibleCapturesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new C(i.yAxis,i.xAxis),c=[];for(let u of t.pieces.filter(d=>d.color===r))for(let d of u.getPossibleCaptures())!n.willMoveCauseCheck(u.color,u.point.row,u.point.col,i.yAxis,i.xAxis,t)&&d.isEqual(s)&&c.push(u);return c}static formatSingle(e,t){if(t){let r=104-e.col;return String.fromCharCode(r)+(e.row+1)}else return String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)}static getFirstLetterPiece(e){return e instanceof Qe?"P":e instanceof kt?"N":e instanceof Ot?"B":e instanceof Ye?"R":e instanceof we?"K":e instanceof hn?"Q":""}static reverse(e,t){return e.reverted?t+1:Math.abs(t-7)+1}static formatCol(e,t){return e.reverted?String.fromCharCode(104-t):String.fromCharCode(97+t)}},Fu=class{static loadDefaultPieces(e){e.pieces=[];for(let t=0;t<8;++t)e.pieces.push(new Qe(new C(1,t),y.BLACK,q.BLACK_PAWN,e));e.pieces.push(new Ye(new C(0,0),y.BLACK,q.BLACK_ROOK,e)),e.pieces.push(new kt(new C(0,1),y.BLACK,q.BLACK_KNIGHT,e)),e.pieces.push(new Ot(new C(0,2),y.BLACK,q.BLACK_BISHOP,e)),e.pieces.push(new hn(new C(0,3),y.BLACK,q.BLACK_QUEEN,e)),e.pieces.push(new we(new C(0,4),y.BLACK,q.BLACK_KING,e)),e.pieces.push(new Ot(new C(0,5),y.BLACK,q.BLACK_BISHOP,e)),e.pieces.push(new kt(new C(0,6),y.BLACK,q.BLACK_KNIGHT,e)),e.pieces.push(new Ye(new C(0,7),y.BLACK,q.BLACK_ROOK,e));for(let t=0;t<8;++t)e.pieces.push(new Qe(new C(6,t),y.WHITE,q.WHITE_PAWN,e));e.pieces.push(new Ye(new C(7,0),y.WHITE,q.WHITE_ROOK,e)),e.pieces.push(new kt(new C(7,1),y.WHITE,q.WHITE_KNIGHT,e)),e.pieces.push(new Ot(new C(7,2),y.WHITE,q.WHITE_BISHOP,e)),e.pieces.push(new hn(new C(7,3),y.WHITE,q.WHITE_QUEEN,e)),e.pieces.push(new we(new C(7,4),y.WHITE,q.WHITE_KING,e)),e.pieces.push(new Ot(new C(7,5),y.WHITE,q.WHITE_BISHOP,e)),e.pieces.push(new kt(new C(7,6),y.WHITE,q.WHITE_KNIGHT,e)),e.pieces.push(new Ye(new C(7,7),y.WHITE,q.WHITE_ROOK,e)),e.calculateFEN()}},Jg=class{process(e,t){if(e){t.board.reverted=!1,t.board.pieces=[],t.reset(),Fu.loadDefaultPieces(t.board);let r=this.extractMoves(e),i=-1;for(let s of r){++i,s=s.replace(/[+#]/g,"");let c="";s.includes("=")&&(c=this.resolvePromotion(s.substring(s.length-1)),s=s.substring(0,s.length-2));let u=i===0||i%2===0?y.WHITE:y.BLACK;if(/^[a-z]\d$/g.test(s)){let d=j.findPieceByPossibleMovesContaining(s,t.board,u).find(p=>p instanceof Qe);d||(d=j.findPieceByPossibleCapturesContaining(s,t.board,u).find(p=>p instanceof Qe)),d&&t.move(j.formatSingle(d.point,!1)+s+c)}else if(/^[A-Z][a-h]\d$/g.test(s)){let p=j.findPieceByPossibleMovesContaining(s.substring(1),t.board,u).find(v=>this.resolvePieceByFirstChar(s.charAt(0),v));p&&t.move(j.formatSingle(p.point,!1)+s.substring(1)+c)}else if(s==="O-O")t.move(u===y.WHITE?"e1g1":"e8g8");else if(/^[a-z]x[a-z]\d$/g.test(s)){let d=j.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,u).filter(v=>v instanceof Qe),p;d.length>1?p=this.resolveByCol(d,s.substring(0,1)):p=d[0],p&&t.move(j.formatSingle(p.point,!1)+s.substring(s.indexOf("x")+1)+c)}else if(/^[A-Z]x[a-z]\d$/g.test(s)){let d=j.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,u).find(p=>this.resolvePieceByFirstChar(s.substring(0,1),p));d&&t.move(j.formatSingle(d.point,!1)+s.substring(s.indexOf("x")+1)+c)}else if(s==="O-O-O")t.move(u===y.WHITE?"e1c1":"e8c8");else if(/^[A-Z]\dx[a-z]\d$/g.test(s)){let d=j.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,u).filter(v=>this.resolvePieceByFirstChar(s.charAt(0),v)),p=this.resolveByRow(d,s.substring(1,2));p&&t.move(j.formatSingle(p.point,!1)+s.substring(s.indexOf("x")+1)+c)}else if(/^[A-Z][a-z][a-z]\d$/g.test(s)){let d=j.findPieceByPossibleMovesContaining(s.substring(2,4),t.board,u).filter(v=>this.resolvePieceByFirstChar(s.charAt(0),v)),p=this.resolveByCol(d,s.substring(1,2));p&&t.move(j.formatSingle(p.point,!1)+s.substring(2,4)+c)}else if(/^[A-Z][a-z]x[a-z]\d$/g.test(s)){let d=j.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,u).filter(v=>this.resolvePieceByFirstChar(s.charAt(0),v)),p=this.resolveByCol(d,s.substring(1,2));p&&t.move(j.formatSingle(p.point,!1)+s.substring(s.indexOf("x")+1)+c)}else this.processR1f2(s,t,u,c)}}}processR1f2(e,t,r,i){if(/^[A-Z]\d[a-z]\d$/g.test(e)){let s=j.findPieceByPossibleMovesContaining(e.substring(2,4),t.board,r).filter(u=>this.resolvePieceByFirstChar(e.charAt(0),u)),c=this.resolveByRow(s,e.substring(1,2));c&&t.move(j.formatSingle(c.point,!1)+e.substring(2,4)+i)}}extractMoves(e){return e.substring(e.lastIndexOf("]")+1).replace(/[0-9]+\./g,"").replace(/\s+/g," ").replace(/{[^}]*}/g,"").trim().split(" ").filter(t=>t)}movePiece(e,t,r){let i=j.translateCoordsToIndex(r,t.reverted);e.point.col=i.xAxis,e.point.row=i.yAxis}hasUpperCase(e){return/[A-Z]/.test(e)}resolvePieceByFirstChar(e,t){let r="";return t instanceof we?r="K":t instanceof hn?r="Q":t instanceof Ye?r="R":t instanceof Ot?r="B":t instanceof kt?r="N":t instanceof Qe&&(r="P"),e===r}isShortCastle(e){return e==="O-O"}removePiece(e,t){let r=j.translateCoordsToIndex(e,t.reverted);t.pieces=t.pieces.filter(i=>!i.point.isEqual(new C(r.yAxis,r.xAxis)))}isLongCastle(e){return e==="O-O-O"}resolveByCol(e,t){let r=j.formatSingle(e[0].point,!1),i=j.formatSingle(e[1].point,!1);return r.substring(0,1)===t?e[0]:e[1]}resolveByRow(e,t){let r=j.formatSingle(e[0].point,!1),i=j.formatSingle(e[1].point,!1);return r.substring(1,2)===t?e[0]:e[1]}replacePromotion(e){return e.replace("=Q","1").replace("=R","2").replace("=B","3").replace("=K","4")}resolvePromotion(e){switch(e){case"Q":return"1";case"R":return"2";case"B":return"3";case"N":return"4"}return""}},fa=class{static getProcessor(e){switch(e){case ha.FEN:return new ku;case ha.PGN:return new Jg}}static getDefaultProcessor(){return new ku}},ha=function(n){return n[n.FEN=1]="FEN",n[n.PGN=2]="PGN",n}(ha||{}),em=class{constructor(e,t,r){this.x=e+.5,this.y=t+.5,this.color=r}isEqual(e){return e&&e.x===this.x&&this.y===e.y}},pa=class{static getClickPoint(e,t,r,i,s){return new C(Math.floor((e.y-t)/(r/8)),Math.floor((e.x-i)/(s/8)))}static getDrawingPoint(e,t,r,i,s,c,u,d,p){let v=e/8,I=Math.floor((r-d)/v),T=Math.floor((i-p)/v),E=t.resolve(s,u,c);return new em(Math.floor(I*v+v/2),Math.floor(T*v+v/2),E)}},tm=class{constructor(e,t,r,i){this.move=e,this.piece=t,this.color=r,this.x=i}setGameStates(e,t,r){this.check=e,this.stalemate=t,this.mate=r}},nm=class{constructor(){this.historyMovesSubject$=new Be([])}get historyMoves(){return this.historyMovesSubject$.value}set historyMoves(e){this.historyMovesSubject$.next(e)}addMove(e){this.historyMoves=[...this.historyMoves,e]}pop(){let e=this.getLastMove();return this.historyMoves=this.historyMoves.filter(t=>t!==e),e}getAll(){return this.historyMoves}clear(){this.historyMoves=[]}getLastMove(){return this.historyMoves[this.getLastMoveIndex()]}getLastMoveIndex(){return this.historyMoves.length-1}},wr=(()=>{class n{}return n.DEFAULT_DARK_TILE_COLOR="rgb(97, 84, 61)",n.DEFAULT_LIGHT_TILE_COLOR="#BAA378",n.DEFAULT_SIZE=500,n.MIN_BOARD_SIZE=100,n.MAX_BOARD_SIZE=4e3,n.DEFAULT_SOURCE_POINT_COLOR="rgba(146, 111, 26, 0.79)",n.DEFAULT_DESTINATION_POINT_COLOR="#b28e1a",n.DEFAULT_LEGAL_MOVE_POINT_COLOR="radial-gradient(#13262F 15%, transparent 20%);",n})(),rm=class{constructor(){this._defaultIcons=!1}get pieceIconInput(){return this._pieceIconInput}set pieceIconInput(e){this._pieceIconInput=e}get defaultIcons(){return this._defaultIcons}set defaultIcons(e){this._defaultIcons=e}isDefaultIcons(){return this.pieceIconInput===void 0||this.pieceIconInput===null}getPieceIcon(e){let t=e.color===y.WHITE;switch(e.constructor){case we:return t?this.pieceIconInput.whiteKingUrl:this.pieceIconInput.blackKingUrl;case hn:return t?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;case Ye:return t?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;case Ot:return t?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;case kt:return t?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl;case Qe:return t?this.pieceIconInput.whitePawnUrl:this.pieceIconInput.blackPawnUrl}}loadDefaultData(){this.pieceIconInput={blackBishopUrl:"",blackKingUrl:"",blackKnightUrl:"",blackQueenUrl:"",blackRookUrl:"",whiteBishopUrl:"",whiteKingUrl:"",whiteKnightUrl:"",whitePawnUrl:"",whiteQueenUrl:"",whiteRookUrl:"",blackPawnUrl:"a"}}},im=class{constructor(){this.defaultXCoords=["a","b","c","d","e","f","g","h"],this.defaultYCoords=[8,7,6,5,4,3,2,1],this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}get xCoords(){return this.currentXCoords}get yCoords(){return this.currentYCoords}reverse(){this.currentXCoords=this.currentXCoords.reverse(),this.currentYCoords=this.currentYCoords.reverse()}reset(){this.init()}init(){this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}},om=class{dragEnded(e,t,r){t||r&&(e.source._dragRef.getRootElement().style.transform=r)}},sm=class{constructor(){this.dragEndProcessor=new om}process(e,t,r){this.dragEndProcessor.dragEnded(e,t,r)}setDragEndProcessor(e){this.dragEndProcessor=e}},am=class{dragStarted(e){let t=e.source.getRootElement().style;t.zIndex="1000",t.position="absolute"}},cm=class{constructor(){this.dragStartProcessor=new am}process(e){this.dragStartProcessor.dragStarted(e)}setDragStartProcessor(e){this.dragStartProcessor=e}},lm=class{resolve(e,t,r){let i="green";return(e||t)&&(i="red"),r&&(i="blue"),(t||e)&&r&&(i="orange"),i}},um=class{constructor(){this.colorProcessor=new lm}resolve(e,t,r){return this.colorProcessor.resolve(e,t,r)}setColorProcessor(e){this.colorProcessor=e}},dm=class{constructor(){this.arrowsSubject$=new Be([]),this.circlesSubject$=new Be([]),this.arrows$=this.arrowsSubject$.asObservable(),this.circles$=this.circlesSubject$.asObservable()}get circles(){return this.circlesSubject$.value}set circles(e){this.circlesSubject$.next(e)}get arrows(){return this.arrowsSubject$.value}set arrows(e){this.arrowsSubject$.next(e)}addCircle(e){this.circles=[...this.circles,e]}reomveCircle(e){this.circles=this.circles.filter(t=>!t.isEqual(e))}addArrow(e){this.arrows=[...this.arrows,e]}removeArrow(e){this.arrows=this.arrows.filter(t=>!t.isEqual(e))}containsCircle(e){return this.circles.some(t=>t.isEqual(e))}containsArrow(e){return this.arrows.some(t=>t.isEqual(e))}clear(){this.arrows=[],this.circles=[]}},fm=class{constructor(){this.pgn=[],this.currentIndex=.5}getPGN(){return this.pgn.join(" ")}getLast(){return this.pgn[this.pgn.length-1]}appendToLast(e){this.pgn[this.pgn.length-1]=this.getLast()+e}processChecks(e,t,r){e?this.appendToLast("#"):t&&this.appendToLast("+")}reset(){this.pgn=[],this.currentIndex=.5}addPromotionChoice(e){switch(e){case 1:this.appendToLast("=Q");break;case 2:this.appendToLast("=R");break;case 3:this.appendToLast("=B");break;case 4:this.appendToLast("=N");break}}removeLast(){this.pgn.pop(),this.currentIndex-=.5}},hm=class extends fm{process(e,t,r,i){this.currentIndex+=.5;let s="";this.currentIndex%Math.floor(this.currentIndex)===0&&(s=this.currentIndex+". ");let c=[],u=[];i&&(c=j.findPieceByPossibleCapturesContaining(j.formatSingle(r,e.reverted),e,t.color).filter(d=>d.constructor.name===t.constructor.name)),u=j.findPieceByPossibleMovesContaining(j.formatSingle(r,e.reverted),e,t.color).filter(d=>d.constructor.name===t.constructor.name),t instanceof Qe&&!i&&c.length===0?s+=j.formatSingle(r,e.reverted):t instanceof Qe&&i?s+=j.formatSingle(t.point,e.reverted).substring(0,1)+"x"+j.formatSingle(r,e.reverted):t instanceof we&&Math.abs(t.point.col-r.col)===2?e.reverted?s+=r.col<2?"O-O":"O-O-O":s+=r.col<3?"O-O-O":"O-O":!(t instanceof Qe)&&c.length===0&&u.length<2?s+=j.getFirstLetterPiece(t)+j.formatSingle(r,e.reverted):u&&u.length===2&&c.length===0?this.isEqualByCol(u[0],u[1])?s+=j.getFirstLetterPiece(t)+j.reverse(e,t.point.row)+j.formatSingle(r,e.reverted):s+=j.getFirstLetterPiece(t)+j.formatCol(e,t.point.col)+j.formatSingle(r,e.reverted):c.length>1?this.isEqualByCol(c[0],c[1])?s+=j.getFirstLetterPiece(t)+j.reverse(e,t.point.row)+"x"+j.formatSingle(r,e.reverted):s+=j.getFirstLetterPiece(t)+j.formatCol(e,t.point.col)+"x"+j.formatSingle(r,e.reverted):s+=j.getFirstLetterPiece(t)+"x"+j.formatSingle(r,e.reverted),this.pgn.push(s)}resolvePieceByFirstChar(e,t){return j.getFirstLetterPiece(t)===e}isEqualByCol(e,t){return e.point.col===t.point.col}},pm=class{constructor(e){this.dragStartStrategy=new cm,this.dragEndStrategy=new sm,this.pgnProcessor=new hm,this.colorStrategy=new um,this.coords=new im,this.heightAndWidth=wr.DEFAULT_SIZE,this.freeMode=!1,this.drawProvider=new dm,this.pieceIconManager=new rm,this.moveHistoryProvider=new nm,this.disabling=!1,this.board=e}checkIfPawnFirstMove(e){e instanceof Qe&&(e.isMovedAlready=!0)}checkIfRookMoved(e){e instanceof Ye&&(e.isMovedAlready=!0)}checkIfKingMoved(e){e instanceof we&&(e.isMovedAlready=!0)}getMoveHistory(){return this.moveHistoryProvider.getAll()}},gm=class{constructor(e,t){this.engineFacade=e,t?this.notationProcessor=t:this.notationProcessor=fa.getDefaultProcessor()}addPieces(){Fu.loadDefaultPieces(this.engineFacade.board)}loadFEN(e){this.notationProcessor.process(e,this.engineFacade)}loadPGN(e){this.notationProcessor.process(e,this.engineFacade)}setEngineFacade(e){this.engineFacade=e}setNotationProcessor(e){this.notationProcessor=e}},Lu=class{constructor(e){this.board=e}},mm=class{constructor(){this.statesSubject$=new Be([])}get states(){return this.statesSubject$.value}set states(e){this.statesSubject$.next(e)}addMove(e){this.states=[...this.states,e]}getStates(){return this.states}pop(){let e=this.getLastState();return this.states=this.states.filter(t=>t!==e),e}isEmpty(){return this.states.length===0}clear(){this.states=[]}getLastState(){return this.states[this.getLastStateIndex()]}getLastStateIndex(){return this.states.length-1}},vm=class{isEqual(e){return e&&this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},ym=class{isEqual(e){return e&&this.drawPoint.isEqual(e.drawPoint)}},_m=class{constructor(e){this.piece=e}},Bu=class extends _m{constructor(e,t,r,i){super(e),this.pointClicked=t,this.color=r,this.board=i}getPossibleCaptures(){return this.piece.getPossibleCaptures().filter(e=>!j.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}getPossibleMoves(){return this.piece.getPossibleMoves().filter(e=>!j.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}},ju=class{static resolvePromotionChoice(e,t,r){let i=t.color===y.WHITE;switch(r){case 1:e.pieces.push(new hn(t.point,t.color,i?q.WHITE_QUEEN:q.BLACK_QUEEN,e));break;case 2:e.pieces.push(new Ye(t.point,t.color,i?q.WHITE_ROOK:q.BLACK_ROOK,e));break;case 3:e.pieces.push(new Ot(t.point,t.color,i?q.WHITE_BISHOP:q.BLACK_BISHOP,e));break;case 4:e.pieces.push(new kt(t.point,t.color,i?q.WHITE_KNIGHT:q.BLACK_KNIGHT,e));break}}},Ti=function(n){return n[n.KING=1]="KING",n[n.QUEEN=2]="QUEEN",n[n.BISHOP=3]="BISHOP",n[n.KNIGHT=4]="KNIGHT",n[n.ROOK=5]="ROOK",n[n.PAWN=6]="PAWN",n}(Ti||{}),iI=function(n){return n[n.LIGHT=1]="LIGHT",n[n.DARK=2]="DARK",n}(iI||{}),wm=class{static create(e,t,r,i){let s,c=r===iI.LIGHT?y.WHITE:y.BLACK;switch(t){case Ti.QUEEN:s=new hn(new C(e.yAxis,e.xAxis),c,c===y.WHITE?q.WHITE_QUEEN:q.BLACK_QUEEN,i);break;case Ti.KING:s=new we(new C(e.yAxis,e.xAxis),c,c===y.WHITE?q.WHITE_KING:q.BLACK_KING,i);break;case Ti.KNIGHT:s=new kt(new C(e.yAxis,e.xAxis),c,c===y.WHITE?q.WHITE_KNIGHT:q.BLACK_KNIGHT,i);break;case Ti.BISHOP:s=new Ot(new C(e.yAxis,e.xAxis),c,c===y.WHITE?q.WHITE_BISHOP:q.BLACK_BISHOP,i);break;case Ti.ROOK:s=new Ye(new C(e.yAxis,e.xAxis),c,c===y.WHITE?q.WHITE_ROOK:q.BLACK_ROOK,i);break;case Ti.PAWN:s=new Qe(new C(e.yAxis,e.xAxis),c,c===y.WHITE?q.WHITE_PAWN:q.BLACK_PAWN,i);break}return s}},Dm=class extends pm{constructor(e,t){super(e),this._selected=!1,this.moveChange=t,this.boardLoader=new gm(this),this.boardLoader.addPieces(),this.boardStateProvider=new mm}reset(){this.boardStateProvider.clear(),this.moveHistoryProvider.clear(),this.boardLoader.addPieces(),this.board.reset(),this.coords.reset(),this.drawProvider.clear(),this.pgnProcessor.reset()}undo(){if(!this.boardStateProvider.isEmpty()){let e=this.boardStateProvider.pop().board;this.board.reverted&&e.reverse(),this.board=e,this.board.possibleCaptures=[],this.board.possibleMoves=[],this.board.activePiece=null,this.moveHistoryProvider.pop(),this.board.calculateFEN(),this.pgnProcessor.removeLast()}}saveMoveClone(){let e=this.board.clone();this.board.reverted&&e.reverse(),this.moveStateProvider.addMove(new Lu(e))}move(e){if(e){let t=j.translateCoordsToIndex(e.substring(0,2),this.board.reverted),r=j.translateCoordsToIndex(e.substring(2,4),this.board.reverted),i=this.board.getPieceByPoint(t.yAxis,t.xAxis);if(i){if(this.board.currentWhitePlayer&&i.color===y.BLACK||!this.board.currentWhitePlayer&&i.color===y.WHITE)return;this.prepareActivePiece(i,i.point),this.board.isPointInPossibleMoves(new C(r.yAxis,r.xAxis))||this.board.isPointInPossibleCaptures(new C(r.yAxis,r.xAxis))?(this.saveClone(),this.movePiece(i,new C(r.yAxis,r.xAxis),e.length===5?+e.substring(4,5):0),this.board.lastMoveSrc=new C(t.yAxis,t.xAxis),this.board.lastMoveDest=new C(r.yAxis,r.xAxis),this.disableSelection()):this.disableSelection()}}}prepareActivePiece(e,t){this.board.activePiece=e,this._selected=!0,this.board.possibleCaptures=new Bu(e,t,this.board.currentWhitePlayer?y.WHITE:y.BLACK,this.board).getPossibleCaptures(),this.board.possibleMoves=new Bu(e,t,this.board.currentWhitePlayer?y.WHITE:y.BLACK,this.board).getPossibleMoves()}onPieceClicked(e,t){this.board.currentWhitePlayer&&e.color===y.BLACK||!this.board.currentWhitePlayer&&e.color===y.WHITE||this.prepareActivePiece(e,t)}handleClickEvent(e,t){let r=!1;(this.board.isPointInPossibleMoves(e)||this.board.isPointInPossibleCaptures(e)||this.freeMode)&&e.isInRange()&&(this.saveClone(),this.board.lastMoveSrc=new C(this.board.activePiece.point.row,this.board.activePiece.point.col),this.board.lastMoveDest=e.clone(),this.movePiece(this.board.activePiece,e),this.board.activePiece.point.isEqual(this.board.lastMoveSrc)||(r=!0)),(t||r)&&this.disableSelection(),this.disableSelection();let i=this.board.getPieceByPoint(e.row,e.col);i&&!r&&(this.onFreeMode(i),this.onPieceClicked(i,e))}onMouseDown(e,t,r,i){if(this.moveDone=!1,e.button!==0){this.drawPoint=pa.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i);return}if(this.drawProvider.clear(),this.board.activePiece&&t.isEqual(this.board.activePiece.point)){this.disabling=!0;return}let s=this.board.getPieceByPoint(t.row,t.col);if(this.freeMode&&s){if(e.ctrlKey){this.board.pieces=this.board.pieces.filter(c=>c!==s);return}this.board.currentWhitePlayer=s.color===y.WHITE}this.isPieceDisabled(s)||(this._selected?this.handleClickEvent(t,!0):s&&(this.onFreeMode(s),this.onPieceClicked(s,t)))}onMouseUp(e,t,r,i){if(this.moveDone=!1,e.button!==0&&!this.drawDisabled){this.addDrawPoint(e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i);return}if(this.drawProvider.clear(),this.dragDisabled)return;if(this.board.activePiece&&t.isEqual(this.board.activePiece.point)&&this.disabling){this.disableSelection(),this.disabling=!1;return}let s=this.board.getPieceByPoint(t.row,t.col);this.isPieceDisabled(s)||this._selected&&this.handleClickEvent(t,!1)}saveClone(){let e=this.board.clone();this.board.reverted&&e.reverse(),this.boardStateProvider.addMove(new Lu(e))}movePiece(e,t,r){let i=this.board.pieces.find(s=>s.point.col===t.col&&s.point.row===t.row);if(this.pgnProcessor.process(this.board,e,t,i),i&&e.color!==i.color)this.board.pieces=this.board.pieces.filter(s=>s!==i);else if(i&&e.color===i.color)return;if(this.historyMoveCandidate=new tm(j.format(e.point,t,this.board.reverted),e.constant.name,e.color===y.WHITE?"white":"black",!!i),this.moveHistoryProvider.addMove(this.historyMoveCandidate),e instanceof we&&Math.abs(t.col-e.point.col)>1)if(t.col<3){let c=this.board.getPieceByField(e.point.row,0);this.freeMode||(c.point.col=this.board.reverted?2:3)}else{let c=this.board.getPieceByField(e.point.row,7);this.freeMode||(c.point.col=this.board.reverted?4:5)}e instanceof Qe?(this.board.checkIfPawnTakesEnPassant(t),this.board.checkIfPawnEnpassanted(e,t)):(this.board.enPassantPoint=null,this.board.enPassantPiece=null),e.point=t,this.increaseFullMoveCount(),this.board.currentWhitePlayer=!this.board.currentWhitePlayer,this.checkForPawnPromote(e,r)||this.afterMoveActions()}checkForPawnPromote(e,t){if(e instanceof Qe&&(e.point.row===0||e.point.row===7))return this.board.pieces=this.board.pieces.filter(r=>r!==e),t?(ju.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)):this.openPromoteDialog(e),!0}afterMoveActions(e){this.checkIfPawnFirstMove(this.board.activePiece),this.checkIfRookMoved(this.board.activePiece),this.checkIfKingMoved(this.board.activePiece),this.board.blackKingChecked=this.board.isKingInCheck(y.BLACK,this.board.pieces),this.board.whiteKingChecked=this.board.isKingInCheck(y.WHITE,this.board.pieces);let t=this.board.blackKingChecked||this.board.whiteKingChecked,r=this.checkForPossibleMoves(y.BLACK)||this.checkForPossibleMoves(y.WHITE),i=this.checkForPat(y.BLACK)||this.checkForPat(y.WHITE);this.historyMoveCandidate.setGameStates(t,i,r),this.pgnProcessor.processChecks(r,t,i),this.pgnProcessor.addPromotionChoice(e),this.disabling=!1,this.board.calculateFEN();let s=this.moveHistoryProvider.getLastMove();s&&e&&(s.move+=e),this.moveChange.emit(Oe(F({},s),{check:t,checkmate:r,stalemate:i,fen:this.board.fen,pgn:{pgn:this.pgnProcessor.getPGN()},freeMode:this.freeMode})),this.moveDone=!0}checkForPat(e){if(e===y.WHITE&&!this.board.whiteKingChecked)return this.checkForPossibleMoves(e);if(e===y.BLACK&&!this.board.blackKingChecked)return this.checkForPossibleMoves(e)}openPromoteDialog(e){e.color===this.board.activePiece.color&&this.modal.open(t=>{ju.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)})}checkForPossibleMoves(e){return!this.board.pieces.filter(t=>t.color===e).some(t=>t.getPossibleMoves().some(r=>!j.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board))||t.getPossibleCaptures().some(r=>!j.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board)))}disableSelection(){this._selected=!1,this.board.possibleCaptures=[],this.board.activePiece=null,this.board.possibleMoves=[]}onFreeMode(e){!this.freeMode||e===void 0||e===null||(this.board.currentWhitePlayer=e.color===y.WHITE)}isPieceDisabled(e){return e&&e.point&&this.board.possibleCaptures.find(r=>r.col===e.point.col&&r.row===e.point.row)?!1:e&&(this.lightDisabled&&e.color===y.WHITE||this.darkDisabled&&e.color===y.BLACK)}addDrawPoint(e,t,r,i,s,c,u){let d=pa.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e,t,r,i,s,c,u);if(this.drawPoint.isEqual(d)){let p=new ym;p.drawPoint=d,this.drawProvider.containsCircle(p)?this.drawProvider.reomveCircle(p):this.drawProvider.addCircle(p)}else{let p=new vm;p.start=this.drawPoint,p.end=d,this.drawProvider.containsArrow(p)?this.drawProvider.removeArrow(p):this.drawProvider.addArrow(p)}}increaseFullMoveCount(){this.board.currentWhitePlayer||++this.board.fullMoveCount}addPiece(e,t,r){if(this.freeMode&&r&&e>0&&t>0){let i=j.translateCoordsToIndex(r,this.board.reverted),s=this.board.getPieceByPoint(i.yAxis,i.xAxis);s&&(this.board.pieces=this.board.pieces.filter(u=>u!==s));let c=wm.create(i,e,t,this.board);this.saveClone(),this.board.pieces.push(c),this.afterMoveActions()}}},bm=class{constructor(){this.board=[],this.pieces=[],this.enPassantPoint=null,this.enPassantPiece=null,this.lastMoveSrc=null,this.lastMoveDest=null,this.possibleCaptures=[],this.possibleMoves=[],this.currentWhitePlayer=!0,this.reverted=!1,this.fullMoveCount=1;for(let e=0;e<8;++e){this.board[e]=[];for(let t=0;t<8;++t)this.board[e][t]=0}}isXYInPossibleMoves(e,t){return this.possibleMoves.some(r=>r.row===e&&r.col===t)}isXYInPossibleCaptures(e,t){return this.possibleCaptures.some(r=>r.row===e&&r.col===t)}isXYInSourceMove(e,t){return this.lastMoveSrc&&this.lastMoveSrc.row===e&&this.lastMoveSrc.col===t}isXYInDestMove(e,t){return this.lastMoveDest&&this.lastMoveDest.row===e&&this.lastMoveDest.col===t}isXYInActiveMove(e,t){return this.activePiece&&this.activePiece.point.row===e&&this.activePiece.point.col===t}isPointInPossibleMoves(e){return this.possibleMoves.some(t=>t.row===e.row&&t.col===e.col)}isPointInPossibleCaptures(e){return this.possibleCaptures.some(t=>t.row===e.row&&t.col===e.col)}reset(){this.lastMoveDest=null,this.lastMoveSrc=null,this.whiteKingChecked=!1,this.blackKingChecked=!1,this.possibleCaptures=[],this.possibleMoves=[],this.activePiece=null,this.reverted=!1,this.currentWhitePlayer=!0,this.enPassantPoint=null,this.enPassantPiece=null,this.fullMoveCount=1,this.calculateFEN()}reverse(){this.reverted=!this.reverted,this.activePiece=null,this.possibleMoves=[],this.possibleCaptures=[],this.pieces.forEach(e=>this.reversePoint(e.point)),this.reversePoint(this.lastMoveSrc),this.reversePoint(this.lastMoveDest),this.enPassantPoint&&this.enPassantPiece&&this.reversePoint(this.enPassantPoint)}clone(){return(0,rI.cloneDeep)(this)}isFieldTakenByEnemy(e,t,r){return e>7||e<0||t>7||t<0?!1:this.pieces.some(i=>i.point.col===t&&i.point.row===e&&i.color===r)}isFieldEmpty(e,t){return e>7||e<0||t>7||t<0?!1:!this.pieces.some(r=>r.point.col===t&&r.point.row===e)}isFieldUnderAttack(e,t,r){return this.pieces.filter(i=>i.color===r).some(i=>i.getCoveredFields().some(s=>s.col===t&&s.row===e))}getPieceByField(e,t){if(!this.isFieldEmpty(e,t))return this.pieces.find(r=>r.point.col===t&&r.point.row===e)}isKingInCheck(e,t){let r=t.find(i=>i.color===e&&i instanceof we);return r?t.some(i=>i.getPossibleCaptures().some(s=>s.col===r.point.col&&s.row===r.point.row)&&i.color!==e):!1}getKingByColor(e){return this.pieces.find(t=>t instanceof we&&t.color===e)}getCastleFENString(e){let t=this.getKingByColor(e);if(!t||t.isMovedAlready)return"";let r="",i=this.getPieceByField(t.point.row,0),s=this.getPieceByField(t.point.row,7);return s instanceof Ye&&s.color===e&&(s.isMovedAlready||(r+=this.reverted?"q":"k")),i instanceof Ye&&i.color===e&&(i.isMovedAlready||(r+=this.reverted?"k":"q")),r=r.split("").sort().join(""),e===y.BLACK?r:r.toUpperCase()}getEnPassantFENString(){return this.enPassantPoint?this.reverted?String.fromCharCode(104-this.enPassantPoint.col)+(this.enPassantPoint.row+1):String.fromCharCode(97+this.enPassantPoint.col)+(Math.abs(this.enPassantPoint.row-7)+1):"-"}calculateFEN(){let e="";for(let s=0;s<8;++s){let c=0;for(let u=0;u<8;++u){let d=this.pieces.find(p=>p.point.col===u&&p.point.row===s);d?(c>0&&(e+=c,c=0),d instanceof Ye?e+=d.color===y.BLACK?"r":"R":d instanceof kt?e+=d.color===y.BLACK?"n":"N":d instanceof Ot?e+=d.color===y.BLACK?"b":"B":d instanceof hn?e+=d.color===y.BLACK?"q":"Q":d instanceof we?e+=d.color===y.BLACK?"k":"K":d instanceof Qe&&(e+=d.color===y.BLACK?"p":"P")):++c}c>0&&(e+=c),e+="/"}e=e.substr(0,e.length-1),this.reverted&&(e=e.split("").reverse().join("")),e+=" "+(this.currentWhitePlayer?"w":"b");let t=this.getCastleFENString(y.WHITE),r=this.getCastleFENString(y.BLACK),i=t+r;i||(i="-"),e+=" "+i,e+=" "+this.getEnPassantFENString(),e+=" 0",e+=" "+this.fullMoveCount,this.fen=e}isXYInPointSelection(e,t){return!1}reversePoint(e){e&&(e.row=Math.abs(e.row-7),e.col=Math.abs(e.col-7))}getPieceByPoint(e,t){return e=Math.floor(e),t=Math.floor(t),this.pieces.find(r=>r.point.col===t&&r.point.row===e)}checkIfPawnTakesEnPassant(e){e.isEqual(this.enPassantPoint)&&(this.pieces=this.pieces.filter(t=>t!==this.enPassantPiece),this.enPassantPoint=null,this.enPassantPiece=null)}checkIfPawnEnpassanted(e,t){Math.abs(e.point.row-t.row)>1?(this.enPassantPiece=e,this.enPassantPoint=new C((e.point.row+t.row)/2,e.point.col)):(this.enPassantPoint=null,this.enPassantPiece=null)}isKingChecked(e){if(e instanceof we)return e.color===y.WHITE?this.whiteKingChecked:this.blackKingChecked}getCurrentPlayerColor(){return this.currentWhitePlayer?y.WHITE:y.BLACK}},oI=(()=>{class n{constructor(){this.componentMethodCallSource=new ne,this.componentMethodCalled$=this.componentMethodCallSource.asObservable()}reset(){this.componentMethodCallSource.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m2=(()=>{class n{constructor(){this.color="white",this.opened=!1}open(t){this.opened=!0,this.onCloseCallback=t,this.modal.nativeElement.style.display="block"}changeSelection(t){this.modal.nativeElement.style.display="none",this.opened=!1,this.onCloseCallback(t)}getPieceIcon(t){let r="";switch(t.toLowerCase()){case"queen":r=this.color==="white"?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;break;case"rook":r=this.color==="white"?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;break;case"bishop":r=this.color==="white"?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;break;case"knight":r=this.color==="white"?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl;break}return r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Rt({type:n,selectors:[["app-piece-promotion-modal"]],viewQuery:function(t,r){if(t&1&&xn(t2,5),t&2){let i;wt(i=Dt())&&(r.modal=i.first)}},inputs:{pieceIconInput:"pieceIconInput",color:"color"},standalone:!1,decls:6,vars:2,consts:[["myModal",""],[1,"container"],[1,"wrapper"],[1,"content"],["class","piece-wrapper",4,"ngIf"],[1,"piece-wrapper"],[1,"piece",3,"click"],["alt","Queen",3,"src"],["alt","Rook",3,"src"],["alt","Bishop",3,"src"],["alt","Knight",3,"src"]],template:function(t,r){t&1&&(_e(0,"div",1,0)(2,"div",2)(3,"div",3),dn(4,n2,9,4,"div",4)(5,r2,9,0,"div",4),ve()()()),t&2&&(Ie(4),xe("ngIf",r.pieceIconInput),Ie(),xe("ngIf",!r.pieceIconInput))},dependencies:[Ur],styles:[".container[_ngcontent-%COMP%]{display:none;position:absolute;z-index:9999;top:0;color:#000;width:100%;height:100%;overflow:auto;background-color:#0006}.wrapper[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;position:relative;top:30%;font-size:100%;height:40%;padding:10px;border:1px solid #888;width:90%}.piece[_ngcontent-%COMP%]{font-size:5rem;height:100%;width:25%;cursor:pointer;display:inline-block;text-align:center}.piece[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.piece[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:5px}.piece-wrapper[_ngcontent-%COMP%]{height:80%;width:100%}#close-button[_ngcontent-%COMP%]{border-radius:4px;background-color:#4caf50;border:none;color:#fff;padding-left:5px;padding-right:5px;text-align:center;text-decoration:none;display:inline-block}.selected[_ngcontent-%COMP%]{border:2px solid #00B919;border-radius:4px;box-sizing:border-box}"]}),n})(),sI=(()=>{class n{constructor(t){this.ngxChessBoardService=t,this.darkTileColor=wr.DEFAULT_DARK_TILE_COLOR,this.lightTileColor=wr.DEFAULT_LIGHT_TILE_COLOR,this.showCoords=!0,this.sourcePointColor=wr.DEFAULT_SOURCE_POINT_COLOR,this.destinationPointColor=wr.DEFAULT_DESTINATION_POINT_COLOR,this.legalMovesPointColor=wr.DEFAULT_LEGAL_MOVE_POINT_COLOR,this.showLastMove=!0,this.showLegalMoves=!0,this.showActivePiece=!0,this.showPossibleCaptures=!0,this.moveChange=new Te,this.checkmate=new Te,this.stalemate=new Te,this.selected=!1,this.isDragging=!1,this.startTransition="",this.engineFacade=new Dm(new bm,this.moveChange)}set size(t){t&&t>=wr.MIN_BOARD_SIZE&&t<=wr.MAX_BOARD_SIZE?this.engineFacade.heightAndWidth=t:this.engineFacade.heightAndWidth=wr.DEFAULT_SIZE,this.engineFacade.drawProvider.clear(),this.calculatePieceSize()}set freeMode(t){this.engineFacade.freeMode=t}set dragDisabled(t){this.engineFacade.dragDisabled=t}set drawDisabled(t){this.engineFacade.drawDisabled=t}set pieceIcons(t){this.engineFacade.pieceIconManager.pieceIconInput=t}set lightDisabled(t){this.engineFacade.lightDisabled=t}set darkDisabled(t){this.engineFacade.darkDisabled=t}onRightClick(t){t.preventDefault()}ngOnChanges(t){(t.lightDisabled&&this.lightDisabled&&this.engineFacade.board.currentWhitePlayer||t.darkDisabled&&this.darkDisabled&&!this.engineFacade.board.currentWhitePlayer)&&(this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[])}ngOnInit(){this.ngxChessBoardService.componentMethodCalled$.subscribe(()=>{this.engineFacade.reset()})}ngAfterViewInit(){this.engineFacade.modal=this.modal,this.calculatePieceSize()}onMouseUp(t){this.engineFacade.onMouseUp(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}reverse(){this.selected=!1,this.engineFacade.board.reverse(),this.engineFacade.coords.reverse()}updateBoard(t){this.engineFacade.board=t,this.boardLoader.setEngineFacade(this.engineFacade),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[]}setFEN(t){try{this.engineFacade.boardLoader.setNotationProcessor(fa.getProcessor(ha.FEN)),this.engineFacade.boardLoader.loadFEN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch{this.engineFacade.boardLoader.addPieces()}}setPGN(t){try{this.engineFacade.pgnProcessor.reset(),this.engineFacade.boardLoader.setNotationProcessor(fa.getProcessor(ha.PGN)),this.engineFacade.boardLoader.loadPGN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){console.log(r),this.engineFacade.boardLoader.addPieces()}}getFEN(){return this.engineFacade.board.fen}dragEnded(t){this.isDragging=!1,this.engineFacade.dragEndStrategy.process(t,this.engineFacade.moveDone,this.startTransition)}dragStart(t){this.isDragging=!0;let r=t.source.getRootElement().style.transform.split(") ");this.startTransition=r.length===2?r[1]:r[0],this.engineFacade.dragStartStrategy.process(t)}onMouseDown(t){this.engineFacade.onMouseDown(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}getClickPoint(t){return pa.getClickPoint(t,this.boardRef.nativeElement.getBoundingClientRect().top,this.boardRef.nativeElement.getBoundingClientRect().height,this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().width)}calculatePieceSize(){this.pieceSize=this.engineFacade.heightAndWidth/8}getCustomPieceIcons(t){return JSON.parse(`{ "background-image": "url('${this.engineFacade.pieceIconManager.getPieceIcon(t)}')"}`)}move(t){this.engineFacade.move(t)}getMoveHistory(){return this.engineFacade.getMoveHistory()}reset(){this.engineFacade.reset()}undo(){this.engineFacade.undo()}addPiece(t,r,i){this.engineFacade.addPiece(t,r,i)}getPGN(){return this.engineFacade.pgnProcessor.getPGN()}dragMoved(t){let r=t.pointerPosition.x-t.source.getRootElement().parentElement.getBoundingClientRect().left-this.pieceSize/2,i=t.pointerPosition.y-t.source.getRootElement().parentElement.getBoundingClientRect().top-this.pieceSize/2;t.source.getRootElement().style.transform="translate3d("+r+"px, "+i+"px,0px)"}getTileBackgroundColor(t,r){let i=(t+r)%2===0?this.lightTileColor:this.darkTileColor;return this.showLastMove&&(this.engineFacade.board.isXYInSourceMove(t,r)&&(i=this.sourcePointColor),this.engineFacade.board.isXYInDestMove(t,r)&&(i=this.destinationPointColor)),i}}return n.\u0275fac=function(t){return new(t||n)(ye(oI))},n.\u0275cmp=Rt({type:n,selectors:[["ngx-chess-board"]],viewQuery:function(t,r){if(t&1&&(xn(i2,5),xn(o2,5)),t&2){let i;wt(i=Dt())&&(r.boardRef=i.first),wt(i=Dt())&&(r.modal=i.first)}},hostBindings:function(t,r){t&1&&it("contextmenu",function(s){return r.onRightClick(s)})},inputs:{darkTileColor:"darkTileColor",lightTileColor:"lightTileColor",showCoords:"showCoords",sourcePointColor:"sourcePointColor",destinationPointColor:"destinationPointColor",legalMovesPointColor:"legalMovesPointColor",showLastMove:"showLastMove",showLegalMoves:"showLegalMoves",showActivePiece:"showActivePiece",showPossibleCaptures:"showPossibleCaptures",size:"size",freeMode:"freeMode",dragDisabled:"dragDisabled",drawDisabled:"drawDisabled",pieceIcons:"pieceIcons",lightDisabled:"lightDisabled",darkDisabled:"darkDisabled"},outputs:{moveChange:"moveChange",checkmate:"checkmate",stalemate:"stalemate"},standalone:!1,features:[Un],decls:13,vars:18,consts:[["boardRef",""],["modal",""],["id","board",3,"pointerdown","pointerup"],["id","drag"],["class","single-piece","cdkDrag","",3,"cdkDragDisabled","innerHTML","ngStyle","transform","max-height","font-size","width","height","cdkDragEnded","cdkDragMoved","cdkDragStarted",4,"ngFor","ngForOf"],["class","board-row",4,"ngFor","ngForOf"],[2,"position","absolute","top","0","pointer-events","none"],[4,"ngFor","ngForOf"],["class","arrow",4,"ngFor","ngForOf"],["fill-opacity","0.0","stroke-width","2",4,"ngFor","ngForOf"],[3,"pieceIconInput","color"],["cdkDrag","",1,"single-piece",3,"cdkDragEnded","cdkDragMoved","cdkDragStarted","cdkDragDisabled","innerHTML","ngStyle"],[1,"board-row"],["class","board-col",3,"current-selection","king-check","point-circle","possible-capture","possible-point","background-color",4,"ngFor","ngForOf"],[1,"board-col"],["class","yCoord",3,"color","font-size",4,"ngIf"],["class","xCoord",3,"color","font-size",4,"ngIf"],["style","height:100%; width:100%",4,"ngIf"],[1,"yCoord"],[1,"xCoord"],[2,"height","100%","width","100%"],[3,"ngClass"],["markerHeight","13","markerWidth","13","orient","auto","refX","9","refY","6",3,"id"],["d","M2,2 L2,11 L10,6 L2,2"],[1,"arrow"],["fill-opacity","0.0","stroke-width","2"]],template:function(t,r){if(t&1){let i=Mn();_e(0,"div",2,0),it("pointerdown",function(c){Ke(i);let u=zp(12);return Ze(!u.opened&&r.onMouseDown(c))})("pointerup",function(c){Ke(i);let u=zp(12);return Ze(!u.opened&&r.onMouseUp(c))}),_e(2,"div",3),dn(3,a2,1,13,"div",4)(4,f2,2,1,"div",5),ve(),As(),_e(5,"svg",6),dn(6,h2,3,3,"defs",7)(7,p2,1,6,"line",8),Gp(8,"async"),dn(9,g2,1,4,"circle",9),Gp(10,"async"),ve(),ND(),rt(11,"app-piece-promotion-modal",10,1),ve()}t&2&&(Wn("height",r.engineFacade.heightAndWidth,"px")("width",r.engineFacade.heightAndWidth,"px"),Ie(3),xe("ngForOf",r.engineFacade.board.pieces),Ie(),xe("ngForOf",r.engineFacade.board.board),Ie(),wi("height",r.engineFacade.heightAndWidth)("width",r.engineFacade.heightAndWidth),Ie(),xe("ngForOf",fC(17,s2)),Ie(),xe("ngForOf",qp(8,13,r.engineFacade.drawProvider.arrows$)),Ie(2),xe("ngForOf",qp(10,15,r.engineFacade.drawProvider.circles$)),Ie(2),xe("pieceIconInput",r.engineFacade.pieceIconManager.pieceIconInput)("color",r.engineFacade.board.getCurrentPlayerColor()?"white":"black"))},dependencies:[m2,ql,eI,rg,Ur,ng,ig],styles:['@charset "UTF-8";#board[_ngcontent-%COMP%]{font-family:Courier New,serif;position:relative}.board-row[_ngcontent-%COMP%]{display:block;width:100%;height:12.5%;position:relative}.board-col[_ngcontent-%COMP%]{position:relative;display:inline-block;width:12.5%;vertical-align:top;cursor:default;height:100%}.piece[_ngcontent-%COMP%]{height:100%;cursor:-webkit-grab;cursor:grab;width:100%;-moz-user-select:none;user-select:none;-webkit-user-select:none;background-size:cover;justify-content:center;text-align:center;color:#000!important;box-sizing:border-box}.piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}#drag[_ngcontent-%COMP%]{height:100%;width:100%}.possible-point[_ngcontent-%COMP%]{background:radial-gradient(#13262F 15%,transparent 20%)}.possible-point[_ngcontent-%COMP%]:hover, .possible-capture[_ngcontent-%COMP%]:hover{opacity:.4}.possible-capture[_ngcontent-%COMP%]{background:radial-gradient(transparent 0%,transparent 80%,#13262F 80%);opacity:.5;box-sizing:border-box;margin:0;padding:0}.king-check[_ngcontent-%COMP%]{background:radial-gradient(ellipse at center,red 0%,#e70000 25%,rgba(169,0,0,0) 89%,rgba(158,0,0,0) 100%)}.current-selection[_ngcontent-%COMP%]{background-color:#72620b!important}.yCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;right:.2em;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.xCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;left:.2em;bottom:0;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.hovering[_ngcontent-%COMP%]{background-color:red!important}.arrow[_ngcontent-%COMP%]{stroke-width:2}svg[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 0px #111) drop-shadow(-1px 1px 0px #111) drop-shadow(1px -1px 0px #111) drop-shadow(-1px -1px 0px #111)}[_nghost-%COMP%]{display:inline-block!important}.single-piece[_ngcontent-%COMP%]{position:absolute;z-index:999;justify-content:center;text-align:center;-moz-user-select:none;user-select:none;-webkit-user-select:none;color:#000!important;cursor:-webkit-grab;cursor:grab;background-size:cover}.single-piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}.cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-dragging){transition:transform .2s cubic-bezier(0,.3,.14,.49)}']}),n})(),aI=(()=>{class n{static forRoot(){return{ngModule:n,providers:[oI]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=un({type:n}),n.\u0275inj=an({imports:[[$r,tI]]}),n})();var y2=["board"];function _2(n,e){if(n&1){let t=Mn();_e(0,"button",4),it("click",function(){Ke(t);let i=Ae();return Ze(i.resetBoard())}),fn(1," Create new game "),ve()}}var ga=class n{board;isRotated=!1;isDisabled=!1;color="white";moveMade=new Te;suppressMoveEvent=!1;isCheckmate=!1;ngAfterViewInit(){this.isRotated&&this.board&&this.board.reverse&&this.board.reverse()}ngOnChanges(e){e.isRotated&&!e.isRotated.firstChange&&this.board&&this.board.reverse&&e.isRotated.currentValue&&this.board.reverse()}handleMove(e){this.suppressMoveEvent||this.moveMade.emit(e)}makeMove(e){this.board&&(this.suppressMoveEvent=!0,this.board.move(e),this.suppressMoveEvent=!1)}resetBoard(){this.board&&(this.board.reset(),this.isCheckmate=!1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-chess-board"]],viewQuery:function(t,r){if(t&1&&xn(y2,5),t&2){let i;wt(i=Dt())&&(r.board=i.first)}},inputs:{isRotated:"isRotated",isDisabled:"isDisabled",color:"color"},outputs:{moveMade:"moveMade"},features:[Un],decls:4,vars:10,consts:[["board",""],[1,"chess-board"],[3,"moveChange","lightTileColor","darkTileColor","size","disabled","showCoords"],["style","margin-top: 16px; width: 100%",3,"click",4,"ngIf"],[2,"margin-top","16px","width","100%",3,"click"]],template:function(t,r){if(t&1){let i=Mn();_e(0,"div",1)(1,"ngx-chess-board",2,0),it("moveChange",function(c){return Ke(i),Ze(r.handleMove(c))}),ve(),dn(3,_2,2,0,"button",3),ve()}t&2&&(Hr("rotated",r.isRotated)("disabled",r.isDisabled),Ie(),xe("lightTileColor","#f0d9b5")("darkTileColor","#b58863")("size",600)("disabled",r.isDisabled)("showCoords",!0),Ie(2),xe("ngIf",r.isCheckmate))},dependencies:[$r,Ur,aI,sI],styles:[".chess-board[_ngcontent-%COMP%]{width:100%;height:100%;max-width:min(100vh - 40px,600px);max-height:min(100vh - 40px,600px);margin:0 auto;border:2px solid #333;position:relative}.chess-board.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.board-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#f0f0f0;color:#666;font-size:1.2rem}[_nghost-%COMP%]     ngx-chess-board{width:100%;height:100%}"]})};var Hu=class n{messageSubject=new Be(null);constructor(){window.addEventListener("message",e=>{e.data&&typeof e.data=="object"&&this.messageSubject.next(e.data)})}sendMessage(e){window.parent.postMessage(e,"*")}getMessages(){return this.messageSubject.asObservable()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function D2(n,e){if(n&1){let t=Mn();_e(0,"app-chess-board",3),it("moveMade",function(i){Ke(t);let s=Ae();return Ze(s.handleMove(i))}),ve()}if(n&2){let t=Ae();xe("isRotated",t.isRotated)("isDisabled",t.isDisabled)}}function b2(n,e){if(n&1){let t=Mn();_e(0,"div",4)(1,"div",5)(2,"h2"),fn(3,"Checkmate! Game over."),ve(),_e(4,"button",6),it("click",function(){Ke(t);let i=Ae();return Ze(i.createNewGame())}),fn(5,"Create new game"),ve()()()}}var Vu=class n{constructor(e,t){this.route=e;this.chessCommunication=t;this.subscription=this.chessCommunication.getMessages().subscribe(r=>{r&&this.handleIncomingMessage(r)})}chessBoard;isRotated=!1;isDisabled=!1;currentPlayer="1";playerReady=!1;isCheckmate=!1;subscription;ngOnInit(){this.route.queryParams.subscribe(e=>{this.currentPlayer=e.player,this.playerReady=!0;let t=localStorage.getItem("chessGameState");t?setTimeout(()=>{if(this.chessBoard?.board){this.chessBoard.board.setFEN(t);let r=t.split(" ")[1];this.isRotated=this.currentPlayer==="2",this.isDisabled=r==="w"&&this.currentPlayer==="2"||r==="b"&&this.currentPlayer==="1"}}):(this.isRotated=this.currentPlayer==="2",this.isDisabled=this.currentPlayer==="2")})}ngOnDestroy(){this.subscription.unsubscribe()}handleMove(e){if((e.checkmate||e.mate)&&(this.isCheckmate=!0,this.chessCommunication.sendMessage({type:"CHECKMATE",data:null,player:this.currentPlayer})),this.chessBoard&&this.chessBoard.board&&this.chessBoard.board.getFEN){let t=this.chessBoard.board.getFEN();localStorage.setItem("chessGameState",t)}this.chessCommunication.sendMessage({type:"MOVE",data:e.move,player:this.currentPlayer}),this.isDisabled=!0}handleIncomingMessage(e){switch(e.type){case"MOVE":e.player!==this.currentPlayer&&(this.chessBoard.makeMove(e.data),this.isDisabled=!1);break;case"RESET":this.chessBoard.resetBoard(),this.isCheckmate=!1,this.isDisabled=this.currentPlayer==="2",localStorage.removeItem("chessGameState");break;case"CHECKMATE":this.isCheckmate=!0;break}}createNewGame(){this.chessBoard&&(this.chessBoard.resetBoard(),this.isCheckmate=!1,this.isDisabled=this.currentPlayer==="2",localStorage.removeItem("chessGameState"),this.chessCommunication.sendMessage({type:"RESET",data:null,player:this.currentPlayer}))}static \u0275fac=function(t){return new(t||n)(ye(Kn),ye(Hu))};static \u0275cmp=Rt({type:n,selectors:[["app-iframe-page"]],viewQuery:function(t,r){if(t&1&&xn(ga,5),t&2){let i;wt(i=Dt())&&(r.chessBoard=i.first)}},decls:3,vars:2,consts:[[1,"iframe-page"],[3,"isRotated","isDisabled","moveMade",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[3,"moveMade","isRotated","isDisabled"],[1,"modal-overlay"],[1,"modal"],[3,"click"]],template:function(t,r){t&1&&(_e(0,"div",0),dn(1,D2,1,2,"app-chess-board",1)(2,b2,6,0,"div",2),ve()),t&2&&(Ie(),xe("ngIf",r.playerReady),Ie(),xe("ngIf",r.isCheckmate))},dependencies:[$r,Ur,ga],styles:["[_nghost-%COMP%]{display:block;height:100%;overflow:hidden}.iframe-page[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;padding:20px;overflow:hidden}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;text-align:center;box-shadow:0 2px 16px #0003}"]})};var cI=[{path:"",redirectTo:"/mainpage",pathMatch:"full"},{path:"mainpage",component:Mu},{path:"iframepage",component:Vu}];var lI={providers:[gC({eventCoalescing:!0}),jg(cI)]};var Uu=class n{title="chess-game";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&rt(0,"router-outlet")},dependencies:[ra],encapsulation:2})};gg(Uu,lI).catch(n=>console.error(n));
